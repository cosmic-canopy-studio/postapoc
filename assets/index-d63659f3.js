var rd=Object.defineProperty;var ad=(M,E,R)=>E in M?rd(M,E,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[E]=R;var Et=(M,E,R)=>(ad(M,typeof E!="symbol"?E+"":E,R),R);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))I(V);new MutationObserver(V=>{for(const Z of V)if(Z.type==="childList")for(const v of Z.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&I(v)}).observe(document,{childList:!0,subtree:!0});function R(V){const Z={};return V.integrity&&(Z.integrity=V.integrity),V.referrerPolicy&&(Z.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?Z.credentials="include":V.crossOrigin==="anonymous"?Z.credentials="omit":Z.credentials="same-origin",Z}function I(V){if(V.ep)return;V.ep=!0;const Z=R(V);fetch(V.href,Z)}})();var wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(M){return M&&M.__esModule&&Object.prototype.hasOwnProperty.call(M,"default")?M.default:M}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lo;(function(M){(function(E){var R=typeof wi=="object"?wi:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),I=V(M);typeof R.Reflect>"u"?R.Reflect=M:I=V(R.Reflect,I),E(I);function V(Z,v){return function(x,t){typeof Z[x]!="function"&&Object.defineProperty(Z,x,{configurable:!0,writable:!0,value:t}),v&&v(x,t)}}})(function(E){var R=Object.prototype.hasOwnProperty,I=typeof Symbol=="function",V=I&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Z=I&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",v=typeof Object.create=="function",x={__proto__:[]}instanceof Array,t=!v&&!x,l={create:v?function(){return vt(Object.create(null))}:x?function(){return vt({__proto__:null})}:function(){return vt({})},has:t?function(et,ot){return R.call(et,ot)}:function(et,ot){return ot in et},get:t?function(et,ot){return R.call(et,ot)?et[ot]:void 0}:function(et,ot){return et[ot]}},c=Object.getPrototypeOf(Function),a=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",r=!a&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Tt(),s=!a&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:St(),e=!a&&typeof WeakMap=="function"?WeakMap:ft(),i=new e;function h(et,ot,ut,ct){if(j(ut)){if(!$(et))throw new TypeError;if(!_(ot))throw new TypeError;return T(et,ot)}else{if(!$(et))throw new TypeError;if(!W(ot))throw new TypeError;if(!W(ct)&&!j(ct)&&!J(ct))throw new TypeError;return J(ct)&&(ct=void 0),ut=K(ut),S(et,ot,ut,ct)}}E("decorate",h);function n(et,ot){function ut(ct,xt){if(!W(ct))throw new TypeError;if(!j(xt)&&!tt(xt))throw new TypeError;B(et,ot,ct,xt)}return ut}E("metadata",n);function o(et,ot,ut,ct){if(!W(ut))throw new TypeError;return j(ct)||(ct=K(ct)),B(et,ot,ut,ct)}E("defineMetadata",o);function f(et,ot,ut){if(!W(ot))throw new TypeError;return j(ut)||(ut=K(ut)),w(et,ot,ut)}E("hasMetadata",f);function u(et,ot,ut){if(!W(ot))throw new TypeError;return j(ut)||(ut=K(ut)),b(et,ot,ut)}E("hasOwnMetadata",u);function d(et,ot,ut){if(!W(ot))throw new TypeError;return j(ut)||(ut=K(ut)),A(et,ot,ut)}E("getMetadata",d);function p(et,ot,ut){if(!W(ot))throw new TypeError;return j(ut)||(ut=K(ut)),D(et,ot,ut)}E("getOwnMetadata",p);function m(et,ot){if(!W(et))throw new TypeError;return j(ot)||(ot=K(ot)),N(et,ot)}E("getMetadataKeys",m);function y(et,ot){if(!W(et))throw new TypeError;return j(ot)||(ot=K(ot)),Y(et,ot)}E("getOwnMetadataKeys",y);function g(et,ot,ut){if(!W(ot))throw new TypeError;j(ut)||(ut=K(ut));var ct=C(ot,ut,!1);if(j(ct)||!ct.delete(et))return!1;if(ct.size>0)return!0;var xt=i.get(ot);return xt.delete(ut),xt.size>0||i.delete(ot),!0}E("deleteMetadata",g);function T(et,ot){for(var ut=et.length-1;ut>=0;--ut){var ct=et[ut],xt=ct(ot);if(!j(xt)&&!J(xt)){if(!_(xt))throw new TypeError;ot=xt}}return ot}function S(et,ot,ut,ct){for(var xt=et.length-1;xt>=0;--xt){var wt=et[xt],pt=wt(ot,ut,ct);if(!j(pt)&&!J(pt)){if(!W(pt))throw new TypeError;ct=pt}}return ct}function C(et,ot,ut){var ct=i.get(et);if(j(ct)){if(!ut)return;ct=new r,i.set(et,ct)}var xt=ct.get(ot);if(j(xt)){if(!ut)return;xt=new r,ct.set(ot,xt)}return xt}function w(et,ot,ut){var ct=b(et,ot,ut);if(ct)return!0;var xt=mt(ot);return J(xt)?!1:w(et,xt,ut)}function b(et,ot,ut){var ct=C(ot,ut,!1);return j(ct)?!1:z(ct.has(et))}function A(et,ot,ut){var ct=b(et,ot,ut);if(ct)return D(et,ot,ut);var xt=mt(ot);if(!J(xt))return A(et,xt,ut)}function D(et,ot,ut){var ct=C(ot,ut,!1);if(!j(ct))return ct.get(et)}function B(et,ot,ut,ct){var xt=C(ut,ct,!0);xt.set(et,ot)}function N(et,ot){var ut=Y(et,ot),ct=mt(et);if(ct===null)return ut;var xt=N(ct,ot);if(xt.length<=0)return ut;if(ut.length<=0)return xt;for(var wt=new s,pt=[],Ct=0,yt=ut;Ct<yt.length;Ct++){var Pt=yt[Ct],At=wt.has(Pt);At||(wt.add(Pt),pt.push(Pt))}for(var It=0,Ht=xt;It<Ht.length;It++){var Pt=Ht[It],At=wt.has(Pt);At||(wt.add(Pt),pt.push(Pt))}return pt}function Y(et,ot){var ut=[],ct=C(et,ot,!1);if(j(ct))return ut;for(var xt=ct.keys(),wt=st(xt),pt=0;;){var Ct=rt(wt);if(!Ct)return ut.length=pt,ut;var yt=at(Ct);try{ut[pt]=yt}catch(Pt){try{dt(wt)}finally{throw Pt}}pt++}}function H(et){if(et===null)return 1;switch(typeof et){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return et===null?1:6;default:return 6}}function j(et){return et===void 0}function J(et){return et===null}function X(et){return typeof et=="symbol"}function W(et){return typeof et=="object"?et!==null:typeof et=="function"}function L(et,ot){switch(H(et)){case 0:return et;case 1:return et;case 2:return et;case 3:return et;case 4:return et;case 5:return et}var ut=ot===3?"string":ot===5?"number":"default",ct=nt(et,V);if(ct!==void 0){var xt=ct.call(et,ut);if(W(xt))throw new TypeError;return xt}return G(et,ut==="default"?"number":ut)}function G(et,ot){if(ot==="string"){var ut=et.toString;if(Q(ut)){var ct=ut.call(et);if(!W(ct))return ct}var xt=et.valueOf;if(Q(xt)){var ct=xt.call(et);if(!W(ct))return ct}}else{var xt=et.valueOf;if(Q(xt)){var ct=xt.call(et);if(!W(ct))return ct}var wt=et.toString;if(Q(wt)){var ct=wt.call(et);if(!W(ct))return ct}}throw new TypeError}function z(et){return!!et}function k(et){return""+et}function K(et){var ot=L(et,3);return X(ot)?ot:k(ot)}function $(et){return Array.isArray?Array.isArray(et):et instanceof Object?et instanceof Array:Object.prototype.toString.call(et)==="[object Array]"}function Q(et){return typeof et=="function"}function _(et){return typeof et=="function"}function tt(et){switch(H(et)){case 3:return!0;case 4:return!0;default:return!1}}function nt(et,ot){var ut=et[ot];if(ut!=null){if(!Q(ut))throw new TypeError;return ut}}function st(et){var ot=nt(et,Z);if(!Q(ot))throw new TypeError;var ut=ot.call(et);if(!W(ut))throw new TypeError;return ut}function at(et){return et.value}function rt(et){var ot=et.next();return ot.done?!1:ot}function dt(et){var ot=et.return;ot&&ot.call(et)}function mt(et){var ot=Object.getPrototypeOf(et);if(typeof et!="function"||et===c||ot!==c)return ot;var ut=et.prototype,ct=ut&&Object.getPrototypeOf(ut);if(ct==null||ct===Object.prototype)return ot;var xt=ct.constructor;return typeof xt!="function"||xt===et?ot:xt}function Tt(){var et={},ot=[],ut=function(){function pt(Ct,yt,Pt){this._index=0,this._keys=Ct,this._values=yt,this._selector=Pt}return pt.prototype["@@iterator"]=function(){return this},pt.prototype[Z]=function(){return this},pt.prototype.next=function(){var Ct=this._index;if(Ct>=0&&Ct<this._keys.length){var yt=this._selector(this._keys[Ct],this._values[Ct]);return Ct+1>=this._keys.length?(this._index=-1,this._keys=ot,this._values=ot):this._index++,{value:yt,done:!1}}return{value:void 0,done:!0}},pt.prototype.throw=function(Ct){throw this._index>=0&&(this._index=-1,this._keys=ot,this._values=ot),Ct},pt.prototype.return=function(Ct){return this._index>=0&&(this._index=-1,this._keys=ot,this._values=ot),{value:Ct,done:!0}},pt}();return function(){function pt(){this._keys=[],this._values=[],this._cacheKey=et,this._cacheIndex=-2}return Object.defineProperty(pt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),pt.prototype.has=function(Ct){return this._find(Ct,!1)>=0},pt.prototype.get=function(Ct){var yt=this._find(Ct,!1);return yt>=0?this._values[yt]:void 0},pt.prototype.set=function(Ct,yt){var Pt=this._find(Ct,!0);return this._values[Pt]=yt,this},pt.prototype.delete=function(Ct){var yt=this._find(Ct,!1);if(yt>=0){for(var Pt=this._keys.length,At=yt+1;At<Pt;At++)this._keys[At-1]=this._keys[At],this._values[At-1]=this._values[At];return this._keys.length--,this._values.length--,Ct===this._cacheKey&&(this._cacheKey=et,this._cacheIndex=-2),!0}return!1},pt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=et,this._cacheIndex=-2},pt.prototype.keys=function(){return new ut(this._keys,this._values,ct)},pt.prototype.values=function(){return new ut(this._keys,this._values,xt)},pt.prototype.entries=function(){return new ut(this._keys,this._values,wt)},pt.prototype["@@iterator"]=function(){return this.entries()},pt.prototype[Z]=function(){return this.entries()},pt.prototype._find=function(Ct,yt){return this._cacheKey!==Ct&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ct)),this._cacheIndex<0&&yt&&(this._cacheIndex=this._keys.length,this._keys.push(Ct),this._values.push(void 0)),this._cacheIndex},pt}();function ct(pt,Ct){return pt}function xt(pt,Ct){return Ct}function wt(pt,Ct){return[pt,Ct]}}function St(){return function(){function et(){this._map=new r}return Object.defineProperty(et.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),et.prototype.has=function(ot){return this._map.has(ot)},et.prototype.add=function(ot){return this._map.set(ot,ot),this},et.prototype.delete=function(ot){return this._map.delete(ot)},et.prototype.clear=function(){this._map.clear()},et.prototype.keys=function(){return this._map.keys()},et.prototype.values=function(){return this._map.values()},et.prototype.entries=function(){return this._map.entries()},et.prototype["@@iterator"]=function(){return this.keys()},et.prototype[Z]=function(){return this.keys()},et}()}function ft(){var et=16,ot=l.create(),ut=ct();return function(){function yt(){this._key=ct()}return yt.prototype.has=function(Pt){var At=xt(Pt,!1);return At!==void 0?l.has(At,this._key):!1},yt.prototype.get=function(Pt){var At=xt(Pt,!1);return At!==void 0?l.get(At,this._key):void 0},yt.prototype.set=function(Pt,At){var It=xt(Pt,!0);return It[this._key]=At,this},yt.prototype.delete=function(Pt){var At=xt(Pt,!1);return At!==void 0?delete At[this._key]:!1},yt.prototype.clear=function(){this._key=ct()},yt}();function ct(){var yt;do yt="@@WeakMap@@"+Ct();while(l.has(ot,yt));return ot[yt]=!0,yt}function xt(yt,Pt){if(!R.call(yt,ut)){if(!Pt)return;Object.defineProperty(yt,ut,{value:l.create()})}return yt[ut]}function wt(yt,Pt){for(var At=0;At<Pt;++At)yt[At]=Math.random()*255|0;return yt}function pt(yt){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(yt)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(yt)):wt(new Uint8Array(yt),yt):wt(new Array(yt),yt)}function Ct(){var yt=pt(et);yt[6]=yt[6]&79|64,yt[8]=yt[8]&191|128;for(var Pt="",At=0;At<et;++At){var It=yt[At];(At===4||At===6||At===8)&&(Pt+="-"),It<16&&(Pt+="0"),Pt+=It.toString(16).toLowerCase()}return Pt}}function vt(et){return et.__=void 0,delete et.__,et}})})(lo||(lo={}));const Js={},Oo=[];function Lt(M,E){if(Array.isArray(M)){for(const R of M)Lt(R,E);return}if(typeof M=="object"){for(const R in M)Lt(R,M[R]);return}Lo(Object.getOwnPropertyNames(E)),Js[M]=Object.assign(Js[M]||{},E)}function oe(M){return Js[M]||{}}function od(){return[...new Set(Oo)]}function Lo(M){Oo.push(...M)}function Sr(M,E){let R;const I=M.length,V=[];for(R=0;R<I;R++)V.push(E(M[R]));return V}function ld(M,E){let R;const I=M.length,V=[];for(R=0;R<I;R++)E(M[R])&&V.push(M[R]);return V}function Ws(M){return M%360*Math.PI/180}function Un(M){return M.toLowerCase().replace(/-(.)/g,function(E,R){return R.toUpperCase()})}function hd(M){return M.replace(/([A-Z])/g,function(E,R){return"-"+R.toLowerCase()})}function Fo(M){return M.charAt(0).toUpperCase()+M.slice(1)}function bi(M,E,R,I){return(E==null||R==null)&&(I=I||M.bbox(),E==null?E=I.width/I.height*R:R==null&&(R=I.height/I.width*E)),{width:E,height:R}}function qs(M,E){const R=M.origin;let I=M.ox!=null?M.ox:M.originX!=null?M.originX:"center",V=M.oy!=null?M.oy:M.originY!=null?M.originY:"center";R!=null&&([I,V]=Array.isArray(R)?R:typeof R=="object"?[R.x,R.y]:[R,R]);const Z=typeof I=="string",v=typeof V=="string";if(Z||v){const{height:x,width:t,x:l,y:c}=E.bbox();Z&&(I=I.includes("left")?l:I.includes("right")?l+t:l+t/2),v&&(V=V.includes("top")?c:V.includes("bottom")?c+x:c+x/2)}return[I,V]}const Er="http://www.w3.org/2000/svg",ud="http://www.w3.org/1999/xhtml",Vn="http://www.w3.org/2000/xmlns/",yn="http://www.w3.org/1999/xlink",fd="http://svgjs.dev/svgjs",Gt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};class Cr{}const ii={},Pr="___SYMBOL___ROOT___";function on(M,E=Er){return Gt.document.createElementNS(E,M)}function re(M,E=!1){if(M instanceof Cr)return M;if(typeof M=="object")return Hs(M);if(M==null)return new ii[Pr];if(typeof M=="string"&&M.charAt(0)!=="<")return Hs(Gt.document.querySelector(M));const R=E?Gt.document.createElement("div"):on("svg");return R.innerHTML=M,M=Hs(R.firstChild),R.removeChild(R.firstChild),M}function kt(M,E){return E&&E.ownerDocument&&E instanceof E.ownerDocument.defaultView.Node?E:on(M)}function ce(M){if(!M)return null;if(M.instance instanceof Cr)return M.instance;if(M.nodeName==="#document-fragment")return new ii.Fragment(M);let E=Fo(M.nodeName||"Dom");return E==="LinearGradient"||E==="RadialGradient"?E="Gradient":ii[E]||(E="Dom"),new ii[E](M)}let Hs=ce;function Bt(M,E=M.name,R=!1){return ii[E]=M,R&&(ii[Pr]=M),Lo(Object.getOwnPropertyNames(M.prototype)),M}function dd(M){return ii[M]}let cd=1e3;function Do(M){return"Svgjs"+Fo(M)+cd++}function Io(M){for(let E=M.children.length-1;E>=0;E--)Io(M.children[E]);return M.id&&(M.id=Do(M.nodeName)),M}function Dt(M,E){let R,I;for(M=Array.isArray(M)?M:[M],I=M.length-1;I>=0;I--)for(R in E)M[I].prototype[R]=E[R]}function jt(M){return function(...E){const R=E[E.length-1];return R&&R.constructor===Object&&!(R instanceof Array)?M.apply(this,E.slice(0,-1)).attr(R):M.apply(this,E)}}function vd(){return this.parent().children()}function pd(){return this.parent().index(this)}function gd(){return this.siblings()[this.position()+1]}function md(){return this.siblings()[this.position()-1]}function xd(){const M=this.position();return this.parent().add(this.remove(),M+1),this}function yd(){const M=this.position();return this.parent().add(this.remove(),M?M-1:0),this}function Td(){return this.parent().add(this.remove()),this}function Sd(){return this.parent().add(this.remove(),0),this}function Ed(M){M=re(M),M.remove();const E=this.position();return this.parent().add(M,E),this}function Cd(M){M=re(M),M.remove();const E=this.position();return this.parent().add(M,E+1),this}function Pd(M){return M=re(M),M.before(this),this}function wd(M){return M=re(M),M.after(this),this}Lt("Dom",{siblings:vd,position:pd,next:gd,prev:md,forward:xd,backward:yd,front:Td,back:Sd,before:Ed,after:Cd,insertBefore:Pd,insertAfter:wd});const Bo=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Ad=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Md=/rgb\((\d+),(\d+),(\d+)\)/,Rd=/(#[a-z_][a-z0-9\-_]*)/i,bd=/\)\s*,?\s*/,Od=/\s/g,ho=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,uo=/^rgb\(/,fo=/^(\s+)?$/,co=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ld=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Fe=/[\s,]+/,wr=/[MLHVCSQTAZ]/i;function Fd(){const M=this.attr("class");return M==null?[]:M.trim().split(Fe)}function Dd(M){return this.classes().indexOf(M)!==-1}function Id(M){if(!this.hasClass(M)){const E=this.classes();E.push(M),this.attr("class",E.join(" "))}return this}function Bd(M){return this.hasClass(M)&&this.attr("class",this.classes().filter(function(E){return E!==M}).join(" ")),this}function Nd(M){return this.hasClass(M)?this.removeClass(M):this.addClass(M)}Lt("Dom",{classes:Fd,hasClass:Dd,addClass:Id,removeClass:Bd,toggleClass:Nd});function Gd(M,E){const R={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(I){return!!I.length}).forEach(function(I){const V=I.split(/\s*:\s*/);R[V[0]]=V[1]}),R;if(arguments.length<2){if(Array.isArray(M)){for(const I of M){const V=Un(I);R[I]=this.node.style[V]}return R}if(typeof M=="string")return this.node.style[Un(M)];if(typeof M=="object")for(const I in M)this.node.style[Un(I)]=M[I]==null||fo.test(M[I])?"":M[I]}return arguments.length===2&&(this.node.style[Un(M)]=E==null||fo.test(E)?"":E),this}function Ud(){return this.css("display","")}function Vd(){return this.css("display","none")}function Xd(){return this.css("display")!=="none"}Lt("Dom",{css:Gd,show:Ud,hide:Vd,visible:Xd});function zd(M,E,R){if(M==null)return this.data(Sr(ld(this.node.attributes,I=>I.nodeName.indexOf("data-")===0),I=>I.nodeName.slice(5)));if(M instanceof Array){const I={};for(const V of M)I[V]=this.data(V);return I}else if(typeof M=="object")for(E in M)this.data(E,M[E]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+M))}catch{return this.attr("data-"+M)}else this.attr("data-"+M,E===null?null:R===!0||typeof E=="string"||typeof E=="number"?E:JSON.stringify(E));return this}Lt("Dom",{data:zd});function Yd(M,E){if(typeof arguments[0]=="object")for(const R in M)this.remember(R,M[R]);else{if(arguments.length===1)return this.memory()[M];this.memory()[M]=E}return this}function Wd(){if(arguments.length===0)this._memory={};else for(let M=arguments.length-1;M>=0;M--)delete this.memory()[arguments[M]];return this}function Hd(){return this._memory=this._memory||{}}Lt("Dom",{remember:Yd,forget:Wd,memory:Hd});function jd(M){return M.length===4?["#",M.substring(1,2),M.substring(1,2),M.substring(2,3),M.substring(2,3),M.substring(3,4),M.substring(3,4)].join(""):M}function kd(M){const E=Math.round(M),I=Math.max(0,Math.min(255,E)).toString(16);return I.length===1?"0"+I:I}function xi(M,E){for(let R=E.length;R--;)if(M[E[R]]==null)return!1;return!0}function Kd(M,E){const R=xi(M,"rgb")?{_a:M.r,_b:M.g,_c:M.b,_d:0,space:"rgb"}:xi(M,"xyz")?{_a:M.x,_b:M.y,_c:M.z,_d:0,space:"xyz"}:xi(M,"hsl")?{_a:M.h,_b:M.s,_c:M.l,_d:0,space:"hsl"}:xi(M,"lab")?{_a:M.l,_b:M.a,_c:M.b,_d:0,space:"lab"}:xi(M,"lch")?{_a:M.l,_b:M.c,_c:M.h,_d:0,space:"lch"}:xi(M,"cmyk")?{_a:M.c,_b:M.m,_c:M.y,_d:M.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return R.space=E||R.space,R}function $d(M){return M==="lab"||M==="xyz"||M==="lch"}function js(M,E,R){return R<0&&(R+=1),R>1&&(R-=1),R<1/6?M+(E-M)*6*R:R<1/2?E:R<2/3?M+(E-M)*(2/3-R)*6:M}class Xt{constructor(...E){this.init(...E)}static isColor(E){return E&&(E instanceof Xt||this.isRgb(E)||this.test(E))}static isRgb(E){return E&&typeof E.r=="number"&&typeof E.g=="number"&&typeof E.b=="number"}static random(E="vibrant",R,I){const{random:V,round:Z,sin:v,PI:x}=Math;if(E==="vibrant"){const t=24*V()+57,l=(83-45)*V()+45,c=360*V();return new Xt(t,l,c,"lch")}else if(E==="sine"){R=R??V();const t=Z(80*v(2*x*R/.5+.01)+150),l=Z(50*v(2*x*R/.5+4.6)+200),c=Z(100*v(2*x*R/.5+2.3)+150);return new Xt(t,l,c)}else if(E==="pastel"){const t=8*V()+86,l=(26-9)*V()+9,c=360*V();return new Xt(t,l,c,"lch")}else if(E==="dark"){const t=10+10*V(),l=(125-75)*V()+86,c=360*V();return new Xt(t,l,c,"lch")}else if(E==="rgb"){const t=255*V(),l=255*V(),c=255*V();return new Xt(t,l,c)}else if(E==="lab"){const t=100*V(),l=256*V()-128,c=256*V()-128;return new Xt(t,l,c,"lab")}else if(E==="grey"){const t=255*V();return new Xt(t,t,t)}else throw new Error("Unsupported random color mode")}static test(E){return typeof E=="string"&&(ho.test(E)||uo.test(E))}cmyk(){const{_a:E,_b:R,_c:I}=this.rgb(),[V,Z,v]=[E,R,I].map(r=>r/255),x=Math.min(1-V,1-Z,1-v);if(x===1)return new Xt(0,0,0,1,"cmyk");const t=(1-V-x)/(1-x),l=(1-Z-x)/(1-x),c=(1-v-x)/(1-x);return new Xt(t,l,c,x,"cmyk")}hsl(){const{_a:E,_b:R,_c:I}=this.rgb(),[V,Z,v]=[E,R,I].map(i=>i/255),x=Math.max(V,Z,v),t=Math.min(V,Z,v),l=(x+t)/2,c=x===t,a=x-t,r=c?0:l>.5?a/(2-x-t):a/(x+t),s=c?0:x===V?((Z-v)/a+(Z<v?6:0))/6:x===Z?((v-V)/a+2)/6:x===v?((V-Z)/a+4)/6:0;return new Xt(360*s,100*r,100*l,"hsl")}init(E=0,R=0,I=0,V=0,Z="rgb"){if(E=E||0,this.space)for(const a in this.space)delete this[this.space[a]];if(typeof E=="number")Z=typeof V=="string"?V:Z,V=typeof V=="string"?0:V,Object.assign(this,{_a:E,_b:R,_c:I,_d:V,space:Z});else if(E instanceof Array)this.space=R||(typeof E[3]=="string"?E[3]:E[4])||"rgb",Object.assign(this,{_a:E[0],_b:E[1],_c:E[2],_d:E[3]||0});else if(E instanceof Object){const a=Kd(E,R);Object.assign(this,a)}else if(typeof E=="string")if(uo.test(E)){const a=E.replace(Od,""),[r,s,e]=Md.exec(a).slice(1,4).map(i=>parseInt(i));Object.assign(this,{_a:r,_b:s,_c:e,_d:0,space:"rgb"})}else if(ho.test(E)){const a=i=>parseInt(i,16),[,r,s,e]=Ad.exec(jd(E)).map(a);Object.assign(this,{_a:r,_b:s,_c:e,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:v,_b:x,_c:t,_d:l}=this,c=this.space==="rgb"?{r:v,g:x,b:t}:this.space==="xyz"?{x:v,y:x,z:t}:this.space==="hsl"?{h:v,s:x,l:t}:this.space==="lab"?{l:v,a:x,b:t}:this.space==="lch"?{l:v,c:x,h:t}:this.space==="cmyk"?{c:v,m:x,y:t,k:l}:{};Object.assign(this,c)}lab(){const{x:E,y:R,z:I}=this.xyz(),V=116*R-16,Z=500*(E-R),v=200*(R-I);return new Xt(V,Z,v,"lab")}lch(){const{l:E,a:R,b:I}=this.lab(),V=Math.sqrt(R**2+I**2);let Z=180*Math.atan2(I,R)/Math.PI;return Z<0&&(Z*=-1,Z=360-Z),new Xt(E,V,Z,"lch")}rgb(){if(this.space==="rgb")return this;if($d(this.space)){let{x:E,y:R,z:I}=this;if(this.space==="lab"||this.space==="lch"){let{l:s,a:e,b:i}=this;if(this.space==="lch"){const{c:p,h:m}=this,y=Math.PI/180;e=p*Math.cos(y*m),i=p*Math.sin(y*m)}const h=(s+16)/116,n=e/500+h,o=h-i/200,f=16/116,u=.008856,d=7.787;E=.95047*(n**3>u?n**3:(n-f)/d),R=1*(h**3>u?h**3:(h-f)/d),I=1.08883*(o**3>u?o**3:(o-f)/d)}const V=E*3.2406+R*-1.5372+I*-.4986,Z=E*-.9689+R*1.8758+I*.0415,v=E*.0557+R*-.204+I*1.057,x=Math.pow,t=.0031308,l=V>t?1.055*x(V,1/2.4)-.055:12.92*V,c=Z>t?1.055*x(Z,1/2.4)-.055:12.92*Z,a=v>t?1.055*x(v,1/2.4)-.055:12.92*v;return new Xt(255*l,255*c,255*a)}else if(this.space==="hsl"){let{h:E,s:R,l:I}=this;if(E/=360,R/=100,I/=100,R===0)return I*=255,new Xt(I,I,I);const V=I<.5?I*(1+R):I+R-I*R,Z=2*I-V,v=255*js(Z,V,E+1/3),x=255*js(Z,V,E),t=255*js(Z,V,E-1/3);return new Xt(v,x,t)}else if(this.space==="cmyk"){const{c:E,m:R,y:I,k:V}=this,Z=255*(1-Math.min(1,E*(1-V)+V)),v=255*(1-Math.min(1,R*(1-V)+V)),x=255*(1-Math.min(1,I*(1-V)+V));return new Xt(Z,v,x)}else return this}toArray(){const{_a:E,_b:R,_c:I,_d:V,space:Z}=this;return[E,R,I,V,Z]}toHex(){const[E,R,I]=this._clamped().map(kd);return`#${E}${R}${I}`}toRgb(){const[E,R,I]=this._clamped();return`rgb(${E},${R},${I})`}toString(){return this.toHex()}xyz(){const{_a:E,_b:R,_c:I}=this.rgb(),[V,Z,v]=[E,R,I].map(n=>n/255),x=V>.04045?Math.pow((V+.055)/1.055,2.4):V/12.92,t=Z>.04045?Math.pow((Z+.055)/1.055,2.4):Z/12.92,l=v>.04045?Math.pow((v+.055)/1.055,2.4):v/12.92,c=(x*.4124+t*.3576+l*.1805)/.95047,a=(x*.2126+t*.7152+l*.0722)/1,r=(x*.0193+t*.1192+l*.9505)/1.08883,s=c>.008856?Math.pow(c,1/3):7.787*c+16/116,e=a>.008856?Math.pow(a,1/3):7.787*a+16/116,i=r>.008856?Math.pow(r,1/3):7.787*r+16/116;return new Xt(s,e,i,"xyz")}_clamped(){const{_a:E,_b:R,_c:I}=this.rgb(),{max:V,min:Z,round:v}=Math,x=t=>V(0,Z(v(t),255));return[E,R,I].map(x)}}class Zt{constructor(...E){this.init(...E)}clone(){return new Zt(this)}init(E,R){const I={x:0,y:0},V=Array.isArray(E)?{x:E[0],y:E[1]}:typeof E=="object"?{x:E.x,y:E.y}:{x:E,y:R};return this.x=V.x==null?I.x:V.x,this.y=V.y==null?I.y:V.y,this}toArray(){return[this.x,this.y]}transform(E){return this.clone().transformO(E)}transformO(E){Rt.isMatrixLike(E)||(E=new Rt(E));const{x:R,y:I}=this;return this.x=E.a*R+E.c*I+E.e,this.y=E.b*R+E.d*I+E.f,this}}function Zd(M,E){return new Zt(M,E).transform(this.screenCTM().inverse())}function yi(M,E,R){return Math.abs(E-M)<(R||1e-6)}class Rt{constructor(...E){this.init(...E)}static formatTransforms(E){const R=E.flip==="both"||E.flip===!0,I=E.flip&&(R||E.flip==="x")?-1:1,V=E.flip&&(R||E.flip==="y")?-1:1,Z=E.skew&&E.skew.length?E.skew[0]:isFinite(E.skew)?E.skew:isFinite(E.skewX)?E.skewX:0,v=E.skew&&E.skew.length?E.skew[1]:isFinite(E.skew)?E.skew:isFinite(E.skewY)?E.skewY:0,x=E.scale&&E.scale.length?E.scale[0]*I:isFinite(E.scale)?E.scale*I:isFinite(E.scaleX)?E.scaleX*I:I,t=E.scale&&E.scale.length?E.scale[1]*V:isFinite(E.scale)?E.scale*V:isFinite(E.scaleY)?E.scaleY*V:V,l=E.shear||0,c=E.rotate||E.theta||0,a=new Zt(E.origin||E.around||E.ox||E.originX,E.oy||E.originY),r=a.x,s=a.y,e=new Zt(E.position||E.px||E.positionX||NaN,E.py||E.positionY||NaN),i=e.x,h=e.y,n=new Zt(E.translate||E.tx||E.translateX,E.ty||E.translateY),o=n.x,f=n.y,u=new Zt(E.relative||E.rx||E.relativeX,E.ry||E.relativeY),d=u.x,p=u.y;return{scaleX:x,scaleY:t,skewX:Z,skewY:v,shear:l,theta:c,rx:d,ry:p,tx:o,ty:f,ox:r,oy:s,px:i,py:h}}static fromArray(E){return{a:E[0],b:E[1],c:E[2],d:E[3],e:E[4],f:E[5]}}static isMatrixLike(E){return E.a!=null||E.b!=null||E.c!=null||E.d!=null||E.e!=null||E.f!=null}static matrixMultiply(E,R,I){const V=E.a*R.a+E.c*R.b,Z=E.b*R.a+E.d*R.b,v=E.a*R.c+E.c*R.d,x=E.b*R.c+E.d*R.d,t=E.e+E.a*R.e+E.c*R.f,l=E.f+E.b*R.e+E.d*R.f;return I.a=V,I.b=Z,I.c=v,I.d=x,I.e=t,I.f=l,I}around(E,R,I){return this.clone().aroundO(E,R,I)}aroundO(E,R,I){const V=E||0,Z=R||0;return this.translateO(-V,-Z).lmultiplyO(I).translateO(V,Z)}clone(){return new Rt(this)}decompose(E=0,R=0){const I=this.a,V=this.b,Z=this.c,v=this.d,x=this.e,t=this.f,l=I*v-V*Z,c=l>0?1:-1,a=c*Math.sqrt(I*I+V*V),r=Math.atan2(c*V,c*I),s=180/Math.PI*r,e=Math.cos(r),i=Math.sin(r),h=(I*Z+V*v)/l,n=Z*a/(h*I-V)||v*a/(h*V+I),o=x-E+E*e*a+R*(h*e*a-i*n),f=t-R+E*i*a+R*(h*i*a+e*n);return{scaleX:a,scaleY:n,shear:h,rotate:s,translateX:o,translateY:f,originX:E,originY:R,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(E){if(E===this)return!0;const R=new Rt(E);return yi(this.a,R.a)&&yi(this.b,R.b)&&yi(this.c,R.c)&&yi(this.d,R.d)&&yi(this.e,R.e)&&yi(this.f,R.f)}flip(E,R){return this.clone().flipO(E,R)}flipO(E,R){return E==="x"?this.scaleO(-1,1,R,0):E==="y"?this.scaleO(1,-1,0,R):this.scaleO(-1,-1,E,R||E)}init(E){const R=Rt.fromArray([1,0,0,1,0,0]);return E=E instanceof Se?E.matrixify():typeof E=="string"?Rt.fromArray(E.split(Fe).map(parseFloat)):Array.isArray(E)?Rt.fromArray(E):typeof E=="object"&&Rt.isMatrixLike(E)?E:typeof E=="object"?new Rt().transform(E):arguments.length===6?Rt.fromArray([].slice.call(arguments)):R,this.a=E.a!=null?E.a:R.a,this.b=E.b!=null?E.b:R.b,this.c=E.c!=null?E.c:R.c,this.d=E.d!=null?E.d:R.d,this.e=E.e!=null?E.e:R.e,this.f=E.f!=null?E.f:R.f,this}inverse(){return this.clone().inverseO()}inverseO(){const E=this.a,R=this.b,I=this.c,V=this.d,Z=this.e,v=this.f,x=E*V-R*I;if(!x)throw new Error("Cannot invert "+this);const t=V/x,l=-R/x,c=-I/x,a=E/x,r=-(t*Z+c*v),s=-(l*Z+a*v);return this.a=t,this.b=l,this.c=c,this.d=a,this.e=r,this.f=s,this}lmultiply(E){return this.clone().lmultiplyO(E)}lmultiplyO(E){const R=this,I=E instanceof Rt?E:new Rt(E);return Rt.matrixMultiply(I,R,this)}multiply(E){return this.clone().multiplyO(E)}multiplyO(E){const R=this,I=E instanceof Rt?E:new Rt(E);return Rt.matrixMultiply(R,I,this)}rotate(E,R,I){return this.clone().rotateO(E,R,I)}rotateO(E,R=0,I=0){E=Ws(E);const V=Math.cos(E),Z=Math.sin(E),{a:v,b:x,c:t,d:l,e:c,f:a}=this;return this.a=v*V-x*Z,this.b=x*V+v*Z,this.c=t*V-l*Z,this.d=l*V+t*Z,this.e=c*V-a*Z+I*Z-R*V+R,this.f=a*V+c*Z-R*Z-I*V+I,this}scale(E,R,I,V){return this.clone().scaleO(...arguments)}scaleO(E,R=E,I=0,V=0){arguments.length===3&&(V=I,I=R,R=E);const{a:Z,b:v,c:x,d:t,e:l,f:c}=this;return this.a=Z*E,this.b=v*R,this.c=x*E,this.d=t*R,this.e=l*E-I*E+I,this.f=c*R-V*R+V,this}shear(E,R,I){return this.clone().shearO(E,R,I)}shearO(E,R=0,I=0){const{a:V,b:Z,c:v,d:x,e:t,f:l}=this;return this.a=V+Z*E,this.c=v+x*E,this.e=t+l*E-I*E,this}skew(E,R,I,V){return this.clone().skewO(...arguments)}skewO(E,R=E,I=0,V=0){arguments.length===3&&(V=I,I=R,R=E),E=Ws(E),R=Ws(R);const Z=Math.tan(E),v=Math.tan(R),{a:x,b:t,c:l,d:c,e:a,f:r}=this;return this.a=x+t*Z,this.b=t+x*v,this.c=l+c*Z,this.d=c+l*v,this.e=a+r*Z-V*Z,this.f=r+a*v-I*v,this}skewX(E,R,I){return this.skew(E,0,R,I)}skewY(E,R,I){return this.skew(0,E,R,I)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(E){if(Rt.isMatrixLike(E))return new Rt(E).multiplyO(this);const R=Rt.formatTransforms(E),I=this,{x:V,y:Z}=new Zt(R.ox,R.oy).transform(I),v=new Rt().translateO(R.rx,R.ry).lmultiplyO(I).translateO(-V,-Z).scaleO(R.scaleX,R.scaleY).skewO(R.skewX,R.skewY).shearO(R.shear).rotateO(R.theta).translateO(V,Z);if(isFinite(R.px)||isFinite(R.py)){const x=new Zt(V,Z).transform(v),t=isFinite(R.px)?R.px-x.x:0,l=isFinite(R.py)?R.py-x.y:0;v.translateO(t,l)}return v.translateO(R.tx,R.ty),v}translate(E,R){return this.clone().translateO(E,R)}translateO(E,R){return this.e+=E||0,this.f+=R||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Qd(){return new Rt(this.node.getCTM())}function Jd(){if(typeof this.isRoot=="function"&&!this.isRoot()){const M=this.rect(1,1),E=M.node.getScreenCTM();return M.remove(),new Rt(E)}return new Rt(this.node.getScreenCTM())}Bt(Rt,"Matrix");function Ye(){if(!Ye.nodes){const M=re().size(2,0);M.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),M.attr("focusable","false"),M.attr("aria-hidden","true");const E=M.path().node;Ye.nodes={svg:M,path:E}}if(!Ye.nodes.svg.node.parentNode){const M=Gt.document.body||Gt.document.documentElement;Ye.nodes.svg.addTo(M)}return Ye.nodes}function No(M){return!M.width&&!M.height&&!M.x&&!M.y}function qd(M){return M===Gt.document||(Gt.document.documentElement.contains||function(E){for(;E.parentNode;)E=E.parentNode;return E===Gt.document}).call(Gt.document.documentElement,M)}class se{constructor(...E){this.init(...E)}addOffset(){return this.x+=Gt.window.pageXOffset,this.y+=Gt.window.pageYOffset,new se(this)}init(E){const R=[0,0,0,0];return E=typeof E=="string"?E.split(Fe).map(parseFloat):Array.isArray(E)?E:typeof E=="object"?[E.left!=null?E.left:E.x,E.top!=null?E.top:E.y,E.width,E.height]:arguments.length===4?[].slice.call(arguments):R,this.x=E[0]||0,this.y=E[1]||0,this.width=this.w=E[2]||0,this.height=this.h=E[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return No(this)}merge(E){const R=Math.min(this.x,E.x),I=Math.min(this.y,E.y),V=Math.max(this.x+this.width,E.x+E.width)-R,Z=Math.max(this.y+this.height,E.y+E.height)-I;return new se(R,I,V,Z)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(E){E instanceof Rt||(E=new Rt(E));let R=1/0,I=-1/0,V=1/0,Z=-1/0;return[new Zt(this.x,this.y),new Zt(this.x2,this.y),new Zt(this.x,this.y2),new Zt(this.x2,this.y2)].forEach(function(x){x=x.transform(E),R=Math.min(R,x.x),I=Math.max(I,x.x),V=Math.min(V,x.y),Z=Math.max(Z,x.y)}),new se(R,V,I-R,Z-V)}}function Go(M,E,R){let I;try{if(I=E(M.node),No(I)&&!qd(M.node))throw new Error("Element not in the dom")}catch{I=R(M)}return I}function _d(){const R=Go(this,V=>V.getBBox(),V=>{try{const Z=V.clone().addTo(Ye().svg).show(),v=Z.node.getBBox();return Z.remove(),v}catch(Z){throw new Error(`Getting bbox of element "${V.node.nodeName}" is not possible: ${Z.toString()}`)}});return new se(R)}function tc(M){const I=Go(this,Z=>Z.getBoundingClientRect(),Z=>{throw new Error(`Getting rbox of element "${Z.node.nodeName}" is not possible`)}),V=new se(I);return M?V.transform(M.screenCTM().inverseO()):V.addOffset()}function ec(M,E){const R=this.bbox();return M>R.x&&E>R.y&&M<R.x+R.width&&E<R.y+R.height}Lt({viewbox:{viewbox(M,E,R,I){return M==null?new se(this.attr("viewBox")):this.attr("viewBox",new se(M,E,R,I))},zoom(M,E){let{width:R,height:I}=this.attr(["width","height"]);if((!R&&!I||typeof R=="string"||typeof I=="string")&&(R=this.node.clientWidth,I=this.node.clientHeight),!R||!I)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const V=this.viewbox(),Z=R/V.width,v=I/V.height,x=Math.min(Z,v);if(M==null)return x;let t=x/M;t===1/0&&(t=Number.MAX_SAFE_INTEGER/100),E=E||new Zt(R/2/Z+V.x,I/2/v+V.y);const l=new se(V).transform(new Rt({scale:t,origin:E}));return this.viewbox(l)}}});Bt(se,"Box");class ri extends Array{constructor(E=[],...R){if(super(E,...R),typeof E=="number")return this;this.length=0,this.push(...E)}}Dt([ri],{each(M,...E){return typeof M=="function"?this.map((R,I,V)=>M.call(R,R,I,V)):this.map(R=>R[M](...E))},toArray(){return Array.prototype.concat.apply([],this)}});const ic=["toArray","constructor","each"];ri.extend=function(M){M=M.reduce((E,R)=>(ic.includes(R)||R[0]==="_"||(E[R]=function(...I){return this.each(R,...I)}),E),{}),Dt([ri],M)};function Oi(M,E){return new ri(Sr((E||Gt.document).querySelectorAll(M),function(R){return ce(R)}))}function nc(M){return Oi(M,this.node)}function sc(M){return ce(this.node.querySelector(M))}let rc=0;const Uo={};function Vo(M){let E=M.getEventHolder();return E===Gt.window&&(E=Uo),E.events||(E.events={}),E.events}function Ar(M){return M.getEventTarget()}function ac(M){let E=M.getEventHolder();E===Gt.window&&(E=Uo),E.events&&(E.events={})}function _s(M,E,R,I,V){const Z=R.bind(I||M),v=re(M),x=Vo(v),t=Ar(v);E=Array.isArray(E)?E:E.split(Fe),R._svgjsListenerId||(R._svgjsListenerId=++rc),E.forEach(function(l){const c=l.split(".")[0],a=l.split(".")[1]||"*";x[c]=x[c]||{},x[c][a]=x[c][a]||{},x[c][a][R._svgjsListenerId]=Z,t.addEventListener(c,Z,V||!1)})}function Ci(M,E,R,I){const V=re(M),Z=Vo(V),v=Ar(V);typeof R=="function"&&(R=R._svgjsListenerId,!R)||(E=Array.isArray(E)?E:(E||"").split(Fe),E.forEach(function(x){const t=x&&x.split(".")[0],l=x&&x.split(".")[1];let c,a;if(R)Z[t]&&Z[t][l||"*"]&&(v.removeEventListener(t,Z[t][l||"*"][R],I||!1),delete Z[t][l||"*"][R]);else if(t&&l){if(Z[t]&&Z[t][l]){for(a in Z[t][l])Ci(v,[t,l].join("."),a);delete Z[t][l]}}else if(l)for(x in Z)for(c in Z[x])l===c&&Ci(v,[x,l].join("."));else if(t){if(Z[t]){for(c in Z[t])Ci(v,[t,c].join("."));delete Z[t]}}else{for(x in Z)Ci(v,x);ac(V)}}))}function oc(M,E,R,I){const V=Ar(M);return E instanceof Gt.window.Event||(E=new Gt.window.CustomEvent(E,{detail:R,cancelable:!0,...I})),V.dispatchEvent(E),E}class Tn extends Cr{addEventListener(){}dispatch(E,R,I){return oc(this,E,R,I)}dispatchEvent(E){const R=this.getEventHolder().events;if(!R)return!0;const I=R[E.type];for(const V in I)for(const Z in I[V])I[V][Z](E);return!E.defaultPrevented}fire(E,R,I){return this.dispatch(E,R,I),this}getEventHolder(){return this}getEventTarget(){return this}off(E,R,I){return Ci(this,E,R,I),this}on(E,R,I,V){return _s(this,E,R,I,V),this}removeEventListener(){}}Bt(Tn,"EventTarget");function vo(){}const Ji={duration:400,ease:">",delay:0},lc={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Ai extends Array{constructor(...E){super(...E),this.init(...E)}clone(){return new this.constructor(this)}init(E){return typeof E=="number"?this:(this.length=0,this.push(...this.parse(E)),this)}parse(E=[]){return E instanceof Array?E:E.trim().split(Fe).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const E=[];return E.push(...this),E}}class Ot{constructor(...E){this.init(...E)}convert(E){return new Ot(this.value,E)}divide(E){return E=new Ot(E),new Ot(this/E,this.unit||E.unit)}init(E,R){return R=Array.isArray(E)?E[1]:R,E=Array.isArray(E)?E[0]:E,this.value=0,this.unit=R||"",typeof E=="number"?this.value=isNaN(E)?0:isFinite(E)?E:E<0?-34e37:34e37:typeof E=="string"?(R=E.match(Bo),R&&(this.value=parseFloat(R[1]),R[5]==="%"?this.value/=100:R[5]==="s"&&(this.value*=1e3),this.unit=R[5])):E instanceof Ot&&(this.value=E.valueOf(),this.unit=E.unit),this}minus(E){return E=new Ot(E),new Ot(this-E,this.unit||E.unit)}plus(E){return E=new Ot(E),new Ot(this+E,this.unit||E.unit)}times(E){return E=new Ot(E),new Ot(this*E,this.unit||E.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Xo=[];function hc(M){Xo.push(M)}function uc(M,E,R){if(M==null){M={},E=this.node.attributes;for(const I of E)M[I.nodeName]=co.test(I.nodeValue)?parseFloat(I.nodeValue):I.nodeValue;return M}else{if(M instanceof Array)return M.reduce((I,V)=>(I[V]=this.attr(V),I),{});if(typeof M=="object"&&M.constructor===Object)for(E in M)this.attr(E,M[E]);else if(E===null)this.node.removeAttribute(M);else{if(E==null)return E=this.node.getAttribute(M),E==null?lc[M]:co.test(E)?parseFloat(E):E;E=Xo.reduce((I,V)=>V(M,I,this),E),typeof E=="number"?E=new Ot(E):Xt.isColor(E)?E=new Xt(E):E.constructor===Array&&(E=new Ai(E)),M==="leading"?this.leading&&this.leading(E):typeof R=="string"?this.node.setAttributeNS(R,M,E.toString()):this.node.setAttribute(M,E.toString()),this.rebuild&&(M==="font-size"||M==="x")&&this.rebuild()}}return this}class We extends Tn{constructor(E,R){super(),this.node=E,this.type=E.nodeName,R&&E!==R&&this.attr(R)}add(E,R){return E=re(E),E.removeNamespace&&this.node instanceof Gt.window.SVGElement&&E.removeNamespace(),R==null?this.node.appendChild(E.node):E.node!==this.node.childNodes[R]&&this.node.insertBefore(E.node,this.node.childNodes[R]),this}addTo(E,R){return re(E).put(this,R)}children(){return new ri(Sr(this.node.children,function(E){return ce(E)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(E=!0){return this.writeDataToDom(),new this.constructor(Io(this.node.cloneNode(E)))}each(E,R){const I=this.children();let V,Z;for(V=0,Z=I.length;V<Z;V++)E.apply(I[V],[V,I]),R&&I[V].each(E,R);return this}element(E,R){return this.put(new We(on(E),R))}first(){return ce(this.node.firstChild)}get(E){return ce(this.node.childNodes[E])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(E){return this.index(E)>=0}html(E,R){return this.xml(E,R,ud)}id(E){return typeof E>"u"&&!this.node.id&&(this.node.id=Do(this.type)),this.attr("id",E)}index(E){return[].slice.call(this.node.childNodes).indexOf(E.node)}last(){return ce(this.node.lastChild)}matches(E){const R=this.node,I=R.matches||R.matchesSelector||R.msMatchesSelector||R.mozMatchesSelector||R.webkitMatchesSelector||R.oMatchesSelector||null;return I&&I.call(R,E)}parent(E){let R=this;if(!R.node.parentNode)return null;if(R=ce(R.node.parentNode),!E)return R;do if(typeof E=="string"?R.matches(E):R instanceof E)return R;while(R=ce(R.node.parentNode));return R}put(E,R){return E=re(E),this.add(E,R),E}putIn(E,R){return re(E).add(this,R)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(E){return this.node.removeChild(E.node),this}replace(E){return E=re(E),this.node.parentNode&&this.node.parentNode.replaceChild(E.node,this.node),E}round(E=2,R=null){const I=10**E,V=this.attr(R);for(const Z in V)typeof V[Z]=="number"&&(V[Z]=Math.round(V[Z]*I)/I);return this.attr(V),this}svg(E,R){return this.xml(E,R,Er)}toString(){return this.id()}words(E){return this.node.textContent=E,this}wrap(E){const R=this.parent();if(!R)return this.addTo(E);const I=R.index(this);return R.put(E,I).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(E,R,I){if(typeof E=="boolean"&&(I=R,R=E,E=null),E==null||typeof E=="function"){R=R??!0,this.writeDataToDom();let x=this;if(E!=null){if(x=ce(x.node.cloneNode(!0)),R){const t=E(x);if(x=t||x,t===!1)return""}x.each(function(){const t=E(this),l=t||this;t===!1?this.remove():t&&this!==l&&this.replace(l)},!0)}return R?x.node.outerHTML:x.node.innerHTML}R=R??!1;const V=on("wrapper",I),Z=Gt.document.createDocumentFragment();V.innerHTML=E;for(let x=V.children.length;x--;)Z.appendChild(V.firstElementChild);const v=this.parent();return R?this.replace(Z)&&v:this.add(Z)}}Dt(We,{attr:uc,find:nc,findOne:sc});Bt(We,"Dom");let Se=class extends We{constructor(E,R){super(E,R),this.dom={},this.node.instance=this,E.hasAttribute("svgjs:data")&&this.setData(JSON.parse(E.getAttribute("svgjs:data"))||{})}center(E,R){return this.cx(E).cy(R)}cx(E){return E==null?this.x()+this.width()/2:this.x(E-this.width()/2)}cy(E){return E==null?this.y()+this.height()/2:this.y(E-this.height()/2)}defs(){const E=this.root();return E&&E.defs()}dmove(E,R){return this.dx(E).dy(R)}dx(E=0){return this.x(new Ot(E).plus(this.x()))}dy(E=0){return this.y(new Ot(E).plus(this.y()))}getEventHolder(){return this}height(E){return this.attr("height",E)}move(E,R){return this.x(E).y(R)}parents(E=this.root()){const R=typeof E=="string";R||(E=re(E));const I=new ri;let V=this;for(;(V=V.parent())&&V.node!==Gt.document&&V.nodeName!=="#document-fragment"&&(I.push(V),!(!R&&V.node===E.node||R&&V.matches(E)));)if(V.node===this.root().node)return null;return I}reference(E){if(E=this.attr(E),!E)return null;const R=(E+"").match(Rd);return R?re(R[1]):null}root(){const E=this.parent(dd(Pr));return E&&E.root()}setData(E){return this.dom=E,this}size(E,R){const I=bi(this,E,R);return this.width(new Ot(I.width)).height(new Ot(I.height))}width(E){return this.attr("width",E)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(E){return this.attr("x",E)}y(E){return this.attr("y",E)}};Dt(Se,{bbox:_d,rbox:tc,inside:ec,point:Zd,ctm:Qd,screenCTM:Jd});Bt(Se,"Element");const Zi={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(M,E){return E==="color"?M:M+"-"+E}};["fill","stroke"].forEach(function(M){const E={};let R;E[M]=function(I){if(typeof I>"u")return this.attr(M);if(typeof I=="string"||I instanceof Xt||Xt.isRgb(I)||I instanceof Se)this.attr(M,I);else for(R=Zi[M].length-1;R>=0;R--)I[Zi[M][R]]!=null&&this.attr(Zi.prefix(M,Zi[M][R]),I[Zi[M][R]]);return this},Lt(["Element","Runner"],E)});Lt(["Element","Runner"],{matrix:function(M,E,R,I,V,Z){return M==null?new Rt(this):this.attr("transform",new Rt(M,E,R,I,V,Z))},rotate:function(M,E,R){return this.transform({rotate:M,ox:E,oy:R},!0)},skew:function(M,E,R,I){return arguments.length===1||arguments.length===3?this.transform({skew:M,ox:E,oy:R},!0):this.transform({skew:[M,E],ox:R,oy:I},!0)},shear:function(M,E,R){return this.transform({shear:M,ox:E,oy:R},!0)},scale:function(M,E,R,I){return arguments.length===1||arguments.length===3?this.transform({scale:M,ox:E,oy:R},!0):this.transform({scale:[M,E],ox:R,oy:I},!0)},translate:function(M,E){return this.transform({translate:[M,E]},!0)},relative:function(M,E){return this.transform({relative:[M,E]},!0)},flip:function(M="both",E="center"){return"xybothtrue".indexOf(M)===-1&&(E=M,M="both"),this.transform({flip:M,origin:E},!0)},opacity:function(M){return this.attr("opacity",M)}});Lt("radius",{radius:function(M,E=M){return(this._element||this).type==="radialGradient"?this.attr("r",new Ot(M)):this.rx(M).ry(E)}});Lt("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(M){return new Zt(this.node.getPointAtLength(M))}});Lt(["Element","Runner"],{font:function(M,E){if(typeof M=="object"){for(E in M)this.font(E,M[E]);return this}return M==="leading"?this.leading(E):M==="anchor"?this.attr("text-anchor",E):M==="size"||M==="family"||M==="weight"||M==="stretch"||M==="variant"||M==="style"?this.attr("font-"+M,E):this.attr(M,E)}});const fc=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce(function(M,E){const R=function(I){return I===null?this.off(E):this.on(E,I),this};return M[E]=R,M},{});Lt("Element",fc);function dc(){return this.attr("transform",null)}function cc(){return(this.attr("transform")||"").split(bd).slice(0,-1).map(function(E){const R=E.trim().split("(");return[R[0],R[1].split(Fe).map(function(I){return parseFloat(I)})]}).reverse().reduce(function(E,R){return R[0]==="matrix"?E.lmultiply(Rt.fromArray(R[1])):E[R[0]].apply(E,R[1])},new Rt)}function vc(M,E){if(this===M)return this;const R=this.screenCTM(),I=M.screenCTM().inverse();return this.addTo(M,E).untransform().transform(I.multiply(R)),this}function pc(M){return this.toParent(this.root(),M)}function gc(M,E){if(M==null||typeof M=="string"){const V=new Rt(this).decompose();return M==null?V:V[M]}Rt.isMatrixLike(M)||(M={...M,origin:qs(M,this)});const R=E===!0?this:E||!1,I=new Rt(R).transform(M);return this.attr("transform",I)}Lt("Element",{untransform:dc,matrixify:cc,toParent:vc,toRoot:pc,transform:gc});class le extends Se{flatten(E=this,R){return this.each(function(){if(this instanceof le)return this.flatten().ungroup()}),this}ungroup(E=this.parent(),R=E.index(this)){return R=R===-1?E.children().length:R,this.each(function(I,V){return V[V.length-I-1].toParent(E,R)}),this.remove()}}Bt(le,"Container");class Mr extends le{constructor(E,R=E){super(kt("defs",E),R)}flatten(){return this}ungroup(){return this}}Bt(Mr,"Defs");class ue extends Se{}Bt(ue,"Shape");function Rr(M){return this.attr("rx",M)}function br(M){return this.attr("ry",M)}function zo(M){return M==null?this.cx()-this.rx():this.cx(M+this.rx())}function Yo(M){return M==null?this.cy()-this.ry():this.cy(M+this.ry())}function Wo(M){return this.attr("cx",M)}function Ho(M){return this.attr("cy",M)}function jo(M){return M==null?this.rx()*2:this.rx(new Ot(M).divide(2))}function ko(M){return M==null?this.ry()*2:this.ry(new Ot(M).divide(2))}var mc={__proto__:null,rx:Rr,ry:br,x:zo,y:Yo,cx:Wo,cy:Ho,width:jo,height:ko};class ss extends ue{constructor(E,R=E){super(kt("ellipse",E),R)}size(E,R){const I=bi(this,E,R);return this.rx(new Ot(I.width).divide(2)).ry(new Ot(I.height).divide(2))}}Dt(ss,mc);Lt("Container",{ellipse:jt(function(M=0,E=M){return this.put(new ss).size(M,E).move(0,0)})});Bt(ss,"Ellipse");class Ko extends We{constructor(E=Gt.document.createDocumentFragment()){super(E)}xml(E,R,I){if(typeof E=="boolean"&&(I=R,R=E,E=null),E==null||typeof E=="function"){const V=new We(on("wrapper",I));return V.add(this.node.cloneNode(!0)),V.xml(!1,I)}return super.xml(E,!1,I)}}Bt(Ko,"Fragment");function $o(M,E){return(this._element||this).type==="radialGradient"?this.attr({fx:new Ot(M),fy:new Ot(E)}):this.attr({x1:new Ot(M),y1:new Ot(E)})}function Zo(M,E){return(this._element||this).type==="radialGradient"?this.attr({cx:new Ot(M),cy:new Ot(E)}):this.attr({x2:new Ot(M),y2:new Ot(E)})}var xc={__proto__:null,from:$o,to:Zo};class Sn extends le{constructor(E,R){super(kt(E+"Gradient",typeof E=="string"?null:E),R)}attr(E,R,I){return E==="transform"&&(E="gradientTransform"),super.attr(E,R,I)}bbox(){return new se}targets(){return Oi('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(E){return this.clear(),typeof E=="function"&&E.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Dt(Sn,xc);Lt({Container:{gradient(...M){return this.defs().gradient(...M)}},Defs:{gradient:jt(function(M,E){return this.put(new Sn(M)).update(E)})}});Bt(Sn,"Gradient");class ln extends le{constructor(E,R=E){super(kt("pattern",E),R)}attr(E,R,I){return E==="transform"&&(E="patternTransform"),super.attr(E,R,I)}bbox(){return new se}targets(){return Oi('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(E){return this.clear(),typeof E=="function"&&E.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Lt({Container:{pattern(...M){return this.defs().pattern(...M)}},Defs:{pattern:jt(function(M,E,R){return this.put(new ln).update(R).attr({x:0,y:0,width:M,height:E,patternUnits:"userSpaceOnUse"})})}});Bt(ln,"Pattern");let rs=class extends ue{constructor(E,R=E){super(kt("image",E),R)}load(E,R){if(!E)return this;const I=new Gt.window.Image;return _s(I,"load",function(V){const Z=this.parent(ln);this.width()===0&&this.height()===0&&this.size(I.width,I.height),Z instanceof ln&&Z.width()===0&&Z.height()===0&&Z.size(this.width(),this.height()),typeof R=="function"&&R.call(this,V)},this),_s(I,"load error",function(){Ci(I)}),this.attr("href",I.src=E,yn)}};hc(function(M,E,R){return(M==="fill"||M==="stroke")&&Ld.test(E)&&(E=R.root().defs().image(E)),E instanceof rs&&(E=R.root().defs().pattern(0,0,I=>{I.add(E)})),E});Lt({Container:{image:jt(function(M,E){return this.put(new rs).size(0,0).load(M,E)})}});Bt(rs,"Image");class He extends Ai{bbox(){let E=-1/0,R=-1/0,I=1/0,V=1/0;return this.forEach(function(Z){E=Math.max(Z[0],E),R=Math.max(Z[1],R),I=Math.min(Z[0],I),V=Math.min(Z[1],V)}),new se(I,V,E-I,R-V)}move(E,R){const I=this.bbox();if(E-=I.x,R-=I.y,!isNaN(E)&&!isNaN(R))for(let V=this.length-1;V>=0;V--)this[V]=[this[V][0]+E,this[V][1]+R];return this}parse(E=[0,0]){const R=[];E instanceof Array?E=Array.prototype.concat.apply([],E):E=E.trim().split(Fe).map(parseFloat),E.length%2!==0&&E.pop();for(let I=0,V=E.length;I<V;I=I+2)R.push([E[I],E[I+1]]);return R}size(E,R){let I;const V=this.bbox();for(I=this.length-1;I>=0;I--)V.width&&(this[I][0]=(this[I][0]-V.x)*E/V.width+V.x),V.height&&(this[I][1]=(this[I][1]-V.y)*R/V.height+V.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const E=[];for(let R=0,I=this.length;R<I;R++)E.push(this[R].join(","));return E.join(" ")}transform(E){return this.clone().transformO(E)}transformO(E){Rt.isMatrixLike(E)||(E=new Rt(E));for(let R=this.length;R--;){const[I,V]=this[R];this[R][0]=E.a*I+E.c*V+E.e,this[R][1]=E.b*I+E.d*V+E.f}return this}}const yc=He;function Tc(M){return M==null?this.bbox().x:this.move(M,this.bbox().y)}function Sc(M){return M==null?this.bbox().y:this.move(this.bbox().x,M)}function Ec(M){const E=this.bbox();return M==null?E.width:this.size(M,E.height)}function Cc(M){const E=this.bbox();return M==null?E.height:this.size(E.width,M)}var Or={__proto__:null,MorphArray:yc,x:Tc,y:Sc,width:Ec,height:Cc};class hn extends ue{constructor(E,R=E){super(kt("line",E),R)}array(){return new He([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(E,R){return this.attr(this.array().move(E,R).toLine())}plot(E,R,I,V){return E==null?this.array():(typeof R<"u"?E={x1:E,y1:R,x2:I,y2:V}:E=new He(E).toLine(),this.attr(E))}size(E,R){const I=bi(this,E,R);return this.attr(this.array().size(I.width,I.height).toLine())}}Dt(hn,Or);Lt({Container:{line:jt(function(...M){return hn.prototype.plot.apply(this.put(new hn),M[0]!=null?M:[0,0,0,0])})}});Bt(hn,"Line");class jn extends le{constructor(E,R=E){super(kt("marker",E),R)}height(E){return this.attr("markerHeight",E)}orient(E){return this.attr("orient",E)}ref(E,R){return this.attr("refX",E).attr("refY",R)}toString(){return"url(#"+this.id()+")"}update(E){return this.clear(),typeof E=="function"&&E.call(this,this),this}width(E){return this.attr("markerWidth",E)}}Lt({Container:{marker(...M){return this.defs().marker(...M)}},Defs:{marker:jt(function(M,E,R){return this.put(new jn).size(M,E).ref(M/2,E/2).viewbox(0,0,M,E).attr("orient","auto").update(R)})},marker:{marker(M,E,R,I){let V=["marker"];return M!=="all"&&V.push(M),V=V.join("-"),M=arguments[1]instanceof jn?arguments[1]:this.defs().marker(E,R,I),this.attr(V,M)}}});Bt(jn,"Marker");function Pi(M,E){return function(R){return R==null?this[M]:(this[M]=R,E&&E.call(this),this)}}const Pc={"-":function(M){return M},"<>":function(M){return-Math.cos(M*Math.PI)/2+.5},">":function(M){return Math.sin(M*Math.PI/2)},"<":function(M){return-Math.cos(M*Math.PI/2)+1},bezier:function(M,E,R,I){return function(V){return V<0?M>0?E/M*V:R>0?I/R*V:0:V>1?R<1?(1-I)/(1-R)*V+(I-R)/(1-R):M<1?(1-E)/(1-M)*V+(E-M)/(1-M):1:3*V*(1-V)**2*E+3*V**2*(1-V)*I+V**3}},steps:function(M,E="end"){E=E.split("-").reverse()[0];let R=M;return E==="none"?--R:E==="both"&&++R,(I,V=!1)=>{let Z=Math.floor(I*M);const v=I*Z%1===0;return(E==="start"||E==="both")&&++Z,V&&v&&--Z,I>=0&&Z<0&&(Z=0),I<=1&&Z>R&&(Z=R),Z/R}}};class Lr{done(){return!1}}class tr extends Lr{constructor(E=Ji.ease){super(),this.ease=Pc[E]||E}step(E,R,I){return typeof E!="number"?I<1?E:R:E+(R-E)*this.ease(I)}}class kn extends Lr{constructor(E){super(),this.stepper=E}done(E){return E.done}step(E,R,I,V){return this.stepper(E,R,I,V)}}function po(){const M=(this._duration||500)/1e3,E=this._overshoot||0,R=1e-10,I=Math.PI,V=Math.log(E/100+R),Z=-V/Math.sqrt(I*I+V*V),v=3.9/(Z*M);this.d=2*Z*v,this.k=v*v}class wc extends kn{constructor(E=500,R=0){super(),this.duration(E).overshoot(R)}step(E,R,I,V){if(typeof E=="string")return E;if(V.done=I===1/0,I===1/0)return R;if(I===0)return E;I>100&&(I=16),I/=1e3;const Z=V.velocity||0,v=-this.d*Z-this.k*(E-R),x=E+Z*I+v*I*I/2;return V.velocity=Z+v*I,V.done=Math.abs(R-x)+Math.abs(Z)<.002,V.done?R:x}}Dt(wc,{duration:Pi("_duration",po),overshoot:Pi("_overshoot",po)});class Ac extends kn{constructor(E=.1,R=.01,I=0,V=1e3){super(),this.p(E).i(R).d(I).windup(V)}step(E,R,I,V){if(typeof E=="string")return E;if(V.done=I===1/0,I===1/0)return R;if(I===0)return E;const Z=R-E;let v=(V.integral||0)+Z*I;const x=(Z-(V.error||0))/I,t=this._windup;return t!==!1&&(v=Math.max(-t,Math.min(v,t))),V.error=Z,V.integral=v,V.done=Math.abs(Z)<.001,V.done?R:E+(this.P*Z+this.I*v+this.D*x)}}Dt(Ac,{windup:Pi("_windup"),p:Pi("P"),i:Pi("I"),d:Pi("D")});const Mc={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},er={M:function(M,E,R){return E.x=R.x=M[0],E.y=R.y=M[1],["M",E.x,E.y]},L:function(M,E){return E.x=M[0],E.y=M[1],["L",M[0],M[1]]},H:function(M,E){return E.x=M[0],["H",M[0]]},V:function(M,E){return E.y=M[0],["V",M[0]]},C:function(M,E){return E.x=M[4],E.y=M[5],["C",M[0],M[1],M[2],M[3],M[4],M[5]]},S:function(M,E){return E.x=M[2],E.y=M[3],["S",M[0],M[1],M[2],M[3]]},Q:function(M,E){return E.x=M[2],E.y=M[3],["Q",M[0],M[1],M[2],M[3]]},T:function(M,E){return E.x=M[0],E.y=M[1],["T",M[0],M[1]]},Z:function(M,E,R){return E.x=R.x,E.y=R.y,["Z"]},A:function(M,E){return E.x=M[5],E.y=M[6],["A",M[0],M[1],M[2],M[3],M[4],M[5],M[6]]}},ks="mlhvqtcsaz".split("");for(let M=0,E=ks.length;M<E;++M)er[ks[M]]=function(R){return function(I,V,Z){if(R==="H")I[0]=I[0]+V.x;else if(R==="V")I[0]=I[0]+V.y;else if(R==="A")I[5]=I[5]+V.x,I[6]=I[6]+V.y;else for(let v=0,x=I.length;v<x;++v)I[v]=I[v]+(v%2?V.y:V.x);return er[R](I,V,Z)}}(ks[M].toUpperCase());function Rc(M){const E=M.segment[0];return er[E](M.segment.slice(1),M.p,M.p0)}function ir(M){return M.segment.length&&M.segment.length-1===Mc[M.segment[0].toUpperCase()]}function bc(M,E){M.inNumber&&_e(M,!1);const R=wr.test(E);if(R)M.segment=[E];else{const I=M.lastCommand,V=I.toLowerCase(),Z=I===V;M.segment=[V==="m"?Z?"l":"L":I]}return M.inSegment=!0,M.lastCommand=M.segment[0],R}function _e(M,E){if(!M.inNumber)throw new Error("Parser Error");M.number&&M.segment.push(parseFloat(M.number)),M.inNumber=E,M.number="",M.pointSeen=!1,M.hasExponent=!1,ir(M)&&nr(M)}function nr(M){M.inSegment=!1,M.absolute&&(M.segment=Rc(M)),M.segments.push(M.segment)}function Oc(M){if(!M.segment.length)return!1;const E=M.segment[0].toUpperCase()==="A",R=M.segment.length;return E&&(R===4||R===5)}function Lc(M){return M.lastToken.toUpperCase()==="E"}function Fc(M,E=!0){let R=0,I="";const V={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:E,p0:new Zt,p:new Zt};for(;V.lastToken=I,I=M.charAt(R++);)if(!(!V.inSegment&&bc(V,I))){if(I==="."){if(V.pointSeen||V.hasExponent){_e(V,!1),--R;continue}V.inNumber=!0,V.pointSeen=!0,V.number+=I;continue}if(!isNaN(parseInt(I))){if(V.number==="0"||Oc(V)){V.inNumber=!0,V.number=I,_e(V,!0);continue}V.inNumber=!0,V.number+=I;continue}if(I===" "||I===","){V.inNumber&&_e(V,!1);continue}if(I==="-"){if(V.inNumber&&!Lc(V)){_e(V,!1),--R;continue}V.number+=I,V.inNumber=!0;continue}if(I.toUpperCase()==="E"){V.number+=I,V.hasExponent=!0;continue}if(wr.test(I)){if(V.inNumber)_e(V,!1);else if(ir(V))nr(V);else throw new Error("parser Error");--R}}return V.inNumber&&_e(V,!1),V.inSegment&&ir(V)&&nr(V),V.segments}function Dc(M){let E="";for(let R=0,I=M.length;R<I;R++)E+=M[R][0],M[R][1]!=null&&(E+=M[R][1],M[R][2]!=null&&(E+=" ",E+=M[R][2],M[R][3]!=null&&(E+=" ",E+=M[R][3],E+=" ",E+=M[R][4],M[R][5]!=null&&(E+=" ",E+=M[R][5],E+=" ",E+=M[R][6],M[R][7]!=null&&(E+=" ",E+=M[R][7])))));return E+" "}class ai extends Ai{bbox(){return Ye().path.setAttribute("d",this.toString()),new se(Ye.nodes.path.getBBox())}move(E,R){const I=this.bbox();if(E-=I.x,R-=I.y,!isNaN(E)&&!isNaN(R))for(let V,Z=this.length-1;Z>=0;Z--)V=this[Z][0],V==="M"||V==="L"||V==="T"?(this[Z][1]+=E,this[Z][2]+=R):V==="H"?this[Z][1]+=E:V==="V"?this[Z][1]+=R:V==="C"||V==="S"||V==="Q"?(this[Z][1]+=E,this[Z][2]+=R,this[Z][3]+=E,this[Z][4]+=R,V==="C"&&(this[Z][5]+=E,this[Z][6]+=R)):V==="A"&&(this[Z][6]+=E,this[Z][7]+=R);return this}parse(E="M0 0"){return Array.isArray(E)&&(E=Array.prototype.concat.apply([],E).toString()),Fc(E)}size(E,R){const I=this.bbox();let V,Z;for(I.width=I.width===0?1:I.width,I.height=I.height===0?1:I.height,V=this.length-1;V>=0;V--)Z=this[V][0],Z==="M"||Z==="L"||Z==="T"?(this[V][1]=(this[V][1]-I.x)*E/I.width+I.x,this[V][2]=(this[V][2]-I.y)*R/I.height+I.y):Z==="H"?this[V][1]=(this[V][1]-I.x)*E/I.width+I.x:Z==="V"?this[V][1]=(this[V][1]-I.y)*R/I.height+I.y:Z==="C"||Z==="S"||Z==="Q"?(this[V][1]=(this[V][1]-I.x)*E/I.width+I.x,this[V][2]=(this[V][2]-I.y)*R/I.height+I.y,this[V][3]=(this[V][3]-I.x)*E/I.width+I.x,this[V][4]=(this[V][4]-I.y)*R/I.height+I.y,Z==="C"&&(this[V][5]=(this[V][5]-I.x)*E/I.width+I.x,this[V][6]=(this[V][6]-I.y)*R/I.height+I.y)):Z==="A"&&(this[V][1]=this[V][1]*E/I.width,this[V][2]=this[V][2]*R/I.height,this[V][6]=(this[V][6]-I.x)*E/I.width+I.x,this[V][7]=(this[V][7]-I.y)*R/I.height+I.y);return this}toString(){return Dc(this)}}const Qo=M=>{const E=typeof M;return E==="number"?Ot:E==="string"?Xt.isColor(M)?Xt:Fe.test(M)?wr.test(M)?ai:Ai:Bo.test(M)?Ot:sr:Fr.indexOf(M.constructor)>-1?M.constructor:Array.isArray(M)?Ai:E==="object"?un:sr};class ti{constructor(E){this._stepper=E||new tr("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(E){return this._morphObj.morph(this._from,this._to,E,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(R,I){return R&&I},!0)}from(E){return E==null?this._from:(this._from=this._set(E),this)}stepper(E){return E==null?this._stepper:(this._stepper=E,this)}to(E){return E==null?this._to:(this._to=this._set(E),this)}type(E){return E==null?this._type:(this._type=E,this)}_set(E){this._type||this.type(Qo(E));let R=new this._type(E);return this._type===Xt&&(R=this._to?R[this._to[4]]():this._from?R[this._from[4]]():R),this._type===un&&(R=this._to?R.align(this._to):this._from?R.align(this._from):R),R=R.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(R.length)).map(Object).map(function(I){return I.done=!0,I}),R}}class sr{constructor(...E){this.init(...E)}init(E){return E=Array.isArray(E)?E[0]:E,this.value=E,this}toArray(){return[this.value]}valueOf(){return this.value}}class En{constructor(...E){this.init(...E)}init(E){return Array.isArray(E)&&(E={scaleX:E[0],scaleY:E[1],shear:E[2],rotate:E[3],translateX:E[4],translateY:E[5],originX:E[6],originY:E[7]}),Object.assign(this,En.defaults,E),this}toArray(){const E=this;return[E.scaleX,E.scaleY,E.shear,E.rotate,E.translateX,E.translateY,E.originX,E.originY]}}En.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Ic=(M,E)=>M[0]<E[0]?-1:M[0]>E[0]?1:0;class un{constructor(...E){this.init(...E)}align(E){const R=this.values;for(let I=0,V=R.length;I<V;++I){if(R[I+1]===E[I+1]){if(R[I+1]===Xt&&E[I+7]!==R[I+7]){const x=E[I+7],t=new Xt(this.values.splice(I+3,5))[x]().toArray();this.values.splice(I+3,0,...t)}I+=R[I+2]+2;continue}if(!E[I+1])return this;const Z=new E[I+1]().toArray(),v=R[I+2]+3;R.splice(I,v,E[I],E[I+1],E[I+2],...Z),I+=R[I+2]+2}return this}init(E){if(this.values=[],Array.isArray(E)){this.values=E.slice();return}E=E||{};const R=[];for(const I in E){const V=Qo(E[I]),Z=new V(E[I]).toArray();R.push([I,V,Z.length,...Z])}return R.sort(Ic),this.values=R.reduce((I,V)=>I.concat(V),[]),this}toArray(){return this.values}valueOf(){const E={},R=this.values;for(;R.length;){const I=R.shift(),V=R.shift(),Z=R.shift(),v=R.splice(0,Z);E[I]=new V(v)}return E}}const Fr=[sr,En,un];function Bc(M=[]){Fr.push(...[].concat(M))}function Nc(){Dt(Fr,{to(M){return new ti().type(this.constructor).from(this.toArray()).to(M)},fromArray(M){return this.init(M),this},toConsumable(){return this.toArray()},morph(M,E,R,I,V){const Z=function(v,x){return I.step(v,E[x],R,V[x],V)};return this.fromArray(M.map(Z))}})}class Li extends ue{constructor(E,R=E){super(kt("path",E),R)}array(){return this._array||(this._array=new ai(this.attr("d")))}clear(){return delete this._array,this}height(E){return E==null?this.bbox().height:this.size(this.bbox().width,E)}move(E,R){return this.attr("d",this.array().move(E,R))}plot(E){return E==null?this.array():this.clear().attr("d",typeof E=="string"?E:this._array=new ai(E))}size(E,R){const I=bi(this,E,R);return this.attr("d",this.array().size(I.width,I.height))}width(E){return E==null?this.bbox().width:this.size(E,this.bbox().height)}x(E){return E==null?this.bbox().x:this.move(E,this.bbox().y)}y(E){return E==null?this.bbox().y:this.move(this.bbox().x,E)}}Li.prototype.MorphArray=ai;Lt({Container:{path:jt(function(M){return this.put(new Li).plot(M||new ai)})}});Bt(Li,"Path");function Gc(){return this._array||(this._array=new He(this.attr("points")))}function Uc(){return delete this._array,this}function Vc(M,E){return this.attr("points",this.array().move(M,E))}function Xc(M){return M==null?this.array():this.clear().attr("points",typeof M=="string"?M:this._array=new He(M))}function zc(M,E){const R=bi(this,M,E);return this.attr("points",this.array().size(R.width,R.height))}var Jo={__proto__:null,array:Gc,clear:Uc,move:Vc,plot:Xc,size:zc};class Cn extends ue{constructor(E,R=E){super(kt("polygon",E),R)}}Lt({Container:{polygon:jt(function(M){return this.put(new Cn).plot(M||new He)})}});Dt(Cn,Or);Dt(Cn,Jo);Bt(Cn,"Polygon");class Pn extends ue{constructor(E,R=E){super(kt("polyline",E),R)}}Lt({Container:{polyline:jt(function(M){return this.put(new Pn).plot(M||new He)})}});Dt(Pn,Or);Dt(Pn,Jo);Bt(Pn,"Polyline");class as extends ue{constructor(E,R=E){super(kt("rect",E),R)}}Dt(as,{rx:Rr,ry:br});Lt({Container:{rect:jt(function(M,E){return this.put(new as).size(M,E)})}});Bt(as,"Rect");class Ks{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(E){const R=typeof E.next<"u"?E:{value:E,next:null,prev:null};return this._last?(R.prev=this._last,this._last.next=R,this._last=R):(this._last=R,this._first=R),R}remove(E){E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),E===this._last&&(this._last=E.prev),E===this._first&&(this._first=E.next),E.prev=null,E.next=null}shift(){const E=this._first;return E?(this._first=E.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,E.value):null}}const Vt={nextDraw:null,frames:new Ks,timeouts:new Ks,immediates:new Ks,timer:()=>Gt.window.performance||Gt.window.Date,transforms:[],frame(M){const E=Vt.frames.push({run:M});return Vt.nextDraw===null&&(Vt.nextDraw=Gt.window.requestAnimationFrame(Vt._draw)),E},timeout(M,E){E=E||0;const R=Vt.timer().now()+E,I=Vt.timeouts.push({run:M,time:R});return Vt.nextDraw===null&&(Vt.nextDraw=Gt.window.requestAnimationFrame(Vt._draw)),I},immediate(M){const E=Vt.immediates.push(M);return Vt.nextDraw===null&&(Vt.nextDraw=Gt.window.requestAnimationFrame(Vt._draw)),E},cancelFrame(M){M!=null&&Vt.frames.remove(M)},clearTimeout(M){M!=null&&Vt.timeouts.remove(M)},cancelImmediate(M){M!=null&&Vt.immediates.remove(M)},_draw(M){let E=null;const R=Vt.timeouts.last();for(;(E=Vt.timeouts.shift())&&(M>=E.time?E.run():Vt.timeouts.push(E),E!==R););let I=null;const V=Vt.frames.last();for(;I!==V&&(I=Vt.frames.shift());)I.run(M);let Z=null;for(;Z=Vt.immediates.shift();)Z();Vt.nextDraw=Vt.timeouts.first()||Vt.frames.first()?Gt.window.requestAnimationFrame(Vt._draw):null}},Yc=function(M){const E=M.start,R=M.runner.duration(),I=E+R;return{start:E,duration:R,end:I,runner:M.runner}},Wc=function(){const M=Gt.window;return(M.performance||M.Date).now()};class qo extends Tn{constructor(E=Wc){super(),this._timeSource=E,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const E=this.getLastRunnerInfo(),R=E?E.runner.duration():0;return(E?E.start:this._time)+R}getEndTimeOfTimeline(){const E=this._runners.map(R=>R.start+R.runner.duration());return Math.max(0,...E)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(E){return this._runners[this._runnerIds.indexOf(E)]||null}pause(){return this._paused=!0,this._continue()}persist(E){return E==null?this._persist:(this._persist=E,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(E){const R=this.speed();if(E==null)return this.speed(-R);const I=Math.abs(R);return this.speed(E?-I:I)}schedule(E,R,I){if(E==null)return this._runners.map(Yc);let V=0;const Z=this.getEndTime();if(R=R||0,I==null||I==="last"||I==="after")V=Z;else if(I==="absolute"||I==="start")V=R,R=0;else if(I==="now")V=this._time;else if(I==="relative"){const t=this.getRunnerInfoById(E.id);t&&(V=t.start+R,R=0)}else if(I==="with-last"){const t=this.getLastRunnerInfo();V=t?t.start:this._time}else throw new Error('Invalid value for the "when" parameter');E.unschedule(),E.timeline(this);const v=E.persist(),x={persist:v===null?this._persist:v,start:V+R,runner:E};return this._lastRunnerId=E.id,this._runners.push(x),this._runners.sort((t,l)=>t.start-l.start),this._runnerIds=this._runners.map(t=>t.runner.id),this.updateTime()._continue(),this}seek(E){return this.time(this._time+E)}source(E){return E==null?this._timeSource:(this._timeSource=E,this)}speed(E){return E==null?this._speed:(this._speed=E,this)}stop(){return this.time(0),this.pause()}time(E){return E==null?this._time:(this._time=E,this._continue(!0))}unschedule(E){const R=this._runnerIds.indexOf(E.id);return R<0?this:(this._runners.splice(R,1),this._runnerIds.splice(R,1),E.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(E=!1){return Vt.cancelFrame(this._nextFrame),this._nextFrame=null,E?this._stepImmediate():this._paused?this:(this._nextFrame=Vt.frame(this._step),this)}_stepFn(E=!1){const R=this._timeSource();let I=R-this._lastSourceTime;E&&(I=0);const V=this._speed*I+(this._time-this._lastStepTime);this._lastSourceTime=R,E||(this._time+=V,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let v=this._runners.length;v--;){const x=this._runners[v],t=x.runner;this._time-x.start<=0&&t.reset()}let Z=!1;for(let v=0,x=this._runners.length;v<x;v++){const t=this._runners[v],l=t.runner;let c=V;const a=this._time-t.start;if(a<=0){Z=!0;continue}else a<c&&(c=a);if(!l.active())continue;l.step(c).done?t.persist!==!0&&l.duration()-l.time()+this._time+t.persist<this._time&&(l.unschedule(),--v,--x):Z=!0}return Z&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}Lt({Element:{timeline:function(M){return M==null?(this._timeline=this._timeline||new qo,this._timeline):(this._timeline=M,this)}}});class he extends Tn{constructor(E){super(),this.id=he.id++,E=E??Ji.duration,E=typeof E=="function"?new kn(E):E,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof E=="number"&&E,this._isDeclarative=E instanceof kn,this._stepper=this._isDeclarative?E:new tr,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Rt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(E,R,I){let V=1,Z=!1,v=0;return E=E||Ji.duration,R=R||Ji.delay,I=I||"last",typeof E=="object"&&!(E instanceof Lr)&&(R=E.delay||R,I=E.when||I,Z=E.swing||Z,V=E.times||V,v=E.wait||v,E=E.duration||Ji.duration),{duration:E,delay:R,swing:Z,times:V,wait:v,when:I}}active(E){return E==null?this.enabled:(this.enabled=E,this)}addTransform(E,R){return this.transforms.lmultiplyO(E),this}after(E){return this.on("finished",E)}animate(E,R,I){const V=he.sanitise(E,R,I),Z=new he(V.duration);return this._timeline&&Z.timeline(this._timeline),this._element&&Z.element(this._element),Z.loop(V).schedule(V.delay,V.when)}clearTransform(){return this.transforms=new Rt,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(E=>!E.isTransform))}delay(E){return this.animate(0,E)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(E){return this.queue(null,E)}ease(E){return this._stepper=new tr(E),this}element(E){return E==null?this._element:(this._element=E,E._prepareRunner(),this)}finish(){return this.step(1/0)}loop(E,R,I){return typeof E=="object"&&(R=E.swing,I=E.wait,E=E.times),this._times=E||1/0,this._swing=R||!1,this._wait=I||0,this._times===!0&&(this._times=1/0),this}loops(E){const R=this._duration+this._wait;if(E==null){const v=Math.floor(this._time/R),t=(this._time-v*R)/this._duration;return Math.min(v+t,this._times)}const I=Math.floor(E),V=E%1,Z=R*I+this._duration*V;return this.time(Z)}persist(E){return E==null?this._persist:(this._persist=E,this)}position(E){const R=this._time,I=this._duration,V=this._wait,Z=this._times,v=this._swing,x=this._reverse;let t;if(E==null){const r=function(e){const i=v*Math.floor(e%(2*(V+I))/(V+I)),h=i&&!x||!i&&x,n=Math.pow(-1,h)*(e%(V+I))/I+h;return Math.max(Math.min(n,1),0)},s=Z*(V+I)-V;return t=R<=0?Math.round(r(1e-5)):R<s?r(R):Math.round(r(s-1e-5)),t}const l=Math.floor(this.loops()),c=v&&l%2===0;return t=l+(c&&!x||x&&c?E:1-E),this.loops(t)}progress(E){return E==null?Math.min(1,this._time/this.duration()):this.time(E*this.duration())}queue(E,R,I,V){return this._queue.push({initialiser:E||vo,runner:R||vo,retarget:I,isTransform:V,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(E){return this._reverse=E??!this._reverse,this}schedule(E,R,I){if(E instanceof qo||(I=R,R=E,E=this.timeline()),!E)throw Error("Runner cannot be scheduled without timeline");return E.schedule(this,R,I),this}step(E){if(!this.enabled)return this;E=E??16,this._time+=E;const R=this.position(),I=this._lastPosition!==R&&this._time>=0;this._lastPosition=R;const V=this.duration(),Z=this._lastTime<=0&&this._time>0,v=this._lastTime<V&&this._time>=V;this._lastTime=this._time,Z&&this.fire("start",this);const x=this._isDeclarative;this.done=!x&&!v&&this._time>=V,this._reseted=!1;let t=!1;return(I||x)&&(this._initialise(I),this.transforms=new Rt,t=this._run(x?E:R),this.fire("step",this)),this.done=this.done||t&&x,v&&this.fire("finished",this),this}time(E){if(E==null)return this._time;const R=E-this._time;return this.step(R),this}timeline(E){return typeof E>"u"?this._timeline:(this._timeline=E,this)}unschedule(){const E=this.timeline();return E&&E.unschedule(this),this}_initialise(E){if(!(!E&&!this._isDeclarative))for(let R=0,I=this._queue.length;R<I;++R){const V=this._queue[R],Z=this._isDeclarative||!V.initialised&&E;E=!V.finished,Z&&E&&(V.initialiser.call(this),V.initialised=!0)}}_rememberMorpher(E,R){if(this._history[E]={morpher:R,caller:this._queue[this._queue.length-1]},this._isDeclarative){const I=this.timeline();I&&I.play()}}_run(E){let R=!0;for(let I=0,V=this._queue.length;I<V;++I){const Z=this._queue[I],v=Z.runner.call(this,E);Z.finished=Z.finished||v===!0,R=R&&Z.finished}return R}_tryRetarget(E,R,I){if(this._history[E]){if(!this._history[E].caller.initialised){const Z=this._queue.indexOf(this._history[E].caller);return this._queue.splice(Z,1),!1}this._history[E].caller.retarget?this._history[E].caller.retarget.call(this,R,I):this._history[E].morpher.to(R),this._history[E].caller.finished=!1;const V=this.timeline();return V&&V.play(),!0}return!1}}he.id=0;class Kn{constructor(E=new Rt,R=-1,I=!0){this.transforms=E,this.id=R,this.done=I}clearTransformsFromQueue(){}}Dt([he,Kn],{mergeWith(M){return new Kn(M.transforms.lmultiply(this.transforms),M.id)}});const _o=(M,E)=>M.lmultiplyO(E),tl=M=>M.transforms;function Hc(){const E=this._transformationRunners.runners.map(tl).reduce(_o,new Rt);this.transform(E),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class jc{constructor(){this.runners=[],this.ids=[]}add(E){if(this.runners.includes(E))return;const R=E.id+1;return this.runners.push(E),this.ids.push(R),this}clearBefore(E){const R=this.ids.indexOf(E+1)||1;return this.ids.splice(0,R,0),this.runners.splice(0,R,new Kn).forEach(I=>I.clearTransformsFromQueue()),this}edit(E,R){const I=this.ids.indexOf(E+1);return this.ids.splice(I,1,E+1),this.runners.splice(I,1,R),this}getByID(E){return this.runners[this.ids.indexOf(E+1)]}length(){return this.ids.length}merge(){let E=null;for(let R=0;R<this.runners.length;++R){const I=this.runners[R];if(E&&I.done&&E.done&&(!I._timeline||!I._timeline._runnerIds.includes(I.id))&&(!E._timeline||!E._timeline._runnerIds.includes(E.id))){this.remove(I.id);const Z=I.mergeWith(E);this.edit(E.id,Z),E=Z,--R}else E=I}return this}remove(E){const R=this.ids.indexOf(E+1);return this.ids.splice(R,1),this.runners.splice(R,1),this}}Lt({Element:{animate(M,E,R){const I=he.sanitise(M,E,R),V=this.timeline();return new he(I.duration).loop(I).element(this).timeline(V.play()).schedule(I.delay,I.when)},delay(M,E){return this.animate(0,M,E)},_clearTransformRunnersBefore(M){this._transformationRunners.clearBefore(M.id)},_currentTransform(M){return this._transformationRunners.runners.filter(E=>E.id<=M.id).map(tl).reduce(_o,new Rt)},_addRunner(M){this._transformationRunners.add(M),Vt.cancelImmediate(this._frameId),this._frameId=Vt.immediate(Hc.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new jc().add(new Kn(new Rt(this))))}}});const kc=(M,E)=>M.filter(R=>!E.includes(R));Dt(he,{attr(M,E){return this.styleAttr("attr",M,E)},css(M,E){return this.styleAttr("css",M,E)},styleAttr(M,E,R){if(typeof E=="string")return this.styleAttr(M,{[E]:R});let I=E;if(this._tryRetarget(M,I))return this;let V=new ti(this._stepper).to(I),Z=Object.keys(I);return this.queue(function(){V=V.from(this.element()[M](Z))},function(v){return this.element()[M](V.at(v).valueOf()),V.done()},function(v){const x=Object.keys(v),t=kc(x,Z);if(t.length){const c=this.element()[M](t),a=new un(V.from()).valueOf();Object.assign(a,c),V.from(a)}const l=new un(V.to()).valueOf();Object.assign(l,v),V.to(l),Z=x,I=v}),this._rememberMorpher(M,V),this},zoom(M,E){if(this._tryRetarget("zoom",M,E))return this;let R=new ti(this._stepper).to(new Ot(M));return this.queue(function(){R=R.from(this.element().zoom())},function(I){return this.element().zoom(R.at(I),E),R.done()},function(I,V){E=V,R.to(I)}),this._rememberMorpher("zoom",R),this},transform(M,E,R){if(E=M.relative||E,this._isDeclarative&&!E&&this._tryRetarget("transform",M))return this;const I=Rt.isMatrixLike(M);R=M.affine!=null?M.affine:R??!I;const V=new ti(this._stepper).type(R?En:Rt);let Z,v,x,t,l;function c(){v=v||this.element(),Z=Z||qs(M,v),l=new Rt(E?void 0:v),v._addRunner(this),E||v._clearTransformRunnersBefore(this)}function a(s){E||this.clearTransform();const{x:e,y:i}=new Zt(Z).transform(v._currentTransform(this));let h=new Rt({...M,origin:[e,i]}),n=this._isDeclarative&&x?x:l;if(R){h=h.decompose(e,i),n=n.decompose(e,i);const f=h.rotate,u=n.rotate,d=[f-360,f,f+360],p=d.map(g=>Math.abs(g-u)),m=Math.min(...p),y=p.indexOf(m);h.rotate=d[y]}E&&(I||(h.rotate=M.rotate||0),this._isDeclarative&&t&&(n.rotate=t)),V.from(n),V.to(h);const o=V.at(s);return t=o.rotate,x=new Rt(o),this.addTransform(x),v._addRunner(this),V.done()}function r(s){(s.origin||"center").toString()!==(M.origin||"center").toString()&&(Z=qs(s,v)),M={...s,origin:Z}}return this.queue(c,a,r,!0),this._isDeclarative&&this._rememberMorpher("transform",V),this},x(M,E){return this._queueNumber("x",M)},y(M){return this._queueNumber("y",M)},dx(M=0){return this._queueNumberDelta("x",M)},dy(M=0){return this._queueNumberDelta("y",M)},dmove(M,E){return this.dx(M).dy(E)},_queueNumberDelta(M,E){if(E=new Ot(E),this._tryRetarget(M,E))return this;const R=new ti(this._stepper).to(E);let I=null;return this.queue(function(){I=this.element()[M](),R.from(I),R.to(I+E)},function(V){return this.element()[M](R.at(V)),R.done()},function(V){R.to(I+new Ot(V))}),this._rememberMorpher(M,R),this},_queueObject(M,E){if(this._tryRetarget(M,E))return this;const R=new ti(this._stepper).to(E);return this.queue(function(){R.from(this.element()[M]())},function(I){return this.element()[M](R.at(I)),R.done()}),this._rememberMorpher(M,R),this},_queueNumber(M,E){return this._queueObject(M,new Ot(E))},cx(M){return this._queueNumber("cx",M)},cy(M){return this._queueNumber("cy",M)},move(M,E){return this.x(M).y(E)},center(M,E){return this.cx(M).cy(E)},size(M,E){let R;return(!M||!E)&&(R=this._element.bbox()),M||(M=R.width/R.height*E),E||(E=R.height/R.width*M),this.width(M).height(E)},width(M){return this._queueNumber("width",M)},height(M){return this._queueNumber("height",M)},plot(M,E,R,I){if(arguments.length===4)return this.plot([M,E,R,I]);if(this._tryRetarget("plot",M))return this;const V=new ti(this._stepper).type(this._element.MorphArray).to(M);return this.queue(function(){V.from(this._element.array())},function(Z){return this._element.plot(V.at(Z)),V.done()}),this._rememberMorpher("plot",V),this},leading(M){return this._queueNumber("leading",M)},viewbox(M,E,R,I){return this._queueObject("viewbox",new se(M,E,R,I))},update(M){return typeof M!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(M.opacity!=null&&this.attr("stop-opacity",M.opacity),M.color!=null&&this.attr("stop-color",M.color),M.offset!=null&&this.attr("offset",M.offset),this)}});Dt(he,{rx:Rr,ry:br,from:$o,to:Zo});Bt(he,"Runner");class Dr extends le{constructor(E,R=E){super(kt("svg",E),R),this.namespace()}defs(){return this.isRoot()?ce(this.node.querySelector("defs"))||this.put(new Mr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Gt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Er,version:"1.1"}).attr("xmlns:xlink",yn,Vn).attr("xmlns:svgjs",fd,Vn):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Vn).attr("xmlns:svgjs",null,Vn)}root(){return this.isRoot()?this:super.root()}}Lt({Container:{nested:jt(function(){return this.put(new Dr)})}});Bt(Dr,"Svg",!0);let Ir=class extends le{constructor(E,R=E){super(kt("symbol",E),R)}};Lt({Container:{symbol:jt(function(){return this.put(new Ir)})}});Bt(Ir,"Symbol");function Kc(M){return this._build===!1&&this.clear(),this.node.appendChild(Gt.document.createTextNode(M)),this}function $c(){return this.node.getComputedTextLength()}function Zc(M,E=this.bbox()){return M==null?E.x:this.attr("x",this.attr("x")+M-E.x)}function Qc(M,E=this.bbox()){return M==null?E.y:this.attr("y",this.attr("y")+M-E.y)}function Jc(M,E,R=this.bbox()){return this.x(M,R).y(E,R)}function qc(M,E=this.bbox()){return M==null?E.cx:this.attr("x",this.attr("x")+M-E.cx)}function _c(M,E=this.bbox()){return M==null?E.cy:this.attr("y",this.attr("y")+M-E.cy)}function tv(M,E,R=this.bbox()){return this.cx(M,R).cy(E,R)}function ev(M){return this.attr("x",M)}function iv(M){return this.attr("y",M)}function nv(M,E){return this.ax(M).ay(E)}function sv(M){return this._build=!!M,this}var el={__proto__:null,plain:Kc,length:$c,x:Zc,y:Qc,move:Jc,cx:qc,cy:_c,center:tv,ax:ev,ay:iv,amove:nv,build:sv};class ve extends ue{constructor(E,R=E){super(kt("text",E),R),this.dom.leading=new Ot(1.3),this._rebuild=!0,this._build=!1}leading(E){return E==null?this.dom.leading:(this.dom.leading=new Ot(E),this.rebuild())}rebuild(E){if(typeof E=="boolean"&&(this._rebuild=E),this._rebuild){const R=this;let I=0;const V=this.dom.leading;this.each(function(Z){const v=Gt.window.getComputedStyle(this.node).getPropertyValue("font-size"),x=V*new Ot(v);this.dom.newLined&&(this.attr("x",R.attr("x")),this.text()===`
`?I+=x:(this.attr("dy",Z?x+I:0),I=0))}),this.fire("rebuild")}return this}setData(E){return this.dom=E,this.dom.leading=new Ot(E.leading||1.3),this}text(E){if(E===void 0){const R=this.node.childNodes;let I=0;E="";for(let V=0,Z=R.length;V<Z;++V){if(R[V].nodeName==="textPath"){V===0&&(I=1);continue}V!==I&&R[V].nodeType!==3&&ce(R[V]).dom.newLined===!0&&(E+=`
`),E+=R[V].textContent}return E}if(this.clear().build(!0),typeof E=="function")E.call(this,this);else{E=(E+"").split(`
`);for(let R=0,I=E.length;R<I;R++)this.newLine(E[R])}return this.build(!1).rebuild()}}Dt(ve,el);Lt({Container:{text:jt(function(M=""){return this.put(new ve).text(M)}),plain:jt(function(M=""){return this.put(new ve).plain(M)})}});Bt(ve,"Text");class os extends ue{constructor(E,R=E){super(kt("tspan",E),R),this._build=!1}dx(E){return this.attr("dx",E)}dy(E){return this.attr("dy",E)}newLine(){this.dom.newLined=!0;const E=this.parent();if(!(E instanceof ve))return this;const R=E.index(this),I=Gt.window.getComputedStyle(this.node).getPropertyValue("font-size"),V=E.dom.leading*new Ot(I);return this.dy(R?V:0).attr("x",E.x())}text(E){return E==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof E=="function"?(this.clear().build(!0),E.call(this,this),this.build(!1)):this.plain(E),this)}}Dt(os,el);Lt({Tspan:{tspan:jt(function(M=""){const E=new os;return this._build||this.clear(),this.put(E).text(M)})},Text:{newLine:function(M=""){return this.tspan(M).newLine()}}});Bt(os,"Tspan");class Br extends ue{constructor(E,R=E){super(kt("circle",E),R)}radius(E){return this.attr("r",E)}rx(E){return this.attr("r",E)}ry(E){return this.rx(E)}size(E){return this.radius(new Ot(E).divide(2))}}Dt(Br,{x:zo,y:Yo,cx:Wo,cy:Ho,width:jo,height:ko});Lt({Container:{circle:jt(function(M=0){return this.put(new Br).size(M).move(0,0)})}});Bt(Br,"Circle");class rr extends le{constructor(E,R=E){super(kt("clipPath",E),R)}remove(){return this.targets().forEach(function(E){E.unclip()}),super.remove()}targets(){return Oi('svg [clip-path*="'+this.id()+'"]')}}Lt({Container:{clip:jt(function(){return this.defs().put(new rr)})},Element:{clipper(){return this.reference("clip-path")},clipWith(M){const E=M instanceof rr?M:this.parent().clip().add(M);return this.attr("clip-path",'url("#'+E.id()+'")')},unclip(){return this.attr("clip-path",null)}}});Bt(rr,"ClipPath");class il extends Se{constructor(E,R=E){super(kt("foreignObject",E),R)}}Lt({Container:{foreignObject:jt(function(M,E){return this.put(new il).size(M,E)})}});Bt(il,"ForeignObject");function rv(M,E){return this.children().forEach((R,I)=>{let V;try{V=R.bbox()}catch{return}const Z=new Rt(R),v=Z.translate(M,E).transform(Z.inverse()),x=new Zt(V.x,V.y).transform(v);R.move(x.x,x.y)}),this}function av(M){return this.dmove(M,0)}function ov(M){return this.dmove(0,M)}function lv(M,E=this.bbox()){return M==null?E.height:this.size(E.width,M,E)}function hv(M=0,E=0,R=this.bbox()){const I=M-R.x,V=E-R.y;return this.dmove(I,V)}function uv(M,E,R=this.bbox()){const I=bi(this,M,E,R),V=I.width/R.width,Z=I.height/R.height;return this.children().forEach((v,x)=>{const t=new Zt(R).transform(new Rt(v).inverse());v.scale(V,Z,t.x,t.y)}),this}function fv(M,E=this.bbox()){return M==null?E.width:this.size(M,E.height,E)}function dv(M,E=this.bbox()){return M==null?E.x:this.move(M,E.y,E)}function cv(M,E=this.bbox()){return M==null?E.y:this.move(E.x,M,E)}var nl={__proto__:null,dmove:rv,dx:av,dy:ov,height:lv,move:hv,size:uv,width:fv,x:dv,y:cv};class Nr extends le{constructor(E,R=E){super(kt("g",E),R)}}Dt(Nr,nl);Lt({Container:{group:jt(function(){return this.put(new Nr)})}});Bt(Nr,"G");class $n extends le{constructor(E,R=E){super(kt("a",E),R)}target(E){return this.attr("target",E)}to(E){return this.attr("href",E,yn)}}Dt($n,nl);Lt({Container:{link:jt(function(M){return this.put(new $n).to(M)})},Element:{unlink(){const M=this.linker();if(!M)return this;const E=M.parent();if(!E)return this.remove();const R=E.index(M);return E.add(this,R),M.remove(),this},linkTo(M){let E=this.linker();return E||(E=new $n,this.wrap(E)),typeof M=="function"?M.call(E,E):E.to(M),this},linker(){const M=this.parent();return M&&M.node.nodeName.toLowerCase()==="a"?M:null}}});Bt($n,"A");class ar extends le{constructor(E,R=E){super(kt("mask",E),R)}remove(){return this.targets().forEach(function(E){E.unmask()}),super.remove()}targets(){return Oi('svg [mask*="'+this.id()+'"]')}}Lt({Container:{mask:jt(function(){return this.defs().put(new ar)})},Element:{masker(){return this.reference("mask")},maskWith(M){const E=M instanceof ar?M:this.parent().mask().add(M);return this.attr("mask",'url("#'+E.id()+'")')},unmask(){return this.attr("mask",null)}}});Bt(ar,"Mask");class sl extends Se{constructor(E,R=E){super(kt("stop",E),R)}update(E){return(typeof E=="number"||E instanceof Ot)&&(E={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),E.opacity!=null&&this.attr("stop-opacity",E.opacity),E.color!=null&&this.attr("stop-color",E.color),E.offset!=null&&this.attr("offset",new Ot(E.offset)),this}}Lt({Gradient:{stop:function(M,E,R){return this.put(new sl).update(M,E,R)}}});Bt(sl,"Stop");function vv(M,E){if(!M)return"";if(!E)return M;let R=M+"{";for(const I in E)R+=hd(I)+":"+E[I]+";";return R+="}",R}class or extends Se{constructor(E,R=E){super(kt("style",E),R)}addText(E=""){return this.node.textContent+=E,this}font(E,R,I={}){return this.rule("@font-face",{fontFamily:E,src:R,...I})}rule(E,R){return this.addText(vv(E,R))}}Lt("Dom",{style(M,E){return this.put(new or).rule(M,E)},fontface(M,E,R){return this.put(new or).font(M,E,R)}});Bt(or,"Style");class Gr extends ve{constructor(E,R=E){super(kt("textPath",E),R)}array(){const E=this.track();return E?E.array():null}plot(E){const R=this.track();let I=null;return R&&(I=R.plot(E)),E==null?I:this}track(){return this.reference("href")}}Lt({Container:{textPath:jt(function(M,E){return M instanceof ve||(M=this.text(M)),M.path(E)})},Text:{path:jt(function(M,E=!0){const R=new Gr;M instanceof Li||(M=this.defs().path(M)),R.attr("href","#"+M,yn);let I;if(E)for(;I=this.node.firstChild;)R.node.appendChild(I);return this.put(R)}),textPath(){return this.findOne("textPath")}},Path:{text:jt(function(M){return M instanceof ve||(M=new ve().addTo(this.parent()).text(M)),M.path(this)}),targets(){return Oi("svg textPath").filter(M=>(M.attr("href")||"").includes(this.id()))}}});Gr.prototype.MorphArray=ai;Bt(Gr,"TextPath");class rl extends ue{constructor(E,R=E){super(kt("use",E),R)}use(E,R){return this.attr("href",(R||"")+"#"+E,yn)}}Lt({Container:{use:jt(function(M,E){return this.put(new rl).use(M,E)})}});Bt(rl,"Use");const pv=re;Dt([Dr,Ir,rs,ln,jn],oe("viewbox"));Dt([hn,Pn,Cn,Li],oe("marker"));Dt(ve,oe("Text"));Dt(Li,oe("Path"));Dt(Mr,oe("Defs"));Dt([ve,os],oe("Tspan"));Dt([as,ss,Sn,he],oe("radius"));Dt(Tn,oe("EventTarget"));Dt(We,oe("Dom"));Dt(Se,oe("Element"));Dt(ue,oe("Shape"));Dt([le,Ko],oe("Container"));Dt(Sn,oe("Gradient"));Dt(he,oe("Runner"));ri.extend(od());Bc([Ot,Xt,se,Rt,Ai,He,ai,Zt]);Nc();function gv(M,E,R){const I=pv().size(E,R);I.rect(E,R).fill("red"),I.text(M).size(14).fill("white").center(E/2,R/2);const V=I.svg(),Z=new Blob([V],{type:"image/svg+xml"});return URL.createObjectURL(Z)}var al={exports:{}};(function(M,E){(function(I,V){M.exports=V()})(wi,()=>(()=>{var R={6659:v=>{var x=Object.prototype.hasOwnProperty,t="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(t=!1));function c(e,i,h){this.fn=e,this.context=i,this.once=h||!1}function a(e,i,h,n,o){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new c(h,n||e,o),u=t?t+i:i;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function r(e,i){--e._eventsCount===0?e._events=new l:delete e._events[i]}function s(){this._events=new l,this._eventsCount=0}s.prototype.eventNames=function(){var i=[],h,n;if(this._eventsCount===0)return i;for(n in h=this._events)x.call(h,n)&&i.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(h)):i},s.prototype.listeners=function(i){var h=t?t+i:i,n=this._events[h];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,f=n.length,u=new Array(f);o<f;o++)u[o]=n[o].fn;return u},s.prototype.listenerCount=function(i){var h=t?t+i:i,n=this._events[h];return n?n.fn?1:n.length:0},s.prototype.emit=function(i,h,n,o,f,u){var d=t?t+i:i;if(!this._events[d])return!1;var p=this._events[d],m=arguments.length,y,g;if(p.fn){switch(p.once&&this.removeListener(i,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,n),!0;case 4:return p.fn.call(p.context,h,n,o),!0;case 5:return p.fn.call(p.context,h,n,o,f),!0;case 6:return p.fn.call(p.context,h,n,o,f,u),!0}for(g=1,y=new Array(m-1);g<m;g++)y[g-1]=arguments[g];p.fn.apply(p.context,y)}else{var T=p.length,S;for(g=0;g<T;g++)switch(p[g].once&&this.removeListener(i,p[g].fn,void 0,!0),m){case 1:p[g].fn.call(p[g].context);break;case 2:p[g].fn.call(p[g].context,h);break;case 3:p[g].fn.call(p[g].context,h,n);break;case 4:p[g].fn.call(p[g].context,h,n,o);break;default:if(!y)for(S=1,y=new Array(m-1);S<m;S++)y[S-1]=arguments[S];p[g].fn.apply(p[g].context,y)}}return!0},s.prototype.on=function(i,h,n){return a(this,i,h,n,!1)},s.prototype.once=function(i,h,n){return a(this,i,h,n,!0)},s.prototype.removeListener=function(i,h,n,o){var f=t?t+i:i;if(!this._events[f])return this;if(!h)return r(this,f),this;var u=this._events[f];if(u.fn)u.fn===h&&(!o||u.once)&&(!n||u.context===n)&&r(this,f);else{for(var d=0,p=[],m=u.length;d<m;d++)(u[d].fn!==h||o&&!u[d].once||n&&u[d].context!==n)&&p.push(u[d]);p.length?this._events[f]=p.length===1?p[0]:p:r(this,f)}return this},s.prototype.removeAllListeners=function(i){var h;return i?(h=t?t+i:i,this._events[h]&&r(this,h)):(this._events=new l,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,v.exports=s},62270:(v,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82590),c=function(a,r,s,e){for(var i=a[0],h=1;h<a.length;h++){var n=a[h];l(n,i,r,s,e),i=n}return a};v.exports=c},61148:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"angle",r,s,e,i)};v.exports=c},22015:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){for(var a=0;a<t.length;a++){var r=t[a];l.call(c,r)}return t};v.exports=x},31060:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var r=t[a],s=!0;for(var e in l)r[e]!==l[e]&&(s=!1);if(s)return r}return null};v.exports=x},52367:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var r=t[a],s=!0;for(var e in l)r[e]!==l[e]&&(s=!1);if(s)return r}return null};v.exports=x},12673:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40327),c=t(84093),a=t(72632),r=t(72283),s=t(71030),e=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),i=function(h,n){n===void 0&&(n={});var o=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),u=a(n,"width",-1),d=a(n,"height",-1),p=a(n,"cellWidth",1),m=a(n,"cellHeight",p),y=a(n,"position",c.TOP_LEFT),g=a(n,"x",0),T=a(n,"y",0),S=0,C=0,w=u*p,b=d*m;e.setPosition(g,T),e.setSize(p,m);for(var A=0;A<h.length;A++)if(l(h[A],e,y),o&&u===-1)e.x+=p;else if(f&&d===-1)e.y+=m;else if(f&&!o){if(C+=m,e.y+=m,C===b&&(C=0,S+=p,e.y=T,e.x+=p,S===w))break}else if(S+=p,e.x+=p,S===w&&(S=0,C+=m,e.x=g,e.y+=m,C===b))break;return h};v.exports=i},691:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"alpha",r,s,e,i)};v.exports=c},3877:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"x",r,s,e,i)};v.exports=c},71020:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"x",r,e,h,n),l(a,"y",s,i,h,n)};v.exports=c},28970:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"y",r,s,e,i)};v.exports=c},82249:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,s=(a-c)/t.length,e=l.x,i=l.y,h=l.radius,n=0;n<t.length;n++)t[n].x=e+h*Math.cos(r),t[n].y=i+h*Math.sin(r),r+=s;return t};v.exports=x},30285:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var r=c,s=(a-c)/t.length,e=l.width/2,i=l.height/2,h=0;h<t.length;h++)t[h].x=l.x+e*Math.cos(r),t[h].y=l.y+i*Math.sin(r),r+=s;return t};v.exports=x},61557:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8570),c=function(a,r){for(var s=l(r,a.length),e=0;e<a.length;e++){var i=a[e],h=s[e];i.x=h.x,i.y=h.y}return a};v.exports=c},63549:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40053),c=t(77640),a=t(38487),r=function(s,e,i){i===void 0&&(i=0);var h=l(e,!1,s.length);i>0?c(h,i):i<0&&a(h,Math.abs(i));for(var n=0;n<s.length;n++)s[n].x=h[n].x,s[n].y=h[n].y;return s};v.exports=r},51629:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(58813),c=function(a,r,s){var e=l({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},s),i=l({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},s),h=l({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},s);e.pop(),i.pop(),h.pop(),e=e.concat(i,h);for(var n=e.length/a.length,o=0,f=0;f<a.length;f++){var u=a[f],d=e[Math.floor(o)];u.x=d.x,u.y=d.y,o+=n}return a};v.exports=c},1045:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(l,c)}return t};v.exports=x},6124:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,h=t.length;if(s===1)for(e=r;e<h;e++)t[e][l]+=c+i*a,i++;else for(e=r;e>=0;e--)t[e][l]+=c+i*a,i++;return t};v.exports=x},23646:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,h=t.length;if(s===1)for(e=r;e<h;e++)t[e][l]=c+i*a,i++;else for(e=r;e>=0;e--)t[e][l]=c+i*a,i++;return t};v.exports=x},4392:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30977),c=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};v.exports=c},94985:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72006),c=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};v.exports=c},63305:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74077),c=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};v.exports=c},90739:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(30001),c=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};v.exports=c},91417:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99761),c=function(a,r){for(var s=0;s<a.length;s++)l(r,a[s]);return a};v.exports=c},26182:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"rotation",r,s,e,i)};v.exports=c},87299:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72395),c=t(53996),a=function(r,s,e){for(var i=s.x,h=s.y,n=0;n<r.length;n++){var o=r[n];l(o,i,h,e,Math.max(1,c(o.x,o.y,i,h)))}return r};v.exports=a},92194:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72395),c=function(a,r,s,e){var i=r.x,h=r.y;if(e===0)return a;for(var n=0;n<a.length;n++)l(a[n],i,h,s,e);return a};v.exports=c},30363:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"scaleX",r,s,e,i)};v.exports=c},51449:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"scaleX",r,e,h,n),l(a,"scaleY",s,i,h,n)};v.exports=c},64895:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6124),c=function(a,r,s,e,i){return l(a,"scaleY",r,s,e,i)};v.exports=c},30329:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"alpha",r,s,e,i)};v.exports=c},43954:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e){return l(a,"blendMode",r,0,s,e)};v.exports=c},70688:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"depth",r,s,e,i)};v.exports=c},8314:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){for(var a=0;a<t.length;a++)t[a].setInteractive(l,c);return t};v.exports=x},12894:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"originX",r,e,h,n),l(a,"originY",s,i,h,n),a.forEach(function(o){o.updateDisplayOrigin()}),a};v.exports=c},38767:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"rotation",r,s,e,i)};v.exports=c},18584:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"scaleX",r,e,h,n),l(a,"scaleY",s,i,h,n)};v.exports=c},17381:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"scaleX",r,s,e,i)};v.exports=c},74370:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"scaleY",r,s,e,i)};v.exports=c},27773:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"scrollFactorX",r,e,h,n),l(a,"scrollFactorY",s,i,h,n)};v.exports=c},75257:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"scrollFactorX",r,s,e,i)};v.exports=c},54512:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"scrollFactorY",r,s,e,i)};v.exports=c},69423:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){for(var s=0;s<t.length;s++)t[s].setTint(l,c,a,r);return t};v.exports=x},58291:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e){return l(a,"visible",r,0,s,e)};v.exports=c},94833:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"x",r,s,e,i)};v.exports=c},14284:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i,h,n){return s==null&&(s=r),l(a,"x",r,e,h,n),l(a,"y",s,i,h,n)};v.exports=c},96574:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23646),c=function(a,r,s,e,i){return l(a,"y",r,s,e,i)};v.exports=c},74086:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=new l);var h,n,o=a.length;if(o===1)h=a[0].x,n=a[0].y,a[0].x=r,a[0].y=s;else{var f=1,u=0;e===0&&(u=o-1,f=o-2),h=a[u].x,n=a[u].y,a[u].x=r,a[u].y=s;for(var d=0;d<o;d++)if(!(f>=o||f===-1)){var p=a[f],m=p.x,y=p.y;p.x=h,p.y=n,h=m,n=y,e===0?f--:f++}}return i.x=h,i.y=n,i};v.exports=c},86347:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18592),c=function(a){return l(a)};v.exports=c},1558:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5514),c=function(a,r,s,e,i){i===void 0&&(i=!1);var h=Math.abs(e-s)/a.length,n;if(i)for(n=0;n<a.length;n++)a[n][r]+=l(n*h,s,e);else for(n=0;n<a.length;n++)a[n][r]=l(n*h,s,e);return a};v.exports=c},9938:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87736),c=function(a,r,s,e,i){i===void 0&&(i=!1);var h=Math.abs(e-s)/a.length,n;if(i)for(n=0;n<a.length;n++)a[n][r]+=l(n*h,s,e);else for(n=0;n<a.length;n++)a[n][r]=l(n*h,s,e);return a};v.exports=c},71060:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][l]+=(a+c)/2:t[0][l]=(a+c)/2,t;var s=Math.abs(a-c)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][l]+=e*s+c;else for(e=0;e<t.length;e++)t[e][l]=e*s+c;return t};v.exports=x},11207:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=0;l<t.length;l++)t[l].visible=!t[l].visible;return t};v.exports=x},24404:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),c=function(a,r,s){s===void 0&&(s=0);for(var e=0;e<a.length;e++){var i=a[e];i.x=l(i.x,r.left-s,r.right+s),i.y=l(i.y,r.top-s,r.bottom+s)}return a};v.exports=c},83979:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(16938),r=t(2406),s=t(71519),e=t(10850),i=t(28834),h=new c({initialize:function(o,f,u){this.manager=o,this.key=f,this.type="frame",this.frames=this.getFrames(o.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,o,f,u){f===null&&u===null?(n.frameRate=24,n.duration=24/o*1e3):f&&u===null?(n.duration=f,n.frameRate=o/(f/1e3)):(n.frameRate=u,n.duration=o/u*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,o){var f=this.getFrames(this.manager.textureManager,o);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,n),d=this.frames.slice(n);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,o,f,u){u===void 0&&(u=!0);var d=[],p,m,y=1,g,T;if(typeof o=="string"){if(T=o,!n.exists(T))return console.warn('Texture "%s" not found',T),d;var S=n.get(T),C=S.getFrameNames();u&&i(C),o=[],C.forEach(function(N){o.push({key:T,frame:N})})}if(!Array.isArray(o)||o.length===0)return d;for(g=0;g<o.length;g++){var w=o[g],b=e(w,"key",f);if(b){var A=e(w,"frame",0),D=n.getFrame(b,A);if(!D){console.warn('Texture "%s" not found',b);continue}m=new s(b,A,y,D),m.duration=e(w,"duration",0),m.isFirst=!p,p&&(p.nextFrame=m,m.prevFrame=p),d.push(m),p=m,y++}}if(d.length>0){m.isLast=!0,m.nextFrame=d[0],d[0].prevFrame=m;var B=1/(d.length-1);for(g=0;g<d.length;g++)d[g].progress=g*B}return d},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=l(n,0,1),r(n,this.frames,"progress")},nextFrame:function(n){var o=n.currentFrame;o.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,o.nextFrame)},handleYoyoFrame:function(n,o){if(o||(o=!1),n.inReverse===!o&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=o),this.repeatAnimation(n);return}if(n.inReverse!==o&&n.repeatCounter===0){n.complete();return}n.forward=o;var f=o?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var o=n.currentFrame;o.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,o.prevFrame)},updateAndGetNextTick:function(n,o){n.setCurrentFrame(o),this.getNextTick(n)},removeFrame:function(n){var o=this.frames.indexOf(n);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){n.frames.push(o.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,o=1/(n-1),f,u=0;u<n;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*o,u===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[u+1])):u===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});v.exports=h},71519:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i,h){h===void 0&&(h=!1),this.textureKey=r,this.textureFrame=s,this.index=e,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=c},90249:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85463),c=t(56694),a=t(33885),r=t(6659),s=t(16938),e=t(97081),i=t(72632),h=t(10850),n=t(83392),o=t(13401),f=t(76400),u=new c({Extends:r,initialize:function(p){r.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,p,m){var y=this.anims,g=this.mixes,T=typeof d=="string"?d:d.key,S=typeof p=="string"?p:p.key;if(y.has(T)&&y.has(S)){var C=g.get(T);C||(C={}),C[S]=m,g.set(T,C)}return this},removeMix:function(d,p){var m=this.mixes,y=typeof d=="string"?d:d.key,g=m.get(y);if(g)if(p){var T=typeof p=="string"?p:p.key;g.hasOwnProperty(T)&&delete g[T]}else p||m.delete(y);return this},getMix:function(d,p){var m=this.mixes,y=typeof d=="string"?d:d.key,g=typeof p=="string"?p:p.key,T=m.get(y);return T&&T.hasOwnProperty(g)?T[g]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(s.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,m){var y=[],g=this.game.cache.json.get(d);if(!g)return console.warn("No Aseprite data found for: "+d),y;var T=this,S=h(g,"meta",null),C=h(g,"frames",null);if(S&&C){var w=h(S,"frameTags",[]);w.forEach(function(b){var A=[],D=i(b,"name",null),B=i(b,"from",0),N=i(b,"to",0),Y=i(b,"direction","forward");if(D&&(!p||p&&p.indexOf(D)>-1)){for(var H=0,j=B;j<=N;j++){var J=j.toString(),X=C[J];if(X){var W=i(X,"duration",n.MAX_SAFE_INTEGER);A.push({key:d,frame:J,duration:W}),H+=W}}var L=H/A.length;A.forEach(function(k){k.duration-=L}),Y==="reverse"&&(A=A.reverse());var G={key:D,frames:A,duration:H,yoyo:Y==="pingpong"},z;m?m.anims&&(z=m.anims.create(G)):z=T.create(G),z&&y.push(z)}})}return y},create:function(d){var p=d.key,m=!1;return p&&(m=this.get(p),m?console.warn("AnimationManager key already exists: "+p):(m=new l(this,p,d),this.anims.set(p,m),this.emit(s.ADD_ANIMATION,p,m))),m},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var m=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var y=0;y<d.anims.length;y++)m.push(this.create(d.anims[y]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&m.push(this.create(d));return m},generateFrameNames:function(d,p){var m=h(p,"prefix",""),y=h(p,"start",0),g=h(p,"end",0),T=h(p,"suffix",""),S=h(p,"zeroPad",0),C=h(p,"outputArray",[]),w=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var b=this.textureManager.get(d);if(!b)return C;var A;if(p)for(w||(w=o(y,g)),A=0;A<w.length;A++){var D=m+f(w[A],S,"0",1)+T;b.has(D)?C.push({key:d,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,d)}else for(w=b.getFrameNames(),A=0;A<w.length;A++)C.push({key:d,frame:w[A]});return C},generateFrameNumbers:function(d,p){var m=h(p,"start",0),y=h(p,"end",-1),g=h(p,"first",!1),T=h(p,"outputArray",[]),S=h(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),T;var C=this.textureManager.get(d);if(!C)return T;g&&C.has(g)&&T.push({key:d,frame:g}),S||(y===-1&&(y=C.frameTotal-2),S=o(m,y));for(var w=0;w<S.length;w++){var b=S[w];C.has(b)?T.push({key:d,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,d)}return T},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),m=p.key,y=this.anims.getArray(),g=[],T=0;T<y.length;T++)for(var S=y[T],C=S.frames,w=0;w<C.length;w++)if(C[w].textureKey===m){g.push(S.key);break}return g},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++)p[m].anims.play(d);return this},staggerPlay:function(d,p,m,y){m===void 0&&(m=0),y===void 0&&(y=!0),Array.isArray(p)||(p=[p]);var g=p.length;y||g--;for(var T=0;T<p.length;T++){var S=m<0?Math.abs(m)*(g-T):m*T;p[T].anims.playAfterDelay(d,S)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(s.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(m,y){p.anims.push(y.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=u},16569:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(33885),a=t(72632),r=t(16938),s=t(85463),e=new l({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(i){var h=this.parent;if(i===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var o=i[n];this.nextAnim?this.nextAnimsQueue.push(o):this.nextAnim=o}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(i){this.isPlaying&&this.stop();var h=this.animationManager,n=typeof i=="string"?i:a(i,"key",null),o=this.exists(n)?this.get(n):h.get(n);if(!o)console.warn("Missing animation: "+n);else{this.currentAnim=o;var f=o.getTotalFrames(),u=a(i,"frameRate",o.frameRate),d=a(i,"duration",o.duration);o.calculateDuration(this,f,d,u),this.delay=a(i,"delay",o.delay),this.repeat=a(i,"repeat",o.repeat),this.repeatDelay=a(i,"repeatDelay",o.repeatDelay),this.yoyo=a(i,"yoyo",o.yoyo),this.showBeforeDelay=a(i,"showBeforeDelay",o.showBeforeDelay),this.showOnStart=a(i,"showOnStart",o.showOnStart),this.hideOnComplete=a(i,"hideOnComplete",o.hideOnComplete),this.skipMissedFrames=a(i,"skipMissedFrames",o.skipMissedFrames),this.timeScale=a(i,"timeScale",this.timeScale);var p=a(i,"startFrame",0);p>o.getTotalFrames()&&(p=0);var m=o.frames[p];p===0&&!this.forward&&(m=o.getLastFrame()),this.currentFrame=m}return this.parent},pause:function(i){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),i!==void 0&&this.setCurrentFrame(i),this.parent},resume:function(i){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),i!==void 0&&this.setCurrentFrame(i),this.parent},playAfterDelay:function(i,h){if(!this.isPlaying)this.delayCounter=h,this.play(i,!0);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.nextAnim=i,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(i,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(i);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=i,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(i,h){h===void 0&&(h=!1);var n=this.currentAnim,o=this.parent,f=typeof i=="string"?i:i.key;if(h&&this.isPlaying&&n.key===f)return o;if(n&&this.isPlaying){var u=this.animationManager.getMix(n.key,i);if(u>0)return this.playAfterDelay(i,u)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i)},playReverse:function(i,h){h===void 0&&(h=!1);var n=typeof i=="string"?i:i.key;return h&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i))},startAnimation:function(i){this.load(i);var h=this.currentAnim,n=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(i,h){var n=this.currentAnim;if(n){var o=this.currentFrame,f=this.parent,u=o.textureFrame;f.emit(i,n,o,f,u),h&&f.emit(h+n.key,n,o,f,u)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var i=this.currentFrame;if(!i)return 0;var h=i.progress;return this.inReverse&&(h*=-1),h},setProgress:function(i){return this.forward||(i=1-i),this.setCurrentFrame(this.currentAnim.getFrameByProgress(i)),this.parent},setRepeat:function(i){return this.repeatCounter=i===-1?Number.MAX_VALUE:i,this.parent},globalRemove:function(i,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(i,h){i===void 0&&(i=!1),h===void 0&&(h=!1);var n=this.currentAnim,o=this.parent;return n?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!i,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):o},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(i)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(i)}return this.parent},stopAfterDelay:function(i){return this._pendingStop=1,this._pendingStopValue=i,this.parent},stopAfterRepeat:function(i){return i===void 0&&(i=1),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=i,this.parent},stopOnFrame:function(i){return this._pendingStop=3,this._pendingStopValue=i,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(i,h){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=h*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var o=0;do this.forward?n.nextFrame(this):n.previousFrame(this),o++;while(this.isPlaying&&this.accumulator>this.nextTick&&o<60)}}},setCurrentFrame:function(i){var h=this.parent;return this.currentFrame=i,h.texture=i.frame.texture,h.frame=i.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),i.setAlpha&&(h.alpha=i.alpha),h.setSizeToFrame(),h._originComponent&&(i.frame.customPivot?h.setOrigin(i.frame.pivotX,i.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===i&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(i){return this.anims?this.anims.get(i):null},exists:function(i){return this.anims?this.anims.has(i):!1},create:function(i){var h=i.key,n=!1;return h&&(n=this.get(h),n?console.warn("Animation key already exists: "+h):(n=new s(this,h,i),this.anims||(this.anims=new c),this.anims.set(h,n))),n},createFromAseprite:function(i,h){return this.animationManager.createFromAseprite(i,h,this.parent)},generateFrameNames:function(i,h){return this.animationManager.generateFrameNames(i,h)},generateFrameNumbers:function(i,h){return this.animationManager.generateFrameNumbers(i,h)},remove:function(i){var h=this.get(i);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(i)),h},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=e},44509:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},84563:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},61586:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},72175:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},568:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},37690:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},58525:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},5243:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},10598:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},4860:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},31865:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},16938:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(33885),a=t(6659),r=t(69773),s=new l({initialize:function(){this.entries=new c,this.events=new a},add:function(e,i){return this.entries.set(e,i),this.events.emit(r.ADD,this,e,i),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var i=this.get(e);return i&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,i.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=s},43474:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23740),c=t(56694),a=t(97081),r=new c({initialize:function(e){this.game=e,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new l),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<s.length;e++)this[s[e]].destroy(),this[s[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});v.exports=r},94762:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},75968:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},69773:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(75606),r=t(6659),s=t(89787),e=t(74118),i=t(69360),h=t(93222),n=t(93736),o=new l({Extends:r,Mixins:[c.AlphaSingle,c.Visible],initialize:function(u,d,p,m){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=p,this._height=m,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new i,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(p/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new n);var p=this.width*.5,m=this.height*.5;return d.x=f-p,d.y=u-m,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],p=u[1],m=u[2],y=u[3],g=d*y-p*m;if(!g)return f;var T=u[4],S=u[5],C=this.scrollX,w=this.scrollY,b=this.width,A=this.height,D=this.y,B=D+A,N=this.x,Y=N+b,H=this.culledObjects,j=f.length;g=1/g,H.length=0;for(var J=0;J<j;++J){var X=f[J];if(!X.hasOwnProperty("width")||X.parentContainer){H.push(X);continue}var W=X.width,L=X.height,G=X.x-C*X.scrollFactorX-W*X.originX,z=X.y-w*X.scrollFactorY-L*X.originY,k=G*d+z*m+T,K=G*p+z*y+S,$=(G+W)*d+(z+L)*m+T,Q=(G+W)*p+(z+L)*y+S;$>N&&k<Y&&Q>D&&K<B&&H.push(X)}return H},getWorldPoint:function(f,u,d){d===void 0&&(d=new n);var p=this.matrix.matrix,m=p[0],y=p[1],g=p[2],T=p[3],S=p[4],C=p[5],w=m*T-y*g;if(!w)return d.x=f,d.y=u,d;w=1/w;var b=T*w,A=-y*w,D=-g*w,B=m*w,N=(g*C-T*S)*w,Y=(y*S-m*C)*w,H=Math.cos(this.rotation),j=Math.sin(this.rotation),J=this.zoomX,X=this.zoomY,W=this.scrollX,L=this.scrollY,G=f+(W*H-L*j)*J,z=u+(W*j+L*H)*X;return d.x=G*b+z*D+N,d.y=G*A+z*B+Y,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,p=u*.5,m=this.zoomX,y=this.zoomY,g=this.matrix,T=f*this.originX,S=u*this.originY,C=this.scrollX,w=this.scrollY;this.useBounds&&(C=this.clampX(C),w=this.clampY(w)),this.roundPixels&&(T=Math.round(T),S=Math.round(S)),this.scrollX=C,this.scrollY=w;var b=C+d,A=w+p;this.midPoint.set(b,A);var D=f/m,B=u/y;this.worldView.setTo(b-D/2,A-B/2,D,B),g.applyITRS(this.x+T,this.y+S,this.rotation,m,y),g.translate(-T,-S)},clampX:function(f){var u=this._bounds,d=this.displayWidth,p=u.x+(d-this.width)/2,m=Math.max(p,p+u.width-d);return f<p?f=p:f>m&&(f=m),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,p=u.y+(d-this.height)/2,m=Math.max(p,p+u.height-d);return f<p?f=p:f>m&&(f=m),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=a(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=h(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,p,m){return m===void 0&&(m=!1),this._bounds.setTo(f,u,d,p),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,p){return this.x=f,this.y=u,this.width=d,this.height=p,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=o},47751:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51052),c=t(79993),a=t(82897),r=t(56694),s=t(64937),e=t(53030),i=t(89787),h=t(42798),n=t(74118),o=t(93736),f=new r({Extends:l,Mixins:[s.PostPipeline],initialize:function(d,p,m,y){l.call(this,d,p,m,y),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new n(0,0,u,d),this._follow){var p=this.width/2,m=this.height/2,y=this._follow.x-this.followOffset.x,g=this._follow.y-this.followOffset.y;this.midPoint.set(y,g),this.scrollX=y-p,this.scrollY=g-m}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,p,m,y,g){return this.fadeEffect.start(!1,u,d,p,m,!0,y,g)},fadeOut:function(u,d,p,m,y,g){return this.fadeEffect.start(!0,u,d,p,m,!0,y,g)},fadeFrom:function(u,d,p,m,y,g,T){return this.fadeEffect.start(!1,u,d,p,m,y,g,T)},fade:function(u,d,p,m,y,g,T){return this.fadeEffect.start(!0,u,d,p,m,y,g,T)},flash:function(u,d,p,m,y,g,T){return this.flashEffect.start(u,d,p,m,y,g,T)},shake:function(u,d,p,m,y){return this.shakeEffect.start(u,d,p,m,y)},pan:function(u,d,p,m,y,g,T){return this.panEffect.start(u,d,p,m,y,g,T)},rotateTo:function(u,d,p,m,y,g,T){return this.rotateToEffect.start(u,d,p,m,y,g,T)},zoomTo:function(u,d,p,m,y,g){return this.zoomEffect.start(u,d,p,m,y,g)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,p=u*.5,m=d*.5,y=this.zoom,g=this.matrix,T=u*this.originX,S=d*this.originY,C=this._follow,w=this.deadzone,b=this.scrollX,A=this.scrollY;w&&c(w,this.midPoint.x,this.midPoint.y);var D=!1;if(this.roundPixels&&(T=Math.floor(T),S=Math.floor(S)),C&&!this.panEffect.isRunning){var B=this.lerp,N=C.x-this.followOffset.x,Y=C.y-this.followOffset.y;this.roundPixels&&(N=Math.floor(N),Y=Math.floor(Y)),w?(N<w.x?b=h(b,b-(w.x-N),B.x):N>w.right&&(b=h(b,b+(N-w.right),B.x)),Y<w.y?A=h(A,A-(w.y-Y),B.y):Y>w.bottom&&(A=h(A,A+(Y-w.bottom),B.y))):(b=h(b,N-T,B.x),A=h(A,Y-S,B.y)),D=!0}this.useBounds&&(b=this.clampX(b),A=this.clampY(A)),this.roundPixels&&(b=Math.floor(b),A=Math.floor(A)),this.scrollX=b,this.scrollY=A;var H=b+p,j=A+m;this.midPoint.set(H,j);var J=u/y,X=d/y,W=H-J/2,L=j-X/2;this.roundPixels&&(W=Math.floor(W),L=Math.floor(L)),this.worldView.setTo(W,L,J,X),g.applyITRS(Math.floor(this.x+T),Math.floor(this.y+S),this.rotation,y,y),g.translate(-T,-S),this.shakeEffect.preRender(),D&&this.emit(i.FOLLOW_UPDATE,this,C)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,p,m,y,g){d===void 0&&(d=!1),p===void 0&&(p=1),m===void 0&&(m=p),y===void 0&&(y=0),g===void 0&&(g=y),this._follow=u,this.roundPixels=d,p=a(p,0,1),m=a(m,0,1),this.lerp.set(p,m),this.followOffset.set(y,g);var T=this.width/2,S=this.height/2,C=u.x-y,w=u.y-g;return this.midPoint.set(C,w),this.scrollX=C-T,this.scrollY=w-S,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=f},62382:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47751),c=t(56694),a=t(72632),r=t(91963),s=t(94287),e=t(40444),i=t(7599),h=new c({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(i.BOOT,this.boot,this),o.sys.events.on(i.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(i.UPDATE,this.update,this),o.once(i.SHUTDOWN,this.shutdown,this)},add:function(n,o,f,u,d,p){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var m=new l(n,o,f,u);return m.setName(p),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),d&&(this.main=m),m},addExisting:function(n,o){o===void 0&&(o=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),o&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,o=1,f=0;f<32;f++){for(var u=!1,d=0;d<n.length;d++){var p=n[d];if(p&&p.id===o){u=!0;continue}}if(u)o=o<<1;else return o}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var o=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!n||n&&d.visible)&&o++}return o},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var o=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<n.length;u++){var d=n[u],p=a(d,"x",0),m=a(d,"y",0),y=a(d,"width",o),g=a(d,"height",f),T=this.add(p,m,y,g);T.name=a(d,"name",""),T.zoom=a(d,"zoom",1),T.rotation=a(d,"rotation",0),T.scrollX=a(d,"scrollX",0),T.scrollY=a(d,"scrollY",0),T.roundPixels=a(d,"roundPixels",!1),T.visible=a(d,"visible",!0);var S=a(d,"backgroundColor",!1);S&&T.setBackgroundColor(S);var C=a(d,"bounds",null);if(C){var w=a(C,"x",0),b=a(C,"y",0),A=a(C,"width",o),D=a(C,"height",f);T.setBounds(w,b,A,D)}}return this},getCamera:function(n){for(var o=this.cameras,f=0;f<o.length;f++)if(o[f].name===n)return o[f];return null},getCamerasBelowPointer:function(n){for(var o=this.cameras,f=n.x,u=n.y,d=[],p=0;p<o.length;p++){var m=o[p];m.visible&&m.inputEnabled&&s(m,f,u)&&d.unshift(m)}return d},remove:function(n,o){o===void 0&&(o=!0),Array.isArray(n)||(n=[n]);for(var f=0,u=this.cameras,d=0;d<n.length;d++){var p=u.indexOf(n[d]);p!==-1&&(o?u[p].destroy():u[p].renderList=[],u.splice(p,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(n,o){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var p=u[d];if(p.visible&&p.alpha>0){p.preRender();var m=this.getVisibleChildren(o.getChildren(),p);n.render(f,m,p)}}},getVisibleChildren:function(n,o){return n.filter(function(f){return f.willRender(o)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,o)},onResize:function(n,o,f,u,d){for(var p=0;p<this.cameras.length;p++){var m=this.cameras[p];m._x===0&&m._y===0&&m._width===u&&m._height===d&&m.setSize(o.width,o.height)}},resize:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,o)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var o=this.systems.events;o.off(i.UPDATE,this.update,this),o.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(i.START,this.start,this),this.systems.events.off(i.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",h,"cameras"),v.exports=h},92522:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,e,i,h,n,o,f,u){if(s===void 0&&(s=!0),e===void 0&&(e=1e3),i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=s,this.progress=0,this.red=i,this.green=h,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=s?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,i,h,n),this.camera},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,h=this.red/255,n=this.green/255,o=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(o,n,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},22151:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,e,i,h,n,o,f){return s===void 0&&(s=250),e===void 0&&(e=255),i===void 0&&(i=255),h===void 0&&(h=255),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=e,this.green=i,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(a.FLASH_START,this.camera,this,s,e,i,h),this.camera)},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning)return!1;var i=this.camera,h=this.red/255,n=this.green/255,o=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(o,n,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},37551:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(35060),r=t(89787),s=t(93736),e=new c({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,h,n,o,f,u,d){n===void 0&&(n=1e3),o===void 0&&(o=a.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(i,h),p.getScroll(i,h,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,n,i,h)),p},update:function(i,h){if(this.isRunning){this._elapsed+=h;var n=l(this._elapsed/this.duration,0,1);this.progress=n;var o=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);o.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;o.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,u,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},1771:(v,x,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l=t(82897),c=t(56694),a=t(89787),r=t(35060),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,i,h,n,o,f,u){h===void 0&&(h=1e3),n===void 0&&(n=r.Linear),o===void 0&&(o=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),i===void 0&&(i=!1),this.shortestPath=i;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var m=this.camera;if(!o&&this.isRunning)return m;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=m.rotation,this.destination=d,typeof n=="string"&&r.hasOwnProperty(n)?this.ease=r[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var y=0,g=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+p)-this.source,this.source>this.destination?g=Math.abs(this.source-this.destination):g=Math.abs(this.source+p)-this.destination,y<g?this.clockwise=!0:y>g&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,d),m},update:function(e,i){if(this.isRunning){this._elapsed+=i;var h=l(this._elapsed/this.duration,0,1);this.progress=h;var n=this.camera;if(this._elapsed<this.duration){var o=this.ease(h);this.current=n.rotation;var f=0,u=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?f=Math.abs(d-p):f=Math.abs(d+u)-p;var m=0;this.clockwise?m=n.rotation+f*o:m=n.rotation-f*o,n.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,h,m)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=s},3241:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(89787),r=t(93736),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,i,h,n,o){return e===void 0&&(e=100),i===void 0&&(i=.05),h===void 0&&(h=!1),n===void 0&&(n=null),o===void 0&&(o=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof i=="number"?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,e,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,i){if(this.isRunning)if(this._elapsed+=i,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,n=this.camera.width,o=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*h.x*n*2-h.x*n)*f,this._offsetY=(Math.random()*h.y*o*2-h.y*o)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=s},13383:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(35060),r=t(89787),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,i,h,n,o,f){i===void 0&&(i=1e3),h===void 0&&(h=a.Linear),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source=u.zoom,this.destination=e,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(r.ZOOM_START,this.camera,this,i,e)),u},update:function(e,i){this.isRunning&&(this._elapsed+=i,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=s},53030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},85373:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},92057:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},1903:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},96131:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},85409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},25500:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},44071:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},19818:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},80002:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},87966:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},74217:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},34805:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},30408:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},49856:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},69189:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},67657:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},14229:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},89787:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(10850),a=new l({initialize:function(s){this.camera=c(s,"camera",null),this.left=c(s,"left",null),this.right=c(s,"right",null),this.up=c(s,"up",null),this.down=c(s,"down",null),this.zoomIn=c(s,"zoomIn",null),this.zoomOut=c(s,"zoomOut",null),this.zoomSpeed=c(s,"zoomSpeed",.01),this.minZoom=c(s,"minZoom",.001),this.maxZoom=c(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=c(s,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=c(s,"speed.x",0),this.speedY=c(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},69370:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(10850),a=new l({initialize:function(s){this.camera=c(s,"camera",null),this.left=c(s,"left",null),this.right=c(s,"right",null),this.up=c(s,"up",null),this.down=c(s,"down",null),this.zoomIn=c(s,"zoomIn",null),this.zoomOut=c(s,"zoomOut",null),this.zoomSpeed=c(s,"zoomSpeed",.01),this.minZoom=c(s,"minZoom",.001),this.maxZoom=c(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=c(s,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=c(s,"acceleration.x",0),this.accelY=c(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=c(s,"drag",null);typeof i=="number"?(this.dragX=i,this.dragY=i):(this.dragX=c(s,"drag.x",0),this.dragY=c(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=c(s,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=c(s,"maxSpeed.x",0),this.maxSpeedY=c(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*r|0),this._speedY!==0&&(s.scrollY-=this._speedY*r|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},6524:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=l},14033:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(86459),a=t(18360),r=t(77290),s=t(72632),e=t(10850),i=t(42911),h=t(72283),n=t(5923),o=t(65641),f=t(93222),u=new l({initialize:function(p){p===void 0&&(p={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff",g=e(p,"scale",null);this.width=e(g,"width",1024,p),this.height=e(g,"height",768,p),this.zoom=e(g,"zoom",1,p),this.parent=e(g,"parent",void 0,p),this.scaleMode=e(g,g?"mode":"scaleMode",0,p),this.expandParent=e(g,"expandParent",!0,p),this.autoRound=e(g,"autoRound",!1,p),this.autoCenter=e(g,"autoCenter",0,p),this.resizeInterval=e(g,"resizeInterval",500,p),this.fullscreenTarget=e(g,"fullscreenTarget",null,p),this.minWidth=e(g,"minWidth",0,p),this.maxWidth=e(g,"maxWidth",0,p),this.minHeight=e(g,"minHeight",0,p),this.maxHeight=e(g,"maxHeight",0,p),this.renderType=e(p,"type",c.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io"),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",r.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",y),this.bannerBackgroundColor=e(p,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null);var T=e(p,"render",null);this.pipeline=e(T,"pipeline",null,p),this.autoMobilePipeline=e(T,"autoMobilePipeline",!0,p),this.defaultPipeline=e(T,"defaultPipeline",o.MULTI_PIPELINE,p),this.antialias=e(T,"antialias",!0,p),this.antialiasGL=e(T,"antialiasGL",!0,p),this.mipmapFilter=e(T,"mipmapFilter","",p),this.desynchronized=e(T,"desynchronized",!1,p),this.roundPixels=e(T,"roundPixels",!1,p),this.pixelArt=e(T,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(T,"transparent",!1,p),this.clearBeforeRender=e(T,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(T,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(T,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(T,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(T,"powerPreference","default",p),this.batchSize=e(T,"batchSize",4096,p),this.maxTextures=e(T,"maxTextures",-1,p),this.maxLights=e(T,"maxLights",10,p);var S=e(p,"backgroundColor",0);this.backgroundColor=f(S),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",h),this.postBoot=e(p,"callbacks.postBoot",h),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var C=e(p,"plugins",null),w=a.DefaultScene;C&&(Array.isArray(C)?this.defaultPlugins=C:i(C)&&(this.installGlobalPlugins=s(C,"global",[]),this.installScenePlugins=s(C,"scene",[]),Array.isArray(C.default)?w=C.default:Array.isArray(C.defaultMerge)&&(w=w.concat(C.defaultMerge)))),this.defaultPlugins=w;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});v.exports=u},50150:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70616),c=t(61068),a=t(86459),r=t(90185),s=function(e){var i=e.config;if((i.customEnvironment||i.canvas)&&i.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!i.customEnvironment&&!i.canvas&&i.renderType!==a.HEADLESS)if(i.renderType===a.AUTO&&(i.renderType=r.webGL?a.WEBGL:a.CANVAS),i.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(i.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+i.renderType);i.antialias||c.disableSmoothing();var h=e.scale.baseSize,n=h.width,o=h.height;if(i.canvas?(e.canvas=i.canvas,e.canvas.width=n,e.canvas.height=o):e.canvas=c.create(e,n,o,i.renderType),i.canvasStyle&&(e.canvas.style=i.canvasStyle),i.antialias||l.setCrisp(e.canvas),i.renderType!==a.HEADLESS){var f,u;f=t(91135),u=t(11857),i.renderType===a.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};v.exports=s},77291:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86459),c=function(a){var r=a.config;if(!r.hideBanner){var s="WebGL";r.renderType===l.CANVAS?s="Canvas":r.renderType===l.HEADLESS&&(s="Headless");var e=r.audio,i=a.device.audio,h;if(i.webAudio&&!e.disableWebAudio?h="Web Audio":e.noAudio||!i.webAudio&&!i.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var n="",o=[n];if(Array.isArray(r.bannerBackgroundColor)){var f;r.bannerBackgroundColor.forEach(function(d){n=n.concat("%c "),o.push("background: "+d),f=d}),o[o.length-1]="color: "+r.bannerTextColor+"; background: "+f}else n=n.concat("%c "),o.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);o.push("background: transparent"),r.gameTitle&&(n=n.concat(r.gameTitle),r.gameVersion&&(n=n.concat(" v"+r.gameVersion)),r.hidePhaser||(n=n.concat(" / ")));var u="";r.hidePhaser||(n=n.concat("Phaser v"+l.VERSION+u+" ("+s+" | "+h+")")),n=n.concat(" %c "+r.gameURL),o[0]=n,console.log.apply(console,o)}}};v.exports=c},15213:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),c=t(90249),a=t(43474),r=t(61068),s=t(56694),e=t(14033),i=t(85178),h=t(50150),n=t(81078),o=t(77291),f=t(77290),u=t(21546),d=t(6659),p=t(97081),m=t(69898),y=t(91963),g=t(49274),T=t(756),S=t(13553),C=t(38203),w=t(6237),b=t(26617),A=t(26493),D=t(84191),B=new s({initialize:function(Y){this.config=new e(Y),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new c(this),this.textures=new w(this),this.cache=new a(this),this.registry=new n(this,new d),this.input=new m(this,this.config),this.scene=new S(this,this.config.sceneConfig),this.device=f,this.scale=new T(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new b(this,this.config.fps),this.plugins=new g(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),i(this),o(this),l(this.canvas,this.config.parent),this.textures.once(C.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var N=this.events;N.on(p.HIDDEN,this.onHidden,this),N.on(p.VISIBLE,this.onVisible,this),N.on(p.BLUR,this.onBlur,this),N.on(p.FOCUS,this.onFocus,this)},step:function(N,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(p.PRE_STEP,N,Y),H.emit(p.STEP,N,Y),this.scene.update(N,Y),H.emit(p.POST_STEP,N,Y);var j=this.renderer;j.preRender(),H.emit(p.PRE_RENDER,j,N,Y),this.scene.render(j),j.postRender(),H.emit(p.POST_RENDER,j,N,Y)}},headlessStep:function(N,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(p.PRE_STEP,N,Y),H.emit(p.STEP,N,Y),this.scene.update(N,Y),H.emit(p.POST_STEP,N,Y),this.scene.isProcessing=!1,H.emit(p.PRE_RENDER,null,N,Y),H.emit(p.POST_RENDER,null,N,Y)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,Y){Y===void 0&&(Y=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=Y},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=B},26617:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(10850),a=t(72283),r=t(27385),s=new l({initialize:function(i,h){this.game=i,this.raf=new r,this.started=!1,this.running=!1,this.minFps=c(h,"min",5),this.targetFps=c(h,"target",60),this.fpsLimit=c(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=c(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(h,"deltaHistory",10),this.panicMax=c(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var i=this.deltaIndex,h=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=h[i],e=Math.min(e,this._min)),h[i]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var o=0,f=0;f<n;f++)o+=h[f];return o/=n,o},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta+=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,i),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var i=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+i));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=s},26493:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97081),c=function(a){var r,s=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},r=h+"visibilitychange")})}var i=function(h){document.hidden||h.type==="pause"?s.emit(l.HIDDEN):s.emit(l.VISIBLE)};r&&document.addEventListener(r,i,!1),window.onblur=function(){s.emit(l.BLUR)},window.onfocus=function(){s.emit(l.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=c},41651:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},5520:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},51673:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},25055:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},23767:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},57564:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},38327:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},43807:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},73652:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},780:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},13781:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},38247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},29129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},34994:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},98704:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},97081:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(81543),c=t(61068),a=t(10850),r=function(s){var e=a(s,"data",[]),i=a(s,"canvas",null),h=a(s,"palette",l),n=a(s,"pixelWidth",1),o=a(s,"pixelHeight",n),f=a(s,"resizeCanvas",!0),u=a(s,"clearCanvas",!0),d=a(s,"preRender",null),p=a(s,"postRender",null),m=Math.floor(Math.abs(e[0].length*n)),y=Math.floor(Math.abs(e.length*o));i||(i=c.create2D(this,m,y),f=!1,u=!1),f&&(i.width=m,i.height=y);var g=i.getContext("2d",{willReadFrequently:!0});u&&g.clearRect(0,0,m,y),d&&d(i,g);for(var T=0;T<e.length;T++)for(var S=e[T],C=0;C<S.length;C++){var w=S[C];w!=="."&&w!==" "&&(g.fillStyle=h[w],g.fillRect(C*n,T*o,n,o))}return p&&p(i,g),i};v.exports=r},84106:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(34631),a=t(38517),r=t(93736),s=new l({Extends:a,initialize:function(i,h,n,o){a.call(this,"CubicBezierCurve"),Array.isArray(i)&&(o=new r(i[6],i[7]),n=new r(i[4],i[5]),h=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=h,this.p2=n,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var h=this.p0,n=this.p1,o=this.p2,f=this.p3;return i.set(c(e,h.x,n.x,o.x,f.x),c(e,h.y,n.y,o.y,f.y))},draw:function(e,i){i===void 0&&(i=32);var h=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<h.length;n++)e.lineTo(h[n].x,h[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var i=e.points,h=new r(i[0],i[1]),n=new r(i[2],i[3]),o=new r(i[4],i[5]),f=new r(i[6],i[7]);return new s(h,n,o,f)},v.exports=s},38517:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(80222),a=t(74118),r=t(93736),s=new l({initialize:function(i){this.type=i,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,i){return i===void 0&&(i=32),e.strokePoints(this.getPoints(i))},getBounds:function(e,i){e||(e=new a),i===void 0&&(i=16);var h=this.getLength();i>h&&(i=h/2);var n=Math.max(1,Math.round(h/i));return c(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var i=this.getLength(),h=Math.max(1,i/e);return this.getSpacedPoints(h)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],h,n=this.getPoint(0,this._tmpVec2A),o=0;i.push(0);for(var f=1;f<=e;f++)h=this.getPoint(f/e,this._tmpVec2B),o+=h.distance(n),i.push(o),n.copy(h);return this.cacheArcLengths=i,i},getPointAt:function(e,i){var h=this.getUtoTmapping(e);return this.getPoint(h,i)},getPoints:function(e,i,h){h===void 0&&(h=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++)h.push(this.getPoint(n/e));return h},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,i,h){h===void 0&&(h=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++){var o=this.getUtoTmapping(n/e,null,e);h.push(this.getPoint(o))}return h},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,i){i===void 0&&(i=new r);var h=1e-4,n=e-h,o=e+h;return n<0&&(n=0),o>1&&(o=1),this.getPoint(n,this._tmpVec2A),this.getPoint(o,i),i.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,i){var h=this.getUtoTmapping(e);return this.getTangent(h,i)},getTFromDistance:function(e,i){return e<=0?0:this.getUtoTmapping(0,e,i)},getUtoTmapping:function(e,i,h){var n=this.getLengths(h),o=0,f=n.length,u;i?u=Math.min(i,n[f-1]):u=e*n[f-1];for(var d=0,p=f-1,m;d<=p;)if(o=Math.floor(d+(p-d)/2),m=n[o]-u,m<0)d=o+1;else if(m>0)p=o-1;else{p=o;break}if(o=p,n[o]===u)return o/(f-1);var y=n[o],g=n[o+1],T=g-y,S=(u-y)/T;return(o+S)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=s},48835:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(38517),a=t(75606),r=t(10850),s=t(23701),e=t(93736),i=new l({Extends:c,initialize:function(n,o,f,u,d,p,m,y){if(typeof n=="object"){var g=n;n=r(g,"x",0),o=r(g,"y",0),f=r(g,"xRadius",0),u=r(g,"yRadius",f),d=r(g,"startAngle",0),p=r(g,"endAngle",360),m=r(g,"clockwise",!1),y=r(g,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),p===void 0&&(p=360),m===void 0&&(m=!1),y===void 0&&(y=0);c.call(this,"EllipseCurve"),this.p0=new e(n,o),this._xRadius=f,this._yRadius=u,this._startAngle=a(d),this._endAngle=a(p),this._clockwise=m,this._rotation=a(y)},getStartPoint:function(h){return h===void 0&&(h=new e),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,n){n===void 0&&(n=new e);for(var o=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=o;for(;f>o;)f-=o;f<Number.EPSILON&&(u?f=0:f=o),this._clockwise&&!u&&(f===o?f=-o:f=f-o);var d=this._startAngle+h*f,p=this.p0.x+this._xRadius*Math.cos(d),m=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var y=Math.cos(this._rotation),g=Math.sin(this._rotation),T=p-this.p0.x,S=m-this.p0.y;p=T*y-S*g+this.p0.x,m=T*g+S*y+this.p0.y}return n.set(p,m)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return s(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return s(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return s(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});i.fromJSON=function(h){return new i(h)},v.exports=i},58084:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(38517),a=t(80222),r=t(74118),s=t(93736),e=new l({Extends:c,initialize:function(h,n){c.call(this,"LineCurve"),Array.isArray(h)&&(n=new s(h[2],h[3]),h=new s(h[0],h[1])),this.p0=h,this.p1=n,this.arcLengthDivisions=1},getBounds:function(i){return i===void 0&&(i=new r),a([this.p0,this.p1],i)},getStartPoint:function(i){return i===void 0&&(i=new s),i.copy(this.p0)},getResolution:function(i){return i===void 0&&(i=1),i},getPoint:function(i,h){return h===void 0&&(h=new s),i===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(i).add(this.p0),h)},getPointAt:function(i,h){return this.getPoint(i,h)},getTangent:function(i,h){return h===void 0&&(h=new s),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(i,h,n){var o;if(h){var f=this.getLengths(n),u=f[f.length-1],d=Math.min(h,u);o=d/u}else o=i;return o},draw:function(i){return i.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(i){var h=i.points,n=new s(h[0],h[1]),o=new s(h[2],h[3]);return new e(n,o)},v.exports=e},64761:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(38517),a=t(16252),r=t(93736),s=new l({Extends:c,initialize:function(i,h,n){c.call(this,"QuadraticBezierCurve"),Array.isArray(i)&&(n=new r(i[4],i[5]),h=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=h,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var h=this.p0,n=this.p1,o=this.p2;return i.set(a(e,h.x,n.x,o.x),a(e,h.y,n.y,o.y))},draw:function(e,i){i===void 0&&(i=32);var h=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<h.length;n++)e.lineTo(h[n].x,h[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var i=e.points,h=new r(i[0],i[1]),n=new r(i[2],i[3]),o=new r(i[4],i[5]);return new s(h,n,o)},v.exports=s},11956:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14976),c=t(56694),a=t(38517),r=t(93736),s=new c({Extends:a,initialize:function(i){i===void 0&&(i=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(i)},addPoints:function(e){for(var i=0;i<e.length;i++){var h=new r;typeof e[i]=="number"?(h.x=e[i],h.y=e[i+1],i++):Array.isArray(e[i])?(h.x=e[i][0],h.y=e[i][1]):(h.x=e[i].x,h.y=e[i].y),this.points.push(h)}return this},addPoint:function(e,i){var h=new r(e,i);return this.points.push(h),h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,i){i===void 0&&(i=new r);var h=this.points,n=(h.length-1)*e,o=Math.floor(n),f=n-o,u=h[o===0?o:o-1],d=h[o],p=h[o>h.length-2?h.length-1:o+1],m=h[o>h.length-3?h.length-1:o+2];return i.set(l(f,u.x,d.x,p.x,m.x),l(f,u.y,d.y,p.y,m.y))},toJSON:function(){for(var e=[],i=0;i<this.points.length;i++)e.push(this.points[i].x),e.push(this.points[i].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},v.exports=s},73962:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93736),a=new l({initialize:function(s,e){this.active=!1,this.p0=new c(s,e)},getPoint:function(r,s){return s===void 0&&(s=new c),s.copy(this.p0)},getPointAt:function(r,s){return this.getPoint(r,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},12822:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(63120),a=t(48835),r=t(61286),s=t(58084),e=t(53639),i=t(64761),h=t(74118),n=t(11956),o=t(93736),f=t(83392),u=new l({initialize:function(p,m){p===void 0&&(p=0),m===void 0&&(m=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,m)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,m){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,m)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new s(p,d)),this},cubicBezierTo:function(d,p,m,y,g,T){var S=this.getEndPoint(),C,w,b;return d instanceof o?(C=d,w=p,b=m):(C=new o(m,y),w=new o(g,T),b=new o(d,p)),this.add(new c(S,C,w,b))},quadraticBezierTo:function(d,p,m,y){var g=this.getEndPoint(),T,S;return d instanceof o?(T=d,S=p):(T=new o(m,y),S=new o(d,p)),this.add(new i(g,T,S))},draw:function(d,p){for(var m=0;m<this.curves.length;m++){var y=this.curves[m];y.active&&y.draw(d,p)}return d},ellipseTo:function(d,p,m,y,g,T){var S=new a(0,0,d,p,m,y,g,T),C=this.getEndPoint(this._tmpVec2A),w=S.getStartPoint(this._tmpVec2B);return C.subtract(w),S.x=C.x,S.y=C.y,this.add(S)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var m=d.curves[p];switch(m.type){case"LineCurve":this.add(s.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(n.fromJSON(m));break;case"CubicBezierCurve":this.add(c.fromJSON(m));break;case"QuadraticBezierCurve":this.add(i.fromJSON(m));break}}return this},getBounds:function(d,p){d===void 0&&(d=new h),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var m=new h,y=f.MIN_SAFE_INTEGER,g=f.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var S=this.curves[T];S.active&&(S.getBounds(m,p),d.x=Math.min(d.x,m.x),d.y=Math.min(d.y,m.y),y=Math.max(y,m.right),g=Math.max(g,m.bottom))}return d.right=y,d.bottom=g,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,m=0;m<this.curves.length;m++)p+=this.curves[m].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),m=this.getCurveLengths(),y=0;y<m.length;){if(m[y]>=p)return this.curves[y];y++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new o);for(var m=d*this.getLength(),y=this.getCurveLengths(),g=0;g<y.length;){if(y[g]>=m){var T=y[g]-m,S=this.curves[g],C=S.getLength(),w=C===0?0:1-T/C;return S.getPointAt(w,p)}g++}return null},getPoints:function(d){d===void 0&&(d=12);for(var p=[],m,y=0;y<this.curves.length;y++){var g=this.curves[y];if(g.active)for(var T=g.getResolution(d),S=g.getPoints(T),C=0;C<S.length;C++){var w=S[C];m&&m.equals(w)||(p.push(w),m=w)}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],m=0;m<=d;m++)p.push(this.getPoint(m/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new o);for(var m=d*this.getLength(),y=this.getCurveLengths(),g=0;g<y.length;){if(y[g]>=m){var T=y[g]-m,S=this.curves[g],C=S.getLength(),w=C===0?0:1-T/C;return S.getTangentAt(w,p)}g++}return null},lineTo:function(d,p){d instanceof o?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,p);var m=this.getEndPoint(this._tmpVec2A);return this.add(new s([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new n(d))},moveTo:function(d,p){return d instanceof o?this.add(new e(d.x,d.y)):this.add(new e(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,p){return new u(d,p)}),v.exports=u},81078:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(35026),a=new l({initialize:function(s,e){this.parent=s,this.events=e,e||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(r){var s=this.list;if(Array.isArray(r)){for(var e=[],i=0;i<r.length;i++)e.push(s[r[i]]);return e}else return s[r]},getAll:function(){var r={};for(var s in this.list)this.list.hasOwnProperty(s)&&(r[s]=this.list[s]);return r},query:function(r){var s={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(s[e]=this.list[e]);return s},set:function(r,s){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,s);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,s){if(this._frozen)return this;s===void 0&&(s=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+s),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,s){if(this._frozen)return this;if(this.has(r))this.values[r]=s;else{var e=this,i=this.list,h=this.events,n=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return i[r]},set:function(o){if(!e._frozen){var f=i[r];i[r]=o,h.emit(c.CHANGE_DATA,n,r,o,f),h.emit(c.CHANGE_DATA_KEY+r,n,o,f)}}}),i[r]=s,h.emit(c.SET_DATA,n,r,s)}return this},each:function(r,s){for(var e=[this.parent,null,void 0],i=1;i<arguments.length;i++)e.push(arguments[i]);for(var h in this.list)e[1]=h,e[2]=this.list[h],r.apply(s,e);return this},merge:function(r,s){s===void 0&&(s=!0);for(var e in r)r.hasOwnProperty(e)&&(s||!s&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var s=0;s<r.length;s++)this.removeValue(r[s]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var s=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,s)}return this},pop:function(r){var s=void 0;return!this._frozen&&this.has(r)&&(s=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,s)),s},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var s in this.list)this.list[s]!==void 0&&r++;return r}}});v.exports=a},76508:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(81078),a=t(91963),r=t(7599),s=new l({Extends:c,initialize:function(i){c.call(this,i,i.sys.events),this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",s,"data"),v.exports=s},73569:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},15590:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},37669:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},87090:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},90142:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},35026:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),s=!!r.canPlayType;try{if(s){var e=function(n,o){var f=r.canPlayType("audio/"+n).replace(/^no$/,"");return o?!!(f||r.canPlayType("audio/"+o).replace(/^no$/,"")):!!f};if(c.ogg=e('ogg; codecs="vorbis"'),c.opus=e('ogg; codecs="opus"',"opus"),c.mp3=e("mpeg"),c.wav=e("wav"),c.m4a=e("x-m4a"),c.aac=e("aac"),c.flac=e("flac","x-flac"),c.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)c.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(i===10&&h>=11||i>10)&&(c.dolby=!0)}}}}catch{}return c}v.exports=a()},1350:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(c.edge=!0,c.es2019=!0):/OPR/.test(r)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(r)&&!l.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(r)&&l.iOS?c.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!l.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(c.silk=!0),c}v.exports=a()},98581:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var n=new Image;n.onload=function(){var o=l.create2D(n,6),f=o.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(h,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;l.remove(n),c.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},n.src=e+"/wCKxvRF"+i},h.src=e+"AP804Oa6"+i,!1}function r(){var e=l.create2D(this,2),i=e.getContext("2d",{willReadFrequently:!0});i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1);var h=i.getImageData(0,0,1,1);if(h===null)return!1;i.putImageData(h,1,0);var n=i.getImageData(1,0,1,1),o=n.data[0]===h.data[0]&&n.data[1]===h.data[1]&&n.data[2]===h.data[2]&&n.data[3]===h.data[3];return l.remove(this),o}function s(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=a(),c.supportInverseAlpha=r()),c}v.exports=s()},90185:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),c=t(1350),a=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var i=new ArrayBuffer(4),h=new Uint8Array(i),n=new Uint32Array(i);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var i=!1,h=function(){if(window.WebGLRenderingContext)try{var n=a.createWebGL(this),o=n.getContext("webgl")||n.getContext("experimental-webgl"),f=a.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return i=d.data instanceof Uint8ClampedArray,a.remove(n),a.remove(f),!!o}catch{return!1}return!1};return r.webGL=h(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(r.getUserMedia=!1),!l.iOS&&(c.ie||c.firefox||c.chrome)&&(r.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=s()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&i,r}v.exports=e()},33553:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return x;var l,c="Fullscreen",a="FullScreen",r=["request"+c,"request"+a,"webkitRequest"+c,"webkitRequest"+a,"msRequest"+c,"msRequest"+a,"mozRequest"+a,"mozRequest"+c];for(l=0;l<r.length;l++)if(document.documentElement[r[l]]){x.available=!0,x.request=r[l];break}var s=["cancel"+a,"exit"+c,"webkitCancel"+a,"webkitExit"+c,"msCancel"+a,"msExit"+c,"mozCancel"+a,"mozExit"+c];if(x.available){for(l=0;l<s.length;l++)if(document[s[l]]){x.cancel=s[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}v.exports=t()},95872:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}v.exports=a()},36580:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return x;var l=navigator.userAgent;/Windows/.test(l)?x.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(l)?x.android=!0:/Linux/.test(l)?x.linux=!0:/iP[ao]d|iPhone/i.test(l)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=l.toLowerCase().indexOf("iphone")!==-1,x.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?x.kindle=!0:/CrOS/.test(l)&&(x.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var c=/Silk/.test(l);return(x.windows||x.macOS||x.linux&&!c||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}v.exports=t()},53861:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return c;var r=document.createElement("video"),s=!!r.canPlayType,e=/^no$/;try{s&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(c.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(c.h264=!0,c.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(c.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(c.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(c.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(c.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),c.getVideoURL=function(i){Array.isArray(i)||(i=[i]);for(var h=0;h<i.length;h++){var n=l(i[h],"url",i[h]);if(n.indexOf("blob:")===0)return{url:n,type:""};var o;if(n.indexOf("data:")===0?o=n.split(",")[0].match(/\/(.*?);/):o=n.match(/\.([a-zA-Z0-9]+)($|\?)/),o=l(i[h],"type",o?o[1]:"").toLowerCase(),c[o])return{url:n,type:o}}return null},c}v.exports=a()},77290:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new Float32Array(20),a=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],s)},saturate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r*2/3+1,i=(e-1)*-.5;return this.multiply([e,i,i,0,0,i,e,i,0,0,i,i,e,0,0,0,0,0,1,0],s)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1),r=r/180*Math.PI;var e=Math.cos(r),i=Math.sin(r),h=.213,n=.715,o=.072;return this.multiply([h+e*(1-h)+i*-h,n+e*-n+i*-n,o+e*-o+i*(1-o),0,0,h+e*-h+i*.143,n+e*(1-n)+i*.14,o+e*-o+i*-.283,0,0,h+e*-h+i*-(1-h),n+e*-n+i*n,o+e*(1-o)+i*o,0,0,0,0,0,1,0],s)},grayscale:function(r,s){return r===void 0&&(r=1),s===void 0&&(s=!1),this.saturate(-r,s)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r+1,i=-.5*(e-1);return this.multiply([e,0,0,0,i,0,e,0,0,i,0,0,e,0,i,0,0,0,1,0],s)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,s){return r===void 0&&(r=.1),s===void 0&&(s=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],s)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,s){s===void 0&&(s=!1),s||this.reset();var e=this._matrix,i=c;return i.set(e),e.set([i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},39298:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72283),a=new l({initialize:function(s,e,i){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(s,e,i)},set:function(r,s,e){return r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=0),this._rgb=[r,s,e],this.onChange(),this},equals:function(r,s,e){var i=this._rgb;return i[0]===r&&i[1]===s&&i[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},84093:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=x},32058:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(59994),a=t(73174),r=t(28417),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)+h),a(e,l(i)+n),e};v.exports=s},85535:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(40163),a=t(73174),r=t(74465),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)-h),a(e,l(i)+n),e};v.exports=s},9605:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(70271),a=t(73174),r=t(19298),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)+h),a(e,l(i)+n),e};v.exports=s},22529:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21843),c=t(59994),a=t(29568),r=function(s,e,i,h){return i===void 0&&(i=0),h===void 0&&(h=0),l(s,c(e)+i,a(e)+h),s};v.exports=r},5739:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),c=t(40163),a=t(81711),r=t(74465),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)-h),a(e,l(i)+n),e};v.exports=s},40327:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),c=[];c[l.BOTTOM_CENTER]=t(32058),c[l.BOTTOM_LEFT]=t(85535),c[l.BOTTOM_RIGHT]=t(9605),c[l.CENTER]=t(22529),c[l.LEFT_CENTER]=t(5739),c[l.RIGHT_CENTER]=t(27683),c[l.TOP_CENTER]=t(96439),c[l.TOP_LEFT]=t(81447),c[l.TOP_RIGHT]=t(47888),c[l.LEFT_BOTTOM]=c[l.BOTTOM_LEFT],c[l.LEFT_TOP]=c[l.TOP_LEFT],c[l.RIGHT_BOTTOM]=c[l.BOTTOM_RIGHT],c[l.RIGHT_TOP]=c[l.TOP_RIGHT];var a=function(r,s,e,i,h){return c[e](r,s,i,h)};v.exports=a},27683:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),c=t(70271),a=t(81711),r=t(19298),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)+h),a(e,l(i)+n),e};v.exports=s},96439:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59994),c=t(47196),a=t(28417),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,l(i)+h),r(e,c(i)-n),e};v.exports=s},81447:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),c=t(47196),a=t(74465),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,l(i)-h),r(e,c(i)-n),e};v.exports=s},47888:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),c=t(47196),a=t(19298),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,l(i)+h),r(e,c(i)-n),e};v.exports=s},46997:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),c=t(98611),a={In:t(46997),To:t(86639)};a=c(!1,a,l),v.exports=a},27118:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(59994),a=t(28417),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,c(i)+h),r(e,l(i)+n),e};v.exports=s},84469:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(40163),a=t(74465),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,c(i)-h),r(e,l(i)+n),e};v.exports=s},51577:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(70271),a=t(19298),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,c(i)+h),r(e,l(i)+n),e};v.exports=s},90271:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(40163),a=t(73174),r=t(19298),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)-h),a(e,l(i)+n),e};v.exports=s},30466:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),c=t(40163),a=t(81711),r=t(19298),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)-h),a(e,l(i)+n),e};v.exports=s},50087:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),c=t(47196),a=t(19298),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,l(i)-h),r(e,c(i)-n),e};v.exports=s},82590:(v,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),c=[];c[l.BOTTOM_CENTER]=t(27118),c[l.BOTTOM_LEFT]=t(84469),c[l.BOTTOM_RIGHT]=t(51577),c[l.LEFT_BOTTOM]=t(90271),c[l.LEFT_CENTER]=t(30466),c[l.LEFT_TOP]=t(50087),c[l.RIGHT_BOTTOM]=t(13555),c[l.RIGHT_CENTER]=t(99049),c[l.RIGHT_TOP]=t(67788),c[l.TOP_CENTER]=t(78170),c[l.TOP_LEFT]=t(54145),c[l.TOP_RIGHT]=t(75548);var a=function(r,s,e,i,h){return c[e](r,s,i,h)};v.exports=a},13555:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(70271),a=t(73174),r=t(74465),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)+h),a(e,l(i)+n),e};v.exports=s},99049:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29568),c=t(70271),a=t(81711),r=t(74465),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,c(i)+h),a(e,l(i)+n),e};v.exports=s},67788:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),c=t(47196),a=t(74465),r=t(84349),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),a(e,l(i)+h),r(e,c(i)-n),e};v.exports=s},78170:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59994),c=t(47196),a=t(73174),r=t(28417),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,l(i)+h),a(e,c(i)-n),e};v.exports=s},54145:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(40163),c=t(47196),a=t(73174),r=t(74465),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,l(i)-h),a(e,c(i)-n),e};v.exports=s},75548:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70271),c=t(47196),a=t(73174),r=t(19298),s=function(e,i,h,n){return h===void 0&&(h=0),n===void 0&&(n=0),r(e,l(i)+h),a(e,c(i)-n),e};v.exports=s},86639:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28417),c=t(81711),a=function(r,s,e){return l(r,s),c(r,e)};v.exports=a},97328:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y+t.height-t.height*t.originY};v.exports=x},7126:(v,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97328),c=t(40163),a=t(70271),r=t(47196),s=t(74118),e=function(i,h){h===void 0&&(h=new s);var n=c(i),o=r(i);return h.x=n,h.y=o,h.width=a(i)-n,h.height=l(i)-o,h};v.exports=e},59994:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=x},29568:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=x},40163:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x-t.width*t.originX};v.exports=x},52088:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.originX};v.exports=x},23379:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height*t.originY};v.exports=x},70271:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x+t.width-t.width*t.originX};v.exports=x},47196:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.y-t.height*t.originY};v.exports=x},73174:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.y=l-t.height+t.height*t.originY,t};v.exports=x},28417:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.width*t.originX;return t.x=l+c-t.width*.5,t};v.exports=x},81711:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.height*t.originY;return t.y=l+c-t.height*.5,t};v.exports=x},74465:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x=l+t.width*t.originX,t};v.exports=x},19298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x=l-t.width+t.width*t.originX,t};v.exports=x},84349:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.y=l+t.height*t.originY,t};v.exports=x},15252:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(t){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(c){t.style["image-rendering"]=c}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=x},61068:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86459),c=t(8213),a=[],r=!1,s=function(){var e=function(m,y,g,T,S){y===void 0&&(y=1),g===void 0&&(g=1),T===void 0&&(T=l.CANVAS),S===void 0&&(S=!1);var C,w=n(T);return w===null?(w={parent:m,canvas:document.createElement("canvas"),type:T},T===l.CANVAS&&a.push(w),C=w.canvas):(w.parent=m,C=w.canvas),S&&(w.parent=C),C.width=y,C.height=g,r&&T===l.CANVAS&&c.disable(C.getContext("2d",{willReadFrequently:!1})),C},i=function(m,y,g){return e(m,y,g,l.CANVAS)},h=function(m,y,g){return e(m,y,g,l.WEBGL)},n=function(m){if(m===void 0&&(m=l.CANVAS),m===l.WEBGL)return null;for(var y=0;y<a.length;y++){var g=a[y];if(!g.parent&&g.type===m)return g}return null},o=function(m){var y=m instanceof HTMLCanvasElement;a.forEach(function(g){(y&&g.canvas===m||!y&&g.parent===m)&&(g.parent=null,g.canvas.width=1,g.canvas.height=1)})},f=function(){var m=0;return a.forEach(function(y){y.parent&&m++}),m},u=function(){return a.length-f()},d=function(){r=!0},p=function(){r=!1};return{create2D:i,create:e,createWebGL:h,disableSmoothing:d,enableSmoothing:p,first:n,free:u,pool:a,remove:o,total:f}};v.exports=s()},8213:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",t=function(){var l=function(s){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var h=e[i]+"mageSmoothingEnabled";if(h in s)return h}return null},c=function(s){return x===""&&(x=l(s)),x&&(s[x]=!0),s},a=function(s){return x===""&&(x=l(s)),x&&(s[x]=!1),s},r=function(s){return x!==null?s[x]:null};return{disable:a,enable:c,getPrefix:l,isEnabled:r}};v.exports=t()},59271:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l="none"),t.style.msTouchAction=l,t.style["ms-touch-action"]=l,t.style["touch-action"]=l,t};v.exports=x},36505:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(a){t.style[a+"user-select"]=l}),t.style["-webkit-touch-callout"]=l,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=x},23514:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(22946),a=t(5657),r=t(24650),s=t(68033),e=new l({initialize:function(h,n,o,f){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,n,o,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(i,h,n,o,f){return o===void 0&&(o=255),f===void 0&&(f=!0),this._locked=!0,this.red=i,this.green=h,this.blue=n,this.alpha=o,this._locked=!1,this.update(f)},setGLTo:function(i,h,n,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=i,this.greenGL=h,this.blueGL=n,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(i){return this._locked=!0,this.red=i.r,this.green=i.g,this.blue=i.b,i.hasOwnProperty("a")&&(this.alpha=i.a),this._locked=!1,this.update(!0)},setFromHSV:function(i,h,n){return r(i,h,n,this)},update:function(i){if(i===void 0&&(i=!1),this._locked)return this;var h=this.r,n=this.g,o=this.b,f=this.a;return this._color=c(h,n,o),this._color32=a(h,n,o,f),this._rgba="rgba("+h+","+n+","+o+","+f/255+")",i&&s(h,n,o,this),this},updateHSV:function(){var i=this.r,h=this.g,n=this.b;return s(i,h,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(i){return this.setTo(i,i,i)},random:function(i,h){i===void 0&&(i=0),h===void 0&&(h=255);var n=Math.floor(i+Math.random()*(h-i)),o=Math.floor(i+Math.random()*(h-i)),f=Math.floor(i+Math.random()*(h-i));return this.setTo(n,o,f)},randomGray:function(i,h){i===void 0&&(i=0),h===void 0&&(h=255);var n=Math.floor(i+Math.random()*(h-i));return this.setTo(n,n,n)},saturate:function(i){return this.s+=i/100,this},desaturate:function(i){return this.s-=i/100,this},lighten:function(i){return this.v+=i/100,this},darken:function(i){return this.v-=i/100,this},brighten:function(i){var h=this.r,n=this.g,o=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(i/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(i/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(i/100)))),this.setTo(h,n,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(i){this.gl[0]=Math.min(Math.abs(i),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(i){this.gl[1]=Math.min(Math.abs(i),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(i){this.gl[2]=Math.min(Math.abs(i),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(i){this.gl[3]=Math.min(Math.abs(i),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(i){i=Math.floor(Math.abs(i)),this.r=Math.min(i,255),this.gl[0]=i/255,this.update(!0)}},green:{get:function(){return this.g},set:function(i){i=Math.floor(Math.abs(i)),this.g=Math.min(i,255),this.gl[1]=i/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(i){i=Math.floor(Math.abs(i)),this.b=Math.min(i,255),this.gl[2]=i/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(i){i=Math.floor(Math.abs(i)),this.a=Math.min(i,255),this.gl[3]=i/255,this.update()}},h:{get:function(){return this._h},set:function(i){this._h=i,r(i,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(i){this._s=i,r(this._h,i,this._v,this)}},v:{get:function(){return this._v},set:function(i){this._v=i,r(this._h,this._s,i,this)}}});v.exports=e},30245:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946),c=function(a){a===void 0&&(a=1024);var r=[],s=255,e,i=255,h=0,n=0;for(e=0;e<=s;e++)r.push({r:i,g:e,b:n,color:l(i,e,n)});for(h=255,e=s;e>=0;e--)r.push({r:e,g:h,b:n,color:l(e,h,n)});for(i=0,e=0;e<=s;e++,h--)r.push({r:i,g:h,b:e,color:l(i,h,e)});for(h=0,n=255,e=0;e<=s;e++,n--,i++)r.push({r:i,g:h,b:n,color:l(i,h,n)});if(a===1024)return r;var o=[],f=0,u=1024/a;for(e=0;e<a;e++)o.push(r[Math.floor(f)]),f+=u;return o};v.exports=c},86672:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(l.a=t>>>24),l};v.exports=x},25409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=t.toString(16);return l.length===1?"0"+l:l};v.exports=x},22946:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t<<16|l<<8|c};v.exports=x},5657:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return a<<24|t<<16|l<<8|c};v.exports=x},74777:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),c=t(59998),a=function(r,s,e){var i=e,h=e,n=e;if(s!==0){var o=e<.5?e*(1+s):e+s-e*s,f=2*e-o;i=c(f,o,r+1/3),h=c(f,o,r),n=c(f,o,r-1/3)}var u=new l;return u.setGLTo(i,h,n,1)};v.exports=a},89263:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(24650),c=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var s=[],e=0;e<=359;e++)s.push(l(e/359,a,r));return s};v.exports=c},24650:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946);function c(r,s,e,i){var h=(r+s*6)%6,n=Math.min(h,4-h,1);return Math.round(255*(i-i*e*Math.max(0,n)))}var a=function(r,s,e,i){s===void 0&&(s=1),e===void 0&&(e=1);var h=c(5,r,s,e),n=c(3,r,s,e),o=c(1,r,s,e);return i?i.setTo?i.setTo(h,n,o,i.alpha,!0):(i.r=h,i.g=n,i.b=o,i.color=l(h,n,o),i):{r:h,g:n,b:o,color:l(h,n,o)}};v.exports=a},91487:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),c=function(a){var r=new l;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,o,f,u){return o+o+f+f+u+u});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(s){var e=parseInt(s[1],16),i=parseInt(s[2],16),h=parseInt(s[3],16);r.setTo(e,i,h)}return r};v.exports=c},59998:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?t+(l-t)*6*c:c<.5?l:c<.6666666666666666?t+(l-t)*(.6666666666666666-c)*6:t};v.exports=x},74853:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),c=t(15978),a=function(r){var s=c(r);return new l(s.r,s.g,s.b,s.a)};v.exports=a},15978:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=x},53756:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42798),c=function(s,e,i,h,n,o,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:l(s,h,d),g:l(e,n,d),b:l(i,o,d)}},a=function(s,e,i,h){return i===void 0&&(i=100),h===void 0&&(h=0),c(s.r,s.g,s.b,e.r,e.g,e.b,i,h)},r=function(s,e,i,h,n,o){return n===void 0&&(n=100),o===void 0&&(o=0),c(s.r,s.g,s.b,e,i,h,n,o)};v.exports={RGBWithRGB:c,ColorWithRGB:r,ColorWithColor:a}},73904:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),c=function(a){return new l(a.r,a.g,a.b,a.a)};v.exports=c},26841:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119),c=function(a){var r=new l,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(s){var e=parseInt(s[1],10),i=parseInt(s[2],10),h=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;r.setTo(e,i,h,n*255)}return r};v.exports=c},68033:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,l/=255,c/=255;var r=Math.min(t,l,c),s=Math.max(t,l,c),e=s-r,i=0,h=s===0?0:e/s,n=s;return s!==r&&(s===t?i=(l-c)/e+(l<c?6:0):s===l?i=(c-t)/e+2:s===c&&(i=(t-l)/e+4),i/=6),a.hasOwnProperty("_h")?(a._h=i,a._s=h,a._v=n):(a.h=i,a.s=h,a.v=n),a};v.exports=x},4880:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25409),c=function(a,r,s,e,i){return e===void 0&&(e=255),i===void 0&&(i="#"),i==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+s).toString(16).slice(1,7):"0x"+l(e)+l(a)+l(r)+l(s)};v.exports=c},37243:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),c=t(27119),a=function(r,s){return r===void 0&&(r=0),s===void 0&&(s=255),new c(l(r,s),l(r,s),l(r,s))};v.exports=a},93222:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(91487),c=t(74853),a=t(73904),r=t(26841),s=function(e){var i=typeof e;switch(i){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):l(e);case"number":return c(e);case"object":return a(e)}};v.exports=s},95509:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27119);l.ColorSpectrum=t(30245),l.ColorToRGBA=t(86672),l.ComponentToHex=t(25409),l.GetColor=t(22946),l.GetColor32=t(5657),l.HexStringToColor=t(91487),l.HSLToColor=t(74777),l.HSVColorWheel=t(89263),l.HSVToRGB=t(24650),l.HueToComponent=t(59998),l.IntegerToColor=t(74853),l.IntegerToRGB=t(15978),l.Interpolate=t(53756),l.ObjectToColor=t(73904),l.RandomRGB=t(37243),l.RGBStringToColor=t(26841),l.RGBToHSV=t(68033),l.RGBToString=t(4880),l.ValueToColor=t(93222),v.exports=l},24816:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(61286),a=new l({initialize:function(s,e,i,h,n,o){e||(e=s.sys.make.image({x:i,y:h,key:n,frame:o,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,e)},postRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(r,s,e,i,h){return new a(this.scene,r,s,e,i,h)}),v.exports=a},63037:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,s){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:s}),this.applyStencil(a,s,!0),a.maskCount++},applyStencil:function(a,r,s){var e=a.gl,i=this.geometryMask,h=a.maskCount,n=255;e.colorMask(!1,!1,!1,!1),s?(e.stencilFunc(e.EQUAL,h,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),h++):(e.stencilFunc(e.EQUAL,h+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=h,i.renderWebGL(a,i,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,h,n):e.stencilFunc(e.EQUAL,h,n)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var s=a.currentMask;if(a.maskStack.length===0)s.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(s.mask=e.mask,s.camera=e.camera):s.mask=null}},preRenderCanvas:function(a,r,s){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,s,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=c},93310:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),i===void 0&&(i=null),this.key=r,this.fragmentSrc=s,this.vertexSrc=e,this.uniforms=i}});v.exports=c},99584:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c;if(l)typeof l=="string"?c=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(c=l);else if(t.parentElement||l===null)return t;return c||(c=document.body),c.appendChild(t),t};v.exports=x},85178:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),c=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=s,l(s,r.parent)}};v.exports=c},21546:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36580),c=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?l.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};v.exports=c},74181:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t)return window.innerHeight;var l=Math.abs(window.orientation),c={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),c.w=l===90?a.offsetHeight:window.innerWidth,c.h=l===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?c.h:c.w};v.exports=x},9229:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55301),c=function(a,r){var s=window.screen,e=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return r>a?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};v.exports=c},2893:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l;return t!==""&&(typeof t=="string"?l=document.getElementById(t):t&&t.nodeType===1&&(l=t)),l||(l=document.body),l};v.exports=x},89200:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l="";try{if(window.DOMParser){var c=new DOMParser;l=c.parseFromString(t,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(t)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};v.exports=x},55638:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=x},27385:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72283),a=new l({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function e(i){s.callback(i),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){s.isRunning&&(s.timeOutID=window.setTimeout(e,s.delay)),s.callback(window.performance.now())}},start:function(r,s,e){this.isRunning||(this.callback=r,this.isSetTimeOut=s,this.delay=e,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});v.exports=a},3590:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};v.exports=l},78491:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(91963),r=new l({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),v.exports=r},95146:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(78491)}},20170:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,a.BARREL,e),this.amount=i}});v.exports=r},51182:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u){h===void 0&&(h=1),n===void 0&&(n=1),o===void 0&&(o=1),f===void 0&&(f=1),u===void 0&&(u=4),c.call(this,a.BLOOM,e),this.steps=u,this.offsetX=h,this.offsetY=n,this.blurStrength=o,this.strength=f,this.glcolor=[1,1,1],i!=null&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});v.exports=r},51498:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u){h===void 0&&(h=2),n===void 0&&(n=2),o===void 0&&(o=1),u===void 0&&(u=4),c.call(this,a.BLUR,e),this.quality=0,this.x=h,this.y=n,this.steps=u,this.strength=o,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});v.exports=r},12042:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u,d){i===void 0&&(i=.5),h===void 0&&(h=1),n===void 0&&(n=.2),o===void 0&&(o=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),c.call(this,a.BOKEH,e),this.radius=i,this.amount=h,this.contrast=n,this.isTiltShift=o,this.strength=d,this.blurX=f,this.blurY=u}});v.exports=r},69900:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f){i===void 0&&(i=8),o===void 0&&(o=1),f===void 0&&(f=.005),c.call(this,a.CIRCLE,e),this.scale=o,this.feather=f,this.thickness=i,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),n!=null&&(this.backgroundColor=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor2;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});v.exports=r},48991:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(65246),a=t(47406),r=new l({Extends:c,initialize:function(e){c.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=r},47551:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s){this.type=r,this.gameObject=s,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=c},47909:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n){i===void 0&&(i="__WHITE"),h===void 0&&(h=.005),n===void 0&&(n=.005),c.call(this,a.DISPLACEMENT,e),this.x=h,this.y=n,this.glTexture,this.setTexture(i)},setTexture:function(s){var e=this.gameObject.scene.sys.textures.getFrame(s);return e&&(this.glTexture=e.glTexture),this}});v.exports=r},18919:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o){h===void 0&&(h=4),n===void 0&&(n=0),o===void 0&&(o=!1),c.call(this,a.GLOW,e),this.outerStrength=h,this.innerStrength=n,this.knockout=o,this.glcolor=[1,1,1,1],i!==void 0&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});v.exports=r},62494:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u,d,p){n===void 0&&(n=.2),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),p===void 0&&(p=0),c.call(this,a.GRADIENT,e),this.alpha=n,this.size=p,this.fromX=o,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],i!=null&&(this.color1=i),h!=null&&(this.color2=h)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor1;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor2;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}}});v.exports=r},68897:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,a.PIXELATE,e),this.amount=i}});v.exports=r},58575:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u,d){i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=.1),o===void 0&&(o=1),u===void 0&&(u=6),d===void 0&&(d=1),c.call(this,a.SHADOW,e),this.x=i,this.y=h,this.decay=n,this.power=o,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});v.exports=r},33755:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o){i===void 0&&(i=.5),h===void 0&&(h=.5),n===void 0&&(n=3),o===void 0&&(o=!1),c.call(this,a.SHINE,e),this.speed=i,this.lineWidth=h,this.gradient=n,this.reveal=o}});v.exports=r},24949:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o){i===void 0&&(i=.5),h===void 0&&(h=.5),n===void 0&&(n=.5),o===void 0&&(o=.5),c.call(this,a.VIGNETTE,e),this.x=i,this.y=h,this.radius=n,this.strength=o}});v.exports=r},66241:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47551),a=t(47406),r=new l({Extends:c,initialize:function(e,i,h,n,o){i===void 0&&(i=.1),h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=!1),c.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=i,this.direction=h,this.axis=n,this.reveal=o}});v.exports=r},47406:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=x},96910:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=t(47406),a={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};a=l(!1,a,c),v.exports=a},88933:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(20494),a=function(r,s,e){s.x=c(e,"x",0),s.y=c(e,"y",0),s.depth=c(e,"depth",0),s.flipX=c(e,"flipX",!1),s.flipY=c(e,"flipY",!1);var i=c(e,"scale",null);typeof i=="number"?s.setScale(i):i!==null&&(s.scaleX=c(i,"x",1),s.scaleY=c(i,"y",1));var h=c(e,"scrollFactor",null);typeof h=="number"?s.setScrollFactor(h):h!==null&&(s.scrollFactorX=c(h,"x",1),s.scrollFactorY=c(h,"y",1)),s.rotation=c(e,"rotation",0);var n=c(e,"angle",null);n!==null&&(s.angle=n),s.alpha=c(e,"alpha",1);var o=c(e,"origin",null);if(typeof o=="number")s.setOrigin(o);else if(o!==null){var f=c(o,"x",.5),u=c(o,"y",.5);s.setOrigin(f,u)}s.blendMode=c(e,"blendMode",l.NORMAL),s.visible=c(e,"visible",!0);var d=c(e,"add",!0);return d&&r.sys.displayList.add(s),s.preUpdate&&r.sys.updateList.add(s),s};v.exports=a},32291:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20494),c=function(a,r){var s=l(r,"anims",null);if(s===null)return a;if(typeof s=="string")a.anims.play(s);else if(typeof s=="object"){var e=a.anims,i=l(s,"key",void 0);if(i){var h=l(s,"startFrame",void 0),n=l(s,"delay",0),o=l(s,"repeat",0),f=l(s,"repeatDelay",0),u=l(s,"yoyo",!1),d=l(s,"play",!1),p=l(s,"delayedPlay",0),m={key:i,delay:n,repeat:o,repeatDelay:f,yoyo:u,startFrame:h};d?e.play(m):p>0?e.playAfterDelay(m,p):e.load(m)}}return a};v.exports=c},91713:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(71207),a=t(91963),r=t(56631),s=t(7599),e=t(17922),i=new l({Extends:c,initialize:function(n){c.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(r.ADDED_TO_SCENE,h,this.scene),this.events.emit(s.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(r.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,n){return h._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",i,"displayList"),v.exports=i},89980:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(48129),a=t(81078),r=t(6659),s=t(56631),e=t(7599),i=new l({Extends:r,initialize:function(n,o){r.call(this),this.scene=n,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,n){return this.data||(this.data=new a(this)),this.data.set(h,n),this},incData:function(h,n){return this.data||(this.data=new a(this)),this.data.inc(h,n),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,n,o){return this.scene.sys.input.enable(this,h,n,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(h){var n=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!n||i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,n=this.parentContainer,o=[];n&&(o.unshift(n.getIndex(h)),h=n,n.parentContainer);)n=n.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(h)):o.unshift(this.scene.sys.displayList.getIndex(h)),o},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),h.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});i.RENDER_MASK=15,v.exports=i},99325:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91963),a=t(7599),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},c.register("GameObjectCreator",r,"make"),v.exports=r},61286:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91963),a=t(7599),r=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},c.register("GameObjectFactory",r,"add"),v.exports=r},73329:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),c=new l,a=new l,r=new l,s={camera:c,sprite:a,calc:r},e=function(i,h,n){var o=c,f=a,u=r;return f.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),o.copyFrom(h.matrix),n?(o.multiplyWithOffset(n,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),f.e=i.x,f.f=i.y):(f.e-=h.scrollX*i.scrollFactorX,f.f-=h.scrollY*i.scrollFactorY),o.multiply(f,u),s};v.exports=e},92034:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(74623),a=t(91963),r=t(7599),s=new l({Extends:c,initialize:function(i){c.call(this),this.checkQueue=!0,this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,i){for(var h=this._active,n=h.length,o=0;o<n;o++){var f=h[o];f.active&&f.preUpdate.call(f,e,i)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var i=this.systems.events;i.off(r.PRE_UPDATE,this.update,this),i.off(r.UPDATE,this.sceneUpdate,this),i.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",s,"updateList"),v.exports=s},8810:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s,e,i,h,n,o,f,u,d,p){var m=c.x-l.displayOriginX+r,y=c.y-l.displayOriginY+s,g=m+c.w,T=y+c.h,S=e.getXRound(m,y,i),C=e.getYRound(m,y,i),w=e.getXRound(m,T,i),b=e.getYRound(m,T,i),A=e.getXRound(g,T,i),D=e.getYRound(g,T,i),B=e.getXRound(g,y,i),N=e.getYRound(g,y,i);t.batchQuad(l,S,C,w,b,A,D,B,N,a.u0,a.v0,a.u1,a.v1,h,n,o,f,u,d,p)};v.exports=x},82173:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){if(c===void 0&&(c=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,s=r.length,e=t.maxWidth,i=t.wordWrapCharCode,h=Number.MAX_VALUE,n=Number.MAX_VALUE,o=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,m=t.lineSpacing,y=0,g=0,T=0,S=null,C=t._align,w=0,b=0,A=t.fontSize/t.fontData.size,D=A*t.scaleX,B=A*t.scaleY,N=null,Y=0,H=[],j=Number.MAX_VALUE,J=0,X=0,W=0,L,G=[],z=[],k=null;if(e>0){for(L=0;L<s;L++){if(T=r.charCodeAt(L),T===10){k!==null&&(G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B,cr:!0}),k=null),y=0,g+=d+m,N=null;continue}if(S=u[T],!!S){if(N!==null)var K=S.kerning[Y];T===i?k!==null&&(G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B,cr:!1}),k=null):(k===null&&(k={word:"",i:L,x:y,y:g,w:0,h:d,cr:!1}),k.word=k.word.concat(r[L]),k.w+=S.xOffset+S.xAdvance+(K!==void 0?K:0)),y+=S.xAdvance+p,N=S,Y=T}}k!==null&&G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B,cr:!1}),y=0,g=0,N=null,Y=0;var $,Q=0,_=[];for(L=0;L<G.length;L++){var tt=G[L],nt=tt.x,st=tt.x+tt.w;if($){var at=nt-($.x+$.w);Q=nt-(at+$.w),$=null}var rt=nt-Q,dt=st-Q;rt>e||dt>e?(_.push(tt.i-1),tt.cr?(_.push(tt.i+tt.word.length),Q=0,$=null):$=tt):tt.cr&&(_.push(tt.i+tt.word.length),Q=0,$=null)}var mt=function(yt,Pt,At){return yt.substr(0,Pt)+At+yt.substr(Pt+1)};for(L=_.length-1;L>=0;L--)r=mt(r,_[L],`
`);a.wrappedText=r,s=r.length,G=[],k=null}var Tt=0;for(L=0;L<s;L++){if(T=r.charCodeAt(L),T===10){k!==null&&(G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B}),k=null),y=0,g+=d+m,N=null,H[X]=W,W>J&&(J=W),W<j&&(j=W),X++,W=0;continue}if(S=u[T],!!S){if(w=y,b=g,N!==null){var St=S.kerning[Y];w+=St!==void 0?St:0}h>w&&(h=w),n>b&&(n=b);var ft=w+S.xAdvance,vt=b+d;o<ft&&(o=ft),f<vt&&(f=vt);var et=S.xOffset+S.xAdvance+(St!==void 0?St:0);T===i?k!==null&&(G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B}),k=null):(k===null&&(k={word:"",i:Tt,x:y,y:g,w:0,h:d}),k.word=k.word.concat(r[L]),k.w+=et),z.push({i:Tt,idx:L,char:r[L],code:T,x:(S.xOffset+w)*A,y:(S.yOffset+g)*A,w:S.width*A,h:S.height*A,t:g*A,r:ft*A,b:d*A,line:X,glyph:S}),y+=S.xAdvance+p+(St!==void 0?St:0),N=S,Y=T,W=ft*A,Tt++}}if(k!==null&&G.push({word:k.word,i:k.i,x:k.x*D,y:k.y*B,w:k.w*D,h:k.h*B}),H[X]=W,W>J&&(J=W),W<j&&(j=W),C>0)for(var ot=0;ot<z.length;ot++){var ut=z[ot];if(C===1){var ct=(J-H[ut.line])/2;ut.x+=ct,ut.r+=ct}else if(C===2){var xt=J-H[ut.line];ut.x+=xt,ut.r+=xt}}var wt=a.local,pt=a.global,Ct=a.lines;return wt.x=h*A,wt.y=n*A,wt.width=o*A,wt.height=f*A,pt.x=t.x-t._displayOriginX+h*D,pt.y=t.y-t._displayOriginY+n*B,pt.width=o*D,pt.height=f*B,Ct.shortest=j,Ct.longest=J,Ct.lengths=H,l&&(wt.x=Math.ceil(wt.x),wt.y=Math.ceil(wt.y),wt.width=Math.ceil(wt.width),wt.height=Math.ceil(wt.height),pt.x=Math.ceil(pt.x),pt.y=Math.ceil(pt.y),pt.width=Math.ceil(pt.width),pt.height=Math.ceil(pt.height),Ct.shortest=Math.ceil(j),Ct.longest=Math.ceil(J)),c&&(t._displayOriginX=t.originX*wt.width,t._displayOriginY=t.originY*wt.height,pt.x=t.x-t._displayOriginX*t.scaleX,pt.y=t.y-t._displayOriginY*t.scaleY,l&&(pt.x=Math.ceil(pt.x),pt.y=Math.ceil(pt.y))),a.words=G,a.characters=z,a.lines.height=d,a.scale=A,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=x},68298:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(31476),c=function(a,r,s,e,i,h,n){var o=a.sys.textures.get(s),f=o.get(e),u=a.sys.cache.xml.get(i);if(f&&u){var d=l(u,f,h,n,o);return a.sys.cache.bitmapFont.add(r,{data:d,texture:s,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=c},39860:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),c=function(a,r){var s=r.width,e=r.height,i=Math.floor(s/2),h=Math.floor(e/2),n=l(r,"chars","");if(n!==""){var o=l(r,"image",""),f=a.sys.textures.getFrame(o),u=f.cutX,d=f.cutY,p=f.source.width,m=f.source.height,y=l(r,"offset.x",0),g=l(r,"offset.y",0),T=l(r,"spacing.x",0),S=l(r,"spacing.y",0),C=l(r,"lineSpacing",0),w=l(r,"charsPerRow",null);w===null&&(w=p/s,w>n.length&&(w=n.length));for(var b=y,A=g,D={retroFont:!0,font:o,size:s,lineHeight:e+C,chars:{}},B=0,N=0;N<n.length;N++){var Y=n.charCodeAt(N),H=(u+b)/p,j=(d+A)/m,J=(u+b+s)/p,X=(d+A+e)/m;D.chars[Y]={x:b,y:A,width:s,height:e,centerX:i,centerY:h,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:H,v0:j,u1:J,v1:X},B++,B===w?(B=0,b=y,A+=e+S):b+=s+T}var W={data:D,frame:null,texture:o};return W}};v.exports=c},31476:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(l,c){return parseInt(l.getAttribute(c),10)}var t=function(l,c,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0);var e=c.cutX,i=c.cutY,h=c.source.width,n=c.source.height,o=c.sourceIndex,f={},u=l.getElementsByTagName("info")[0],d=l.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=x(u,"size"),f.lineHeight=x(d,"lineHeight")+r,f.chars={};var p=l.getElementsByTagName("char"),m=c!==void 0&&c.trimmed;if(m)var y=c.height,g=c.width;for(var T=0;T<p.length;T++){var S=p[T],C=x(S,"id"),w=String.fromCharCode(C),b=x(S,"x"),A=x(S,"y"),D=x(S,"width"),B=x(S,"height");m&&(b<g&&(g=b),A<y&&(y=A)),m&&y!==0&&g!==0&&(b-=c.x,A-=c.y);var N=(e+b)/h,Y=(i+A)/n,H=(e+b+D)/h,j=(i+A+B)/n;if(f.chars[C]={x:b,y:A,width:D,height:B,centerX:Math.floor(D/2),centerY:Math.floor(B/2),xOffset:x(S,"xoffset"),yOffset:x(S,"yoffset"),xAdvance:x(S,"xadvance")+a,data:{},kerning:{},u0:N,v0:Y,u1:H,v1:j},s&&D!==0&&B!==0){var J=s.add(w,o,b,A,D,B);J&&J.setUVs(D,B,N,Y,H,j)}}var X=l.getElementsByTagName("kerning");for(T=0;T<X.length;T++){var W=X[T],L=x(W,"first"),G=x(W,"second"),z=x(W,"amount");f.chars[G].kerning[L]=z}return f};v.exports=t},55873:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66863),c=t(98611),a={Parse:t(39860)};a=c(!1,a,l),v.exports=a},66863:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=x},13468:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),c=t(56694),a=t(88899),r=new c({Extends:l,Mixins:[a],initialize:function(e,i,h,n,o,f,u){l.call(this,e,i,h,n,o,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,e){return this.cropWidth=s,this.cropHeight=e,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});v.exports=r},93438:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(49584),c=function(a,r,s,e){var i=r._text,h=i.length,n=a.currentContext;if(!(h===0||!l(a,n,r,s,e))){s.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.displayCallback,u=r.callbackData,d=r.fontData.chars,p=r.fontData.lineHeight,m=r._letterSpacing,y=0,g=0,T=0,S=null,C=0,w=0,b=0,A=0,D=0,B=0,N=null,Y=0,H=r.frame.source.image,j=o.cutX,J=o.cutY,X=0,W=0,L=r._fontSize/r.fontData.size,G=r._align,z=0,k=0;r.getTextBounds(!1);var K=r._bounds.lines;G===1?k=(K.longest-K.lengths[0])/2:G===2&&(k=K.longest-K.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);var $=s.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(n.beginPath(),n.rect(0,0,r.cropWidth,r.cropHeight),n.clip());for(var Q=0;Q<h;Q++){if(W=L,X=0,T=i.charCodeAt(Q),T===10){z++,G===1?k=(K.longest-K.lengths[z])/2:G===2&&(k=K.longest-K.lengths[z]),y=0,g+=p,N=null;continue}if(S=d[T],!!S){if(C=j+S.x,w=J+S.y,b=S.width,A=S.height,D=S.xOffset+y-r.scrollX,B=S.yOffset+g-r.scrollY,N!==null){var _=S.kerning[Y];D+=_!==void 0?_:0}if(f){u.index=Q,u.charCode=T,u.x=D,u.y=B,u.scale=W,u.rotation=X,u.data=S.data;var tt=f(u);D=tt.x,B=tt.y,W=tt.scale,X=tt.rotation}D*=W,B*=W,D+=k,y+=S.xAdvance+m+(_!==void 0?_:0),N=S,Y=T,!(b===0||A===0||T===32)&&($&&(D=Math.round(D),B=Math.round(B)),n.save(),n.translate(D,B),n.rotate(X),n.scale(W,W),n.drawImage(H,C,w,b,A,0,0,b,A),n.restore())}}n.restore()}};v.exports=c},67513:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13468),c=t(88933),a=t(99325),r=t(20494);a.register("dynamicBitmapText",function(s,e){s===void 0&&(s={});var i=r(s,"font",""),h=r(s,"text",""),n=r(s,"size",!1),o=new l(this.scene,0,0,i,h,n);return e!==void 0&&(s.add=e),c(this.scene,o,s),o})},94145:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13468),c=t(61286);c.register("dynamicBitmapText",function(a,r,s,e,i){return this.displayList.add(new l(this.scene,a,r,s,e,i))})},88899:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(16873),a=t(93438),v.exports={renderWebGL:c,renderCanvas:a}},16873:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(69360),a=t(75512),r=new c,s=function(e,i,h,n){var o=i.text,f=o.length;if(f!==0){h.addToRenderList(i);var u=e.pipelines.set(i.pipeline,i),d=l(i,h,n);e.pipelines.preBatch(i);var p=d.sprite,m=d.calc,y=r,g=i.cropWidth>0||i.cropHeight>0;g&&(u.flush(),e.pushScissor(m.tx,m.ty,i.cropWidth*m.scaleX,i.cropHeight*m.scaleY));var T=i.frame,S=T.glTexture,C=i.tintFill,w=a.getTintAppendFloatAlpha(i.tintTopLeft,h.alpha*i._alphaTL),b=a.getTintAppendFloatAlpha(i.tintTopRight,h.alpha*i._alphaTR),A=a.getTintAppendFloatAlpha(i.tintBottomLeft,h.alpha*i._alphaBL),D=a.getTintAppendFloatAlpha(i.tintBottomRight,h.alpha*i._alphaBR),B=u.setGameObject(i),N=0,Y=0,H=0,j=0,J=i.letterSpacing,X,W=0,L=0,G,z=i.scrollX,k=i.scrollY,K=i.fontData,$=K.chars,Q=K.lineHeight,_=i.fontSize/K.size,tt=0,nt=i._align,st=0,at=0,rt=i.getTextBounds(!1);i.maxWidth>0&&(o=rt.wrappedText,f=o.length);var dt=i._bounds.lines;nt===1?at=(dt.longest-dt.lengths[0])/2:nt===2&&(at=dt.longest-dt.lengths[0]);for(var mt=h.roundPixels,Tt=i.displayCallback,St=i.callbackData,ft=0;ft<f;ft++){if(H=o.charCodeAt(ft),H===10){st++,nt===1?at=(dt.longest-dt.lengths[st])/2:nt===2&&(at=dt.longest-dt.lengths[st]),N=0,Y+=Q,G=null;continue}if(X=$[H],!!X){W=X.width,L=X.height;var vt=X.xOffset+N-z,et=X.yOffset+Y-k;if(G!==null){var ot=X.kerning[j];vt+=ot!==void 0?ot:0}if(N+=X.xAdvance+J,G=X,j=H,!(W===0||L===0||H===32)){if(_=i.fontSize/i.fontData.size,tt=0,Tt){St.color=0,St.tint.topLeft=w,St.tint.topRight=b,St.tint.bottomLeft=A,St.tint.bottomRight=D,St.index=ft,St.charCode=H,St.x=vt,St.y=et,St.scale=_,St.rotation=tt,St.data=X.data;var ut=Tt(St);vt=ut.x,et=ut.y,_=ut.scale,tt=ut.rotation,ut.color?(w=ut.color,b=ut.color,A=ut.color,D=ut.color):(w=ut.tint.topLeft,b=ut.tint.topRight,A=ut.tint.bottomLeft,D=ut.tint.bottomRight),w=a.getTintAppendFloatAlpha(w,h.alpha*i._alphaTL),b=a.getTintAppendFloatAlpha(b,h.alpha*i._alphaTR),A=a.getTintAppendFloatAlpha(A,h.alpha*i._alphaBL),D=a.getTintAppendFloatAlpha(D,h.alpha*i._alphaBR)}vt*=_,et*=_,vt-=i.displayOriginX,et-=i.displayOriginY,vt+=at,y.applyITRS(vt,et,tt,_,_),m.multiply(y,p);var ct=X.u0,xt=X.v0,wt=X.u1,pt=X.v1,Ct=W,yt=L,Pt=p.e,At=p.f,It=yt*p.c+p.e,Ht=yt*p.d+p.f,ht=Ct*p.a+yt*p.c+p.e,ee=Ct*p.b+yt*p.d+p.f,qt=Ct*p.a+p.e,_t=Ct*p.b+p.f;mt&&(Pt=Math.round(Pt),At=Math.round(At),It=Math.round(It),Ht=Math.round(Ht),ht=Math.round(ht),ee=Math.round(ee),qt=Math.round(qt),_t=Math.round(_t)),u.batchQuad(i,Pt,At,It,Ht,ht,ee,qt,_t,ct,xt,wt,pt,w,b,A,D,C,S,B)}}}g&&(u.flush(),e.popScissor()),e.pipelines.postBatch(i)}};v.exports=s},44616:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(82897),a=t(64937),r=t(89980),s=t(82173),e=t(68298),i=t(31476),h=t(74118),n=t(84557),o=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,n],initialize:function(u,d,p,m,y,g,T){y===void 0&&(y=""),T===void 0&&(T=0),r.call(this,u,"BitmapText"),this.font=m;var S=this.scene.sys.cache.bitmapFont.get(m);S||console.warn("Invalid BitmapText key: "+m),this.fontData=S.data,this._text="",this._fontSize=g||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=S.fromAtlas,this.setTexture(S.texture,S.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,p){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(f,u,d,p,m,y,g){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),p===void 0&&(p=-1),m===void 0&&(m=p,y=p,g=p);var T=this.text.length;u===-1&&(u=T),f<0&&(f=T+f),f=c(f,0,T-1);for(var S=c(f+u,f,T),C=this.charColors,w=f;w<S;w++){var b=C[w];if(p===-1)C[w]=null;else{var A=d?1:0;b?(b.tintEffect=A,b.tintTL=p,b.tintTR=m,b.tintBL=y,b.tintBR=g):C[w]={tintEffect:A,tintTL:p,tintTR:m,tintBL:y,tintBR:g}}}return this},setWordTint:function(f,u,d,p,m,y,g){u===void 0&&(u=1);for(var T=this.getTextBounds(),S=T.words,C=typeof f=="number",w=0,b=0;b<S.length;b++){var A=S[b];if((C&&b===f||!C&&A.word===f)&&(this.setCharacterTint(A.i,A.word.length,d,p,m,y,g),w++,w===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(s(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var p=this.getLocalPoint(f,u,null,d),m=this.getTextBounds(),y=m.characters,g=new h,T=0;T<y.length;T++){var S=y[T];if(g.setTo(S.x,S.t,S.r-S.x,S.b),g.contains(p.x,p.y))return S}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){if(u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align),f!==this.font){var p=this.scene.sys.cache.bitmapFont.get(f);p&&(this.font=f,this.fontData=p.data,this._fontSize=u,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=a.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=i,v.exports=o},97545:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(49584),c=function(a,r,s,e){var i=r._text,h=i.length,n=a.currentContext;if(!(h===0||!l(a,n,r,s,e))){s.addToRenderList(r);var o=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.fontData.chars,u=r.fontData.lineHeight,d=r._letterSpacing,p=r._lineSpacing,m=0,y=0,g=0,T=null,S=0,C=0,w=0,b=0,A=0,D=0,B=null,N=0,Y=o.source.image,H=o.cutX,j=o.cutY,J=r._fontSize/r.fontData.size,X=r._align,W=0,L=0,G=r.getTextBounds(!1);r.maxWidth>0&&(i=G.wrappedText,h=i.length);var z=r._bounds.lines;X===1?L=(z.longest-z.lengths[0])/2:X===2&&(L=z.longest-z.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);for(var k=s.roundPixels,K=0;K<h;K++){if(g=i.charCodeAt(K),g===10){W++,X===1?L=(z.longest-z.lengths[W])/2:X===2&&(L=z.longest-z.lengths[W]),m=0,y+=u+p,B=null;continue}if(T=f[g],!!T){if(S=H+T.x,C=j+T.y,w=T.width,b=T.height,A=T.xOffset+m,D=T.yOffset+y,B!==null){var $=T.kerning[N];A+=$!==void 0?$:0}A*=J,D*=J,A+=L,m+=T.xAdvance+d+($!==void 0?$:0),B=T,N=g,!(w===0||b===0||g===32)&&(k&&(A=Math.round(A),D=Math.round(D)),n.save(),n.translate(A,D),n.scale(J,J),n.drawImage(Y,S,C,w,b,0,0,w,b),n.restore())}}n.restore()}};v.exports=c},95499:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),c=t(88933),a=t(99325),r=t(20494),s=t(10850);a.register("bitmapText",function(e,i){e===void 0&&(e={});var h=s(e,"font",""),n=r(e,"text",""),o=r(e,"size",!1),f=s(e,"align",0),u=new l(this.scene,0,0,h,n,o,f);return i!==void 0&&(e.add=i),c(this.scene,u,e),u})},21797:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44616),c=t(61286);c.register("bitmapText",function(a,r,s,e,i,h){return this.displayList.add(new l(this.scene,a,r,s,e,i,h))})},84557:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(26372),a=t(97545),v.exports={renderWebGL:c,renderCanvas:a}},26372:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8810),c=t(73329),a=t(75512),r=function(s,e,i,h){var n=e._text,o=n.length;if(o!==0){i.addToRenderList(e);var f=s.pipelines.set(e.pipeline,e),u=c(e,i,h).calc;s.pipelines.preBatch(e);var d=i.roundPixels,p=i.alpha,m=e.charColors,y=e.tintFill,g=a.getTintAppendFloatAlpha,T=g(e.tintTopLeft,p*e._alphaTL),S=g(e.tintTopRight,p*e._alphaTR),C=g(e.tintBottomLeft,p*e._alphaBL),w=g(e.tintBottomRight,p*e._alphaBR),b=e.frame.glTexture,A=f.setGameObject(e),D=e.getTextBounds(!1),B,N,Y,H=D.characters,j=e.dropShadowX,J=e.dropShadowY,X=j!==0||J!==0;if(X){var W=e.dropShadowColor,L=e.dropShadowAlpha,G=g(W,p*L*e._alphaTL),z=g(W,p*L*e._alphaTR),k=g(W,p*L*e._alphaBL),K=g(W,p*L*e._alphaBR);for(B=0;B<H.length;B++)N=H[B],Y=N.glyph,!(N.code===32||Y.width===0||Y.height===0)&&l(f,e,N,Y,j,J,u,d,G,z,k,K,1,b,A)}for(B=0;B<H.length;B++)if(N=H[B],Y=N.glyph,!(N.code===32||Y.width===0||Y.height===0))if(m[N.i]){var $=m[N.i],Q=$.tintEffect,_=g($.tintTL,p*e._alphaTL),tt=g($.tintTR,p*e._alphaTR),nt=g($.tintBL,p*e._alphaBL),st=g($.tintBR,p*e._alphaBR);l(f,e,N,Y,0,0,u,d,_,tt,nt,st,Q,b,A)}else l(f,e,N,Y,0,0,u,d,T,S,C,w,y,b,A);s.pipelines.postBatch(e)}};v.exports=r},52816:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92246),c=t(41664),a=t(56694),r=t(64937),s=t(82047),e=t(89980),i=t(71207),h=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,l],initialize:function(o,f,u,d,p){e.call(this,o,"Blitter"),this.setTexture(d,p),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new i,this.renderList=[],this.dirty=!1},create:function(n,o,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var p=new c(this,n,o,f,u);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(n,o,f,u){for(var d=this.createMultiple(o,f,u),p=0;p<d.length;p++){var m=d[p];n.call(this,m,p)}return d},createMultiple:function(n,o,f){o===void 0&&(o=this.frame.name),f===void 0&&(f=!0),Array.isArray(o)||(o=[o]);var u=[],d=this;return o.forEach(function(p){for(var m=0;m<n;m++)u.push(d.create(0,0,p,f))}),u},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=h},33177:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=l.getRenderList();if(r.length!==0){var s=t.currentContext,e=c.alpha*l.alpha;if(e!==0){c.addToRenderList(l),s.globalCompositeOperation=t.blendModes[l.blendMode],s.imageSmoothingEnabled=!l.frame.source.scaleMode;var i=l.x-c.scrollX*l.scrollFactorX,h=l.y-c.scrollY*l.scrollFactorY;s.save(),a&&a.copyToContext(s);for(var n=c.roundPixels,o=0;o<r.length;o++){var f=r[o],u=f.flipX||f.flipY,d=f.frame,p=d.canvasData,m=d.x,y=d.y,g=1,T=1,S=f.alpha*e;S!==0&&(s.globalAlpha=S,u?(f.flipX&&(g=-1,m-=p.width),f.flipY&&(T=-1,y-=p.height),p.width>0&&p.height>0&&(s.save(),s.translate(f.x+i,f.y+h),s.scale(g,T),s.drawImage(d.source.image,p.x,p.y,p.width,p.height,m,y,p.width,p.height),s.restore())):(n&&(m=Math.round(m),y=Math.round(y)),p.width>0&&p.height>0&&s.drawImage(d.source.image,p.x,p.y,p.width,p.height,m+f.x+i,y+f.y+h,p.width,p.height)))}s.restore()}}};v.exports=x},68452:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),c=t(88933),a=t(99325),r=t(20494);a.register("blitter",function(s,e){s===void 0&&(s={});var i=r(s,"key",null),h=r(s,"frame",null),n=new l(this.scene,0,0,i,h);return e!==void 0&&(s.add=e),c(this.scene,n,s),n})},38906:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52816),c=t(61286);c.register("blitter",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},92246:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(89165),a=t(33177),v.exports={renderWebGL:c,renderCanvas:a}},89165:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),c=t(75512),a=new l,r=function(s,e,i,h){var n=e.getRenderList(),o=i.alpha*e.alpha;if(!(n.length===0||o===0)){i.addToRenderList(e);var f=s.pipelines.set(this.pipeline,e),u=i.scrollX*e.scrollFactorX,d=i.scrollY*e.scrollFactorY,p=a.copyFrom(i.matrix);h&&(p.multiplyWithOffset(h,-u,-d),u=0,d=0);var m=e.x-u,y=e.y-d,g=-1,T=!1,S=i.roundPixels;s.pipelines.preBatch(e);for(var C=0;C<n.length;C++){var w=n[C],b=w.frame,A=w.alpha*o;if(A!==0){var D=b.width,B=b.height,N=m+w.x+b.x,Y=y+w.y+b.y;w.flipX&&(D*=-1,N+=b.width),w.flipY&&(B*=-1,Y+=b.height);var H=p.setQuad(N,Y,N+D,Y+B,S),j=c.getTintAppendFloatAlpha(w.tint,A);if(b.sourceIndex!==g){var J=f.setGameObject(e,b);g=b.sourceIndex}f.batchQuad(e,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],b.u0,b.v0,b.u1,b.v1,j,j,j,j,T,b.glTexture,J)&&(g=-1)}}s.pipelines.postBatch(e)}};v.exports=r},41664:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(82047),a=new l({initialize:function(s,e,i,h,n){this.parent=s,this.x=e,this.y=i,this.frame=h,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof c&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,s,e){return this.x=r,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,s){return this.x=r,this.y=s,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,s){return this.flipX=r,this.flipY=s,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});v.exports=a},97123:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,s,e,i){return r===void 0&&(r=1),s===void 0?this.alpha=r:(this._alphaTL=l(r,0,1),this._alphaTR=l(s,0,1),this._alphaBL=l(e,0,1),this._alphaBR=l(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var s=l(r,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var s=l(r,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var s=l(r,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var s=l(r,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var s=l(r,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=c)}}};v.exports=a},15720:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var s=l(r,0,1);this._alpha=s,s===0?this.renderFlags&=~c:this.renderFlags|=c}}};v.exports=a},69732:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=l[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=c},28284:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};v.exports=x},85293:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(t,l,c,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,l,c,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=x},14975:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};v.exports=x},88677:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(96910),a=t(72677),r=new l({initialize:function(e,i){this.gameObject=e,this.isPost=i,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,e=0;e<s.length;e++)s[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(i)||(i=[i]),e=0;e<i.length;e++){var h=i[e];if(h.controller===s){this.gameObject.removePostPipeline(h),s.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===s&&(a(n,e),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,e){if(this.isPost){var i=String(s.type);this.gameObject.setPostPipeline(i,e);var h=this.gameObject.getPostPipeline(i);if(h)return Array.isArray(h)&&(h=h.pop()),h.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,e,i,h,n,o){return this.add(new c.Glow(this.gameObject,s,e,i,h),{quality:n,distance:o})},addShadow:function(s,e,i,h,n,o,f){return this.add(new c.Shadow(this.gameObject,s,e,i,h,n,o,f))},addPixelate:function(s){return this.add(new c.Pixelate(this.gameObject,s))},addVignette:function(s,e,i,h){return this.add(new c.Vignette(this.gameObject,s,e,i,h))},addShine:function(s,e,i,h){return this.add(new c.Shine(this.gameObject,s,e,i,h))},addBlur:function(s,e,i,h,n,o){return this.add(new c.Blur(this.gameObject,s,e,i,h,n,o))},addGradient:function(s,e,i,h,n,o,f,u){return this.add(new c.Gradient(this.gameObject,s,e,i,h,n,o,f,u))},addBloom:function(s,e,i,h,n,o){return this.add(new c.Bloom(this.gameObject,s,e,i,h,n,o))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(s,e,i,h,n){return this.add(new c.Circle(this.gameObject,s,e,i,h,n))},addBarrel:function(s){return this.add(new c.Barrel(this.gameObject,s))},addDisplacement:function(s,e,i){return this.add(new c.Displacement(this.gameObject,s,e,i))},addWipe:function(s,e,i){return this.add(new c.Wipe(this.gameObject,s,e,i))},addReveal:function(s,e,i){return this.add(new c.Wipe(this.gameObject,s,e,i,!0))},addBokeh:function(s,e,i){return this.add(new c.Bokeh(this.gameObject,s,e,i))},addTiltShift:function(s,e,i,h,n,o){return this.add(new c.Bokeh(this.gameObject,s,e,i,!0,h,n,o))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=r},92972:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,l){return this.flipX=t,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=x},80693:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=t(2386),a=t(93736),r={prepareBoundsOutput:function(s,e){if(e===void 0&&(e=!1),this.rotation!==0&&c(s,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,e){return s===void 0&&(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getTopLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getLeftCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getRightCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getBottomLeft:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomCenter:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomRight:function(s,e){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBounds:function(s){s===void 0&&(s=new l);var e,i,h,n,o,f,u,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),p.transformPoint(s.x,s.y,s),e=s.x,i=s.y,this.getTopRight(s),p.transformPoint(s.x,s.y,s),h=s.x,n=s.y,this.getBottomLeft(s),p.transformPoint(s.x,s.y,s),o=s.x,f=s.y,this.getBottomRight(s),p.transformPoint(s.x,s.y,s),u=s.x,d=s.y}else this.getTopLeft(s),e=s.x,i=s.y,this.getTopRight(s),h=s.x,n=s.y,this.getBottomLeft(s),o=s.x,f=s.y,this.getBottomRight(s),u=s.x,d=s.y;return s.x=Math.min(e,h,o,u),s.y=Math.min(i,n,f,d),s.width=Math.max(e,h,o,u)-s.x,s.height=Math.max(i,n,f,d)-s.y,s}};v.exports=r},39171:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76756),c=t(63037),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,s,e,i,h){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new l(this.scene,r,s,e,i,h)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new c(this.scene,r)}};v.exports=a},28072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,l){return t===void 0&&(t=.5),l===void 0&&(l=t),this.originX=t,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,l){return t===void 0&&(t=0),l===void 0&&(l=t),this.displayOriginX=t,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=x},54211:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75606),c=t(63130),a=t(10850),r=t(55303),s=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(i,h){h===void 0&&(h=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=i,h&&this.startFollow(h),this},setRotateToPath:function(i,h){return h===void 0&&(h=0),this.rotateToPath=i,this.pathRotationOffset=h,this},isFollowing:function(){var i=this.pathTween;return i&&i.isPlaying()},startFollow:function(i,h){i===void 0&&(i={}),h===void 0&&(h=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof i=="number"&&(i={duration:i}),i.from=a(i,"from",0),i.to=a(i,"to",1);var o=c(i,"positionOnPath",!1);this.rotateToPath=c(i,"rotateToPath",!1),this.pathRotationOffset=a(i,"rotationOffset",0);var f=a(i,"startAt",h);if(f&&(i.onStart=function(d){var p=d.data[0];p.progress=f,p.elapsed=p.duration*f;var m=p.ease(p.progress);p.current=p.start+(p.end-p.start)*m,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),i.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(i),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=i,this},pauseFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.pause(),this},resumeFollow:function(){var i=this.pathTween;return i&&i.isPaused()&&i.resume(),this},stopFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this},pathUpdate:function(){var i=this.pathTween;if(i){var h=i.data[0],n=this.pathDelta,o=this.pathVector;if(n.copy(o).negate(),h.state===r.COMPLETE){this.path.getPoint(h.end,o),n.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(h.state!==r.PLAYING_FORWARD&&h.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(i.getValue(),o),n.add(o),o.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(o.x,o.y);var d=this.x-f,p=this.y-u;if(d===0&&p===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+l(this.pathRotationOffset))}}};v.exports=e},58210:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var s=r.pipelines;if(s){a===void 0&&(a=s.default);var e=s.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,s){var e=this.scene.sys.renderer;if(!e)return this;var i=e.pipelines;if(i){var h=i.get(a);h&&(this.pipeline=h),r&&(this.pipelineData=s?l(r):r)}return this},setPipelineData:function(a,r){var s=this.pipelineData;return r===void 0?delete s[a]:s[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};v.exports=c},44086:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28699),c=t(88677),a=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),s&&(this.preFX=new c(this,!1))},setPostPipeline:function(s,e,i){var h=this.scene.sys.renderer;if(!h)return this;var n=h.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var f=n.getPostPipeline(s[o],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=i?l(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,e){var i=this.postPipelineData;return e===void 0?delete i[s]:i[s]=e,this},getPostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,h=[],n=0;n<i.length;n++){var o=i[n];(e&&o.name===s||!e&&o instanceof s)&&h.push(o)}return h.length===1?h[0]:h},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,h=i.length-1;h>=0;h--){var n=i[h];(e&&n.name===s||!e&&n===s)&&(n.destroy(),a(i,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=r},45900:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,l){return l===void 0&&(l=t),this.scrollFactorX=t,this.scrollFactorY=l,this}};v.exports=x},31654:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(t,l){return this.width=t,this.height=l,this},setDisplaySize:function(t,l){return this.displayWidth=t,this.displayHeight=l,this}};v.exports=x},82081:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},21850:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,s,e,i){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,s,e,i,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof l?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},58072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,l,c,a){return t===void 0&&(t=16777215),l===void 0&&(l=t,c=t,a=t),this.tintTopLeft=t,this.tintTopRight=l,this.tintBottomLeft=c,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,l,c,a){return this.setTint(t,l,c,a),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=x},48129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(l.textureKey=t.texture.key,l.frameKey=t.frame.name),l};v.exports=x},56584:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(69360),a=t(64462),r=t(35786),s=t(62138),e=t(93736),i=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~i:this.renderFlags|=i}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~i:this._scaleY!==0&&(this.renderFlags|=i)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~i:this._scaleX!==0&&(this.renderFlags|=i)}},angle:{get:function(){return s(this._rotation*l.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=r(n)}},setPosition:function(n,o,f,u){return n===void 0&&(n=0),o===void 0&&(o=n),f===void 0&&(f=0),u===void 0&&(u=0),this.x=n,this.y=o,this.z=f,this.w=u,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,o,f,u){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=o+Math.random()*u,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,o){return n===void 0&&(n=1),o===void 0&&(o=n),this.scaleX=n,this.scaleY=o,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,o){n===void 0&&(n=new c);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(o||(o=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)o.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),o.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,o,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,p=u.scrollY,m=n+d*this.scrollFactorX-d,y=o+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,y,f):a(m,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,o=this.parentContainer;o;)n+=o.rotation,o=o.parentContainer;return n}};v.exports=h},69360:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(83392),a=t(93736),r=new l({initialize:function(e,i,h,n,o,f){e===void 0&&(e=1),i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=1),o===void 0&&(o=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,i,h,n,o,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,e=s[0],i=s[1],h=s[2],n=s[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):h||n?c.TAU-(n>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,e){var i=this.matrix;return i[4]=i[0]*s+i[2]*e+i[4],i[5]=i[1]*s+i[3]*e+i[5],this},scale:function(s,e){var i=this.matrix;return i[0]*=s,i[1]*=s,i[2]*=e,i[3]*=e,this},rotate:function(s){var e=Math.sin(s),i=Math.cos(s),h=this.matrix,n=h[0],o=h[1],f=h[2],u=h[3];return h[0]=n*i+f*e,h[1]=o*i+u*e,h[2]=n*-e+f*i,h[3]=o*-e+u*i,this},multiply:function(s,e){var i=this.matrix,h=s.matrix,n=i[0],o=i[1],f=i[2],u=i[3],d=i[4],p=i[5],m=h[0],y=h[1],g=h[2],T=h[3],S=h[4],C=h[5],w=e===void 0?i:e.matrix;return w[0]=m*n+y*f,w[1]=m*o+y*u,w[2]=g*n+T*f,w[3]=g*o+T*u,w[4]=S*n+C*f+d,w[5]=S*o+C*u+p,w},multiplyWithOffset:function(s,e,i){var h=this.matrix,n=s.matrix,o=h[0],f=h[1],u=h[2],d=h[3],p=h[4],m=h[5],y=e*o+i*u+p,g=e*f+i*d+m,T=n[0],S=n[1],C=n[2],w=n[3],b=n[4],A=n[5];return h[0]=T*o+S*u,h[1]=T*f+S*d,h[2]=C*o+w*u,h[3]=C*f+w*d,h[4]=b*o+A*u+y,h[5]=b*f+A*d+g,this},transform:function(s,e,i,h,n,o){var f=this.matrix,u=f[0],d=f[1],p=f[2],m=f[3],y=f[4],g=f[5];return f[0]=s*u+e*p,f[1]=s*d+e*m,f[2]=i*u+h*p,f[3]=i*d+h*m,f[4]=n*u+o*p+y,f[5]=n*d+o*m+g,this},transformPoint:function(s,e,i){i===void 0&&(i={x:0,y:0});var h=this.matrix,n=h[0],o=h[1],f=h[2],u=h[3],d=h[4],p=h[5];return i.x=s*n+e*f+d,i.y=s*o+e*u+p,i},invert:function(){var s=this.matrix,e=s[0],i=s[1],h=s[2],n=s[3],o=s[4],f=s[5],u=e*n-i*h;return s[0]=n/u,s[1]=-i/u,s[2]=-h/u,s[3]=e/u,s[4]=(h*f-n*o)/u,s[5]=-(e*f-i*o)/u,this},copyFrom:function(s){var e=this.matrix;return e[0]=s.a,e[1]=s.b,e[2]=s.c,e[3]=s.d,e[4]=s.e,e[5]=s.f,this},copyFromArray:function(s){var e=this.matrix;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],this},copyToContext:function(s){var e=this.matrix;return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),s},setToContext:function(s){var e=this.matrix;return s.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),s},copyToArray:function(s){var e=this.matrix;return s===void 0?s=[e[0],e[1],e[2],e[3],e[4],e[5]]:(s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5]),s},setTransform:function(s,e,i,h,n,o){var f=this.matrix;return f[0]=s,f[1]=e,f[2]=i,f[3]=h,f[4]=n,f[5]=o,this},decomposeMatrix:function(){var s=this.decomposedMatrix,e=this.matrix,i=e[0],h=e[1],n=e[2],o=e[3],f=i*o-h*n;if(s.translateX=e[4],s.translateY=e[5],i||h){var u=Math.sqrt(i*i+h*h);s.rotation=h>0?Math.acos(i/u):-Math.acos(i/u),s.scaleX=u,s.scaleY=f/u}else if(n||o){var d=Math.sqrt(n*n+o*o);s.rotation=Math.PI*.5-(o>0?Math.acos(-n/d):-Math.acos(n/d)),s.scaleX=f/d,s.scaleY=d}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,e,i,h,n){var o=this.matrix,f=Math.sin(i),u=Math.cos(i);return o[4]=s,o[5]=e,o[0]=u*h,o[1]=f*h,o[2]=-f*n,o[3]=u*n,this},applyInverse:function(s,e,i){i===void 0&&(i=new a);var h=this.matrix,n=h[0],o=h[1],f=h[2],u=h[3],d=h[4],p=h[5],m=1/(n*u+f*-o);return i.x=u*m*s+-f*m*e+(p*f-d*u)*m,i.y=n*m*e+-o*m*s+(-p*n+d*o)*m,i},setQuad:function(s,e,i,h,n,o){o===void 0&&(o=this.quad);var f=this.matrix,u=f[0],d=f[1],p=f[2],m=f[3],y=f[4],g=f[5];return o[0]=s*u+e*p+y,o[1]=s*d+e*m+g,o[2]=s*u+h*p+y,o[3]=s*d+h*m+g,o[4]=i*u+h*p+y,o[5]=i*d+h*m+g,o[6]=i*u+e*p+y,o[7]=i*d+e*m+g,n&&o.forEach(function(T,S){o[S]=Math.round(T)}),o},getX:function(s,e){return s*this.a+e*this.c+this.e},getY:function(s,e){return s*this.b+e*this.d+this.f},getXRound:function(s,e,i){var h=this.getX(s,e);return i&&(h=Math.round(h)),h},getYRound:function(s,e,i){var h=this.getY(s,e);return i&&(h=Math.round(h)),h},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=r},59694:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(l){return this.visible=l,this}};v.exports=t},64937:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59959),c=t(95723),a=t(56694),r=t(64937),s=t(56631),e=t(89980),i=t(74118),h=t(98524),n=t(58795),o=t(93736),f=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,h],initialize:function(d,p,m,y){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(p,m),this.setBlendMode(c.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new i),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),p=d.transformPoint(this.x,this.y);u.setTo(p.x,p.y,0,0)}if(this.list.length>0){var m=this.list,y=new i,g=!1;u.setEmpty();for(var T=0;T<m.length;T++){var S=m[T];S.getBounds&&(S.getBounds(y),g?n(y,u,u):(u.setTo(y.x,y.y,y.width,y.height),g=!0))}}return u},addHandler:function(u){u.once(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return l.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return l.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(p,m){return p[u]-m[u]}),l.StableSort(this.list,d),this):this},getByName:function(u){return l.GetFirst(this.list,"name",u)},getRandom:function(u,d){return l.GetRandom(this.list,u,d)},getFirst:function(u,d,p,m){return l.GetFirst(this.list,u,d,p,m)},getAll:function(u,d,p,m){return l.GetAll(this.list,u,d,p,m)},count:function(u,d,p,m){return l.CountAllMatching(this.list,u,d,p,m)},swap:function(u,d){return l.Swap(this.list,u,d),this},moveTo:function(u,d){return l.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return l.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return l.MoveBelow(this.list,u,d),this},remove:function(u,d){var p=l.Remove(this.list,u,this.removeHandler,this);if(d&&p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++)p[m].destroy()}return this},removeAt:function(u,d){var p=l.RemoveAt(this.list,u,this.removeHandler,this);return d&&p&&p.destroy(),this},removeBetween:function(u,d,p){var m=l.RemoveBetween(this.list,u,d,this.removeHandler,this);if(p)for(var y=0;y<m.length;y++)m[y].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var p=0;p<d.length;p++)d[p]&&d[p].scene&&(d[p].off(s.DESTROY,this.remove,this),d[p].destroy());this.list=[]}else l.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return l.BringToTop(this.list,u),this},sendToBack:function(u){return l.SendToBack(this.list,u),this},moveUp:function(u){return l.MoveUp(this.list,u),this},moveDown:function(u){return l.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(u,d,p){var m=l.Replace(this.list,u,d);return m&&(this.addHandler(d),this.removeHandler(u),p&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,p,m){return l.SetAll(this.list,u,d,p,m),this},each:function(u,d){var p=[null],m,y=this.list.slice(),g=y.length;for(m=2;m<arguments.length;m++)p.push(arguments[m]);for(m=0;m<g;m++)p[0]=y[m],u.apply(d,p);return this},iterate:function(u,d){var p=[null],m;for(m=2;m<arguments.length;m++)p.push(arguments[m]);for(m=0;m<this.list.length;m++)p[0]=this.list[m],u.apply(d,p);return this},setScrollFactor:function(u,d,p){return d===void 0&&(d=u),p===void 0&&(p=!1),this.scrollFactorX=u,this.scrollFactorY=d,p&&(l.SetAll(this.list,"scrollFactorX",u),l.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});v.exports=f},13916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l);var r=l.list;if(r.length!==0){var s=l.localTransform;a?(s.loadIdentity(),s.multiply(a),s.translate(l.x,l.y),s.rotate(l.rotation),s.scale(l.scaleX,l.scaleY)):s.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var e=l.blendMode!==-1;e||t.setBlendMode(0);var i=l._alpha,h=l.scrollFactorX,n=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(t,null,c);for(var o=0;o<r.length;o++){var f=r[o];if(f.willRender(c)){var u=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*h,p*n),f.setAlpha(u*i),f.renderCanvas(t,f,c,s),f.setAlpha(u),f.setScrollFactor(d,p)}}l.mask&&l.mask.postRenderCanvas(t)}};v.exports=x},44516:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(70339),a=t(99325),r=t(20494);a.register("container",function(s,e){s===void 0&&(s={});var i=r(s,"x",0),h=r(s,"y",0),n=r(s,"children",null),o=new c(this.scene,i,h,n);return e!==void 0&&(s.add=e),l(this.scene,o,s),o})},23400:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70339),c=t(61286);c.register("container",function(a,r,s){return this.displayList.add(new l(this.scene,a,r,s))})},98524:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(36934),a=t(13916),v.exports={renderWebGL:c,renderCanvas:a}},36934:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l);var r=l.list,s=r.length;if(s!==0){var e=l.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(l.x,l.y),e.rotate(l.rotation),e.scale(l.scaleX,l.scaleY)):e.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),t.pipelines.preBatch(l);var i=l.blendMode!==-1;i||t.setBlendMode(0);for(var h=l.alpha,n=l.scrollFactorX,o=l.scrollFactorY,f=0;f<s;f++){var u=r[f];if(u.willRender(c)){var d,p,m,y;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,p=u.alphaTopRight,m=u.alphaBottomLeft,y=u.alphaBottomRight;else{var g=u.alpha;d=g,p=g,m=g,y=g}var T=u.scrollFactorX,S=u.scrollFactorY;!i&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var C=u.mask;C&&C.preRenderWebGL(t,u,c);var w=u.type;w!==t.currentType&&(t.newType=!0,t.currentType=w),t.nextTypeMatch=f<s-1?r[f+1].type===t.currentType:!1,u.setScrollFactor(T*n,S*o),u.setAlpha(d*h,p*h,m*h,y*h),u.renderWebGL(t,u,c,e,l),u.setAlpha(d,p,m,y),u.setScrollFactor(T,S),C&&C.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(l)}};v.exports=x},2452:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(11603),r=t(89980),s=t(42911),e=t(55638),i=t(7599),h=t(51729),n=new l({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,a],initialize:function(f,u,d,p,m,y){r.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),m,y):this.createElement(p,m,y):p&&this.setElement(p,m,y),f.sys.events.on(i.SLEEP,this.handleSceneEvent,this),f.sys.events.on(i.WAKE,this.handleSceneEvent,this),f.sys.events.on(i.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var f=this.node,u=f.style;f&&(u.display=o.settings.visible?"block":"none")},setSkew:function(o,f){return o===void 0&&(o=0),f===void 0&&(f=o),this.skewX=o,this.skewY=f,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.addEventListener(o[f],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.removeEventListener(o[f],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,f,u){return this.setElement(document.createElement(o),f,u)},setElement:function(o,f,u){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,f&&s(f))for(var p in f)d.style[p]=f[p];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(o,f){var u=this.cache.get(o);return u&&this.createFromHTML(u,f),this},createFromHTML:function(o,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,f=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(o,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][o]===f)return u[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,f=this.node;f&&o&&!o.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(i.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(i.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(i.PRE_RENDER,this.preRender,this)}});v.exports=n},66070:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2452),c=t(89980),a=t(69360),r=new a,s=new a,e=new a,i=function(h,n,o,f){if(n.node){var u=n.node.style,d=n.scene.sys.settings;if(!u||!d.visible||c.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&o.id||n.parentContainer&&!n.parentContainer.willRender()){u.display="none";return}var p=n.parentContainer,m=o.alpha*n.alpha;p&&(m*=p.alpha);var y=r,g=s,T=e,S=0,C=0,w="0%",b="0%";f?(S=n.width*n.scaleX*n.originX,C=n.height*n.scaleY*n.originY,g.applyITRS(n.x-S,n.y-C,n.rotation,n.scaleX,n.scaleY),y.copyFrom(o.matrix),y.multiplyWithOffset(f,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),g.e=n.x-S,g.f=n.y-C,y.multiply(g,T)):(S=n.width*n.originX,C=n.height*n.originY,g.applyITRS(n.x-S,n.y-C,n.rotation,n.scaleX,n.scaleY),y.copyFrom(o.matrix),w=100*n.originX+"%",b=100*n.originY+"%",g.e-=o.scrollX*n.scrollFactorX,g.f-=o.scrollY*n.scrollFactorY,y.multiply(g,T)),n.transformOnly||(u.display="block",u.opacity=m,u.zIndex=n._depth,u.pointerEvents=n.pointerEvents,u.mixBlendMode=l[n._blendMode]),u.transform=T.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",u.transformOrigin=w+" "+b}};v.exports=i},66788:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(38943),c=t(61286);c.register("dom",function(a,r,s,e,i){var h=new l(this.scene,a,r,s,e,i);return this.displayList.add(h),h})},11603:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(66070),a=t(66070),v.exports={renderWebGL:c,renderCanvas:a}},65492:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},98398:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},40239:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},17286:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},31496:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},89587:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},59792:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},96342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},6017:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},49614:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},24418:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},87318:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},50009:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},61922:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},79501:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4052:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},54857:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},56631:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(79394),s=new l({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,r],initialize:function(i){a.call(this,i,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=s},96699:()=>{},41155:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39419),c=t(61286);c.register("extern",function(){var a=new l(this.scene);return this.displayList.add(a),a})},79394:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(81410),a=t(96699),v.exports={renderWebGL:c,renderCanvas:a}},81410:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=function(a,r,s,e){a.pipelines.clear();var i=l(r,s,e).calc;r.render.call(r,a,s,i),a.pipelines.rebind()};v.exports=c},36266:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51052),c=t(56694),a=t(36266),r=t(64937),s=t(95669),e=t(89980),i=t(72632),h=t(10850),n=t(83392),o=t(60898),f=new c({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,o],initialize:function(d,p){var m=h(p,"x",0),y=h(p,"y",0);e.call(this,d,"Graphics"),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(p)},setDefaultStyles:function(u){return h(u,"lineStyle",null)&&(this.defaultStrokeWidth=h(u,"lineStyle.width",1),this.defaultStrokeColor=h(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(u,"fillStyle",null)&&(this.defaultFillColor=h(u,"fillStyle.color",16777215),this.defaultFillAlpha=h(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,p){return p===void 0&&(p=1),this.commandBuffer.push(a.LINE_STYLE,u,d,p),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,p,m,y,g,T,S){return y===void 0&&(y=1),g===void 0&&(g=y),T===void 0&&(T=y),S===void 0&&(S=y),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,y,g,T,S,u,d,p,m),this},lineGradientStyle:function(u,d,p,m,y,g){return g===void 0&&(g=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,u,g,d,p,m,y),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,p){return this.beginPath(),this.arc(u,d,p,0,n.PI2),this.fillPath(),this},strokeCircle:function(u,d,p){return this.beginPath(),this.arc(u,d,p,0,n.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,p,m){return this.commandBuffer.push(a.FILL_RECT,u,d,p,m),this},strokeRect:function(u,d,p,m){var y=this._lineWidth/2,g=u-y,T=u+y;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+m),this.strokePath(),this.beginPath(),this.moveTo(u+p,d),this.lineTo(u+p,d+m),this.strokePath(),this.beginPath(),this.moveTo(g,d),this.lineTo(T+p,d),this.strokePath(),this.beginPath(),this.moveTo(g,d+m),this.lineTo(T+p,d+m),this.strokePath(),this},fillRoundedRect:function(u,d,p,m,y){y===void 0&&(y=20);var g=y,T=y,S=y,C=y;typeof y!="number"&&(g=i(y,"tl",20),T=i(y,"tr",20),S=i(y,"bl",20),C=i(y,"br",20));var w=g>=0,b=T>=0,A=S>=0,D=C>=0;return g=Math.abs(g),T=Math.abs(T),S=Math.abs(S),C=Math.abs(C),this.beginPath(),this.moveTo(u+g,d),this.lineTo(u+p-T,d),b?this.arc(u+p-T,d+T,T,-n.TAU,0):this.arc(u+p,d,T,Math.PI,n.TAU,!0),this.lineTo(u+p,d+m-C),D?this.arc(u+p-C,d+m-C,C,0,n.TAU):this.arc(u+p,d+m,C,-n.TAU,Math.PI,!0),this.lineTo(u+S,d+m),A?this.arc(u+S,d+m-S,S,n.TAU,Math.PI):this.arc(u,d+m,S,0,-n.TAU,!0),this.lineTo(u,d+g),w?this.arc(u+g,d+g,g,-Math.PI,-n.TAU):this.arc(u,d,g,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,p,m,y){y===void 0&&(y=20);var g=y,T=y,S=y,C=y,w=Math.min(p,m)/2;typeof y!="number"&&(g=i(y,"tl",20),T=i(y,"tr",20),S=i(y,"bl",20),C=i(y,"br",20));var b=g>=0,A=T>=0,D=S>=0,B=C>=0;return g=Math.min(Math.abs(g),w),T=Math.min(Math.abs(T),w),S=Math.min(Math.abs(S),w),C=Math.min(Math.abs(C),w),this.beginPath(),this.moveTo(u+g,d),this.lineTo(u+p-T,d),this.moveTo(u+p-T,d),A?this.arc(u+p-T,d+T,T,-n.TAU,0):this.arc(u+p,d,T,Math.PI,n.TAU,!0),this.lineTo(u+p,d+m-C),this.moveTo(u+p,d+m-C),B?this.arc(u+p-C,d+m-C,C,0,n.TAU):this.arc(u+p,d+m,C,-n.TAU,Math.PI,!0),this.lineTo(u+S,d+m),this.moveTo(u+S,d+m),D?this.arc(u+S,d+m-S,S,n.TAU,Math.PI):this.arc(u,d+m,S,0,-n.TAU,!0),this.lineTo(u,d+g),this.moveTo(u,d+g),b?this.arc(u+g,d+g,g,-Math.PI,-n.TAU):this.arc(u,d,g,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,p){return!p||p<1?p=1:(u-=p/2,d-=p/2),this.commandBuffer.push(a.FILL_RECT,u,d,p,p),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,p,m,y,g){return this.commandBuffer.push(a.FILL_TRIANGLE,u,d,p,m,y,g),this},strokeTriangle:function(u,d,p,m,y,g){return this.commandBuffer.push(a.STROKE_TRIANGLE,u,d,p,m,y,g),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,p,m){return this.beginPath(),this.moveTo(u,d),this.lineTo(p,m),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(a.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(a.MOVE_TO,u,d),this},strokePoints:function(u,d,p,m){d===void 0&&(d=!1),p===void 0&&(p=!1),m===void 0&&(m=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var y=1;y<m;y++)this.lineTo(u[y].x,u[y].y);return d&&this.lineTo(u[0].x,u[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,p,m){d===void 0&&(d=!1),p===void 0&&(p=!1),m===void 0&&(m=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var y=1;y<m;y++)this.lineTo(u[y].x,u[y].y);return d&&this.lineTo(u[0].x,u[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var p=u.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(u,d,p,m,y){y===void 0&&(y=32);var g=new s(u,d,p,m),T=g.getPoints(y);return this.strokePoints(T,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var p=u.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(u,d,p,m,y){y===void 0&&(y=32);var g=new s(u,d,p,m),T=g.getPoints(y);return this.fillPoints(T,!0)},arc:function(u,d,p,m,y,g,T){return g===void 0&&(g=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,u,d,p,m,y,g,T),this},slice:function(u,d,p,m,y,g,T){return g===void 0&&(g=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,u,d),this.commandBuffer.push(a.ARC,u,d,p,m,y,g,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(a.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(a.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(a.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,p){var m=this.scene.sys,y=m.game.renderer;d===void 0&&(d=m.scale.width),p===void 0&&(p=m.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,p),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var g,T,S={willReadFrequently:!0};if(typeof u=="string")if(m.textures.exists(u)){g=m.textures.get(u);var C=g.getSourceImage();C instanceof HTMLCanvasElement&&(T=C.getContext("2d",S))}else g=m.textures.createCanvas(u,d,p),T=g.getSourceImage().getContext("2d",S);else u instanceof HTMLCanvasElement&&(T=u.getContext("2d",S));return T&&(this.renderCanvas(y,this,f.TargetCamera,null,T,!1),g&&g.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new l,v.exports=f},91543:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36266),c=t(49584),a=function(r,s,e,i,h,n){var o=s.commandBuffer,f=o.length,u=h||r.currentContext;if(!(f===0||!c(r,u,s,e,i))){e.addToRenderList(s);var d=1,p=1,m=0,y=0,g=1,T=0,S=0,C=0;u.beginPath();for(var w=0;w<f;++w){var b=o[w];switch(b){case l.ARC:u.arc(o[w+1],o[w+2],o[w+3],o[w+4],o[w+5],o[w+6]),w+=7;break;case l.LINE_STYLE:g=o[w+1],m=o[w+2],d=o[w+3],T=(m&16711680)>>>16,S=(m&65280)>>>8,C=m&255,u.strokeStyle="rgba("+T+","+S+","+C+","+d+")",u.lineWidth=g,w+=3;break;case l.FILL_STYLE:y=o[w+1],p=o[w+2],T=(y&16711680)>>>16,S=(y&65280)>>>8,C=y&255,u.fillStyle="rgba("+T+","+S+","+C+","+p+")",w+=2;break;case l.BEGIN_PATH:u.beginPath();break;case l.CLOSE_PATH:u.closePath();break;case l.FILL_PATH:n||u.fill();break;case l.STROKE_PATH:n||u.stroke();break;case l.FILL_RECT:n?u.rect(o[w+1],o[w+2],o[w+3],o[w+4]):u.fillRect(o[w+1],o[w+2],o[w+3],o[w+4]),w+=4;break;case l.FILL_TRIANGLE:u.beginPath(),u.moveTo(o[w+1],o[w+2]),u.lineTo(o[w+3],o[w+4]),u.lineTo(o[w+5],o[w+6]),u.closePath(),n||u.fill(),w+=6;break;case l.STROKE_TRIANGLE:u.beginPath(),u.moveTo(o[w+1],o[w+2]),u.lineTo(o[w+3],o[w+4]),u.lineTo(o[w+5],o[w+6]),u.closePath(),n||u.stroke(),w+=6;break;case l.LINE_TO:u.lineTo(o[w+1],o[w+2]),w+=2;break;case l.MOVE_TO:u.moveTo(o[w+1],o[w+2]),w+=2;break;case l.LINE_FX_TO:u.lineTo(o[w+1],o[w+2]),w+=5;break;case l.MOVE_FX_TO:u.moveTo(o[w+1],o[w+2]),w+=5;break;case l.SAVE:u.save();break;case l.RESTORE:u.restore();break;case l.TRANSLATE:u.translate(o[w+1],o[w+2]),w+=2;break;case l.SCALE:u.scale(o[w+1],o[w+2]),w+=2;break;case l.ROTATE:u.rotate(o[w+1]),w+=1;break;case l.GRADIENT_FILL_STYLE:w+=5;break;case l.GRADIENT_LINE_STYLE:w+=6;break}}u.restore()}};v.exports=a},41286:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),c=t(33182);l.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var s=new c(this.scene,a);return a.add&&this.scene.sys.displayList.add(s),s})},13122:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33182),c=t(61286);c.register("graphics",function(a){return this.displayList.add(new l(this.scene,a))})},60898:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(34429),a=t(91543),a=t(91543),v.exports={renderWebGL:c,renderCanvas:a}},34429:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(36266),c=t(73329),a=t(69360),r=t(75512),s=function(o,f,u){this.x=o,this.y=f,this.width=u},e=function(o,f,u){this.points=[],this.pointsLength=1,this.points[0]=new s(o,f,u)},i=[],h=new a,n=function(o,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var p=o.pipelines.set(f.pipeline,f);o.pipelines.preBatch(f);for(var m=c(f,u,d).calc,y=h.loadIdentity(),g=f.commandBuffer,T=u.alpha*f.alpha,S=1,C=p.fillTint,w=p.strokeTint,b=0,A=0,D=0,B=.01,N=Math.PI*2,Y,H=[],j=0,J=!0,X=null,W=r.getTintAppendFloatAlpha,L=0;L<g.length;L++)switch(Y=g[L],Y){case l.BEGIN_PATH:{H.length=0,X=null,J=!0;break}case l.CLOSE_PATH:{J=!1,X&&X.points.length&&X.points.push(X.points[0]);break}case l.FILL_PATH:{for(j=0;j<H.length;j++)p.batchFillPath(H[j].points,y,m);break}case l.STROKE_PATH:{for(j=0;j<H.length;j++)p.batchStrokePath(H[j].points,S,J,y,m);break}case l.LINE_STYLE:{S=g[++L];var G=g[++L],z=g[++L]*T,k=W(G,z);w.TL=k,w.TR=k,w.BL=k,w.BR=k;break}case l.FILL_STYLE:{var K=g[++L],$=g[++L]*T,Q=W(K,$);C.TL=Q,C.TR=Q,C.BL=Q,C.BR=Q;break}case l.GRADIENT_FILL_STYLE:{var _=g[++L]*T,tt=g[++L]*T,nt=g[++L]*T,st=g[++L]*T;C.TL=W(g[++L],_),C.TR=W(g[++L],tt),C.BL=W(g[++L],nt),C.BR=W(g[++L],st);break}case l.GRADIENT_LINE_STYLE:{S=g[++L];var at=g[++L]*T;w.TL=W(g[++L],at),w.TR=W(g[++L],at),w.BL=W(g[++L],at),w.BR=W(g[++L],at);break}case l.ARC:{var rt=0,dt=g[++L],mt=g[++L],Tt=g[++L],St=g[++L],ft=g[++L],vt=g[++L],et=g[++L];for(ft-=St,vt?ft<-N?ft=-N:ft>0&&(ft=-N+ft%N):ft>N?ft=N:ft<0&&(ft=N+ft%N),X===null&&(X=new e(dt+Math.cos(St)*Tt,mt+Math.sin(St)*Tt,S),H.push(X),rt+=B);rt<1+et;)D=ft*rt+St,b=dt+Math.cos(D)*Tt,A=mt+Math.sin(D)*Tt,X.points.push(new s(b,A,S)),rt+=B;D=ft+St,b=dt+Math.cos(D)*Tt,A=mt+Math.sin(D)*Tt,X.points.push(new s(b,A,S));break}case l.FILL_RECT:{p.batchFillRect(g[++L],g[++L],g[++L],g[++L],y,m);break}case l.FILL_TRIANGLE:{p.batchFillTriangle(g[++L],g[++L],g[++L],g[++L],g[++L],g[++L],y,m);break}case l.STROKE_TRIANGLE:{p.batchStrokeTriangle(g[++L],g[++L],g[++L],g[++L],g[++L],g[++L],S,y,m);break}case l.LINE_TO:{X!==null?X.points.push(new s(g[++L],g[++L],S)):(X=new e(g[++L],g[++L],S),H.push(X));break}case l.MOVE_TO:{X=new e(g[++L],g[++L],S),H.push(X);break}case l.SAVE:{i.push(y.copyToArray());break}case l.RESTORE:{y.copyFromArray(i.pop());break}case l.TRANSLATE:{dt=g[++L],mt=g[++L],y.translate(dt,mt);break}case l.SCALE:{dt=g[++L],mt=g[++L],y.scale(dt,mt);break}case l.ROTATE:{y.rotate(g[++L]);break}}o.pipelines.postBatch(f)}};v.exports=n},59192:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83979),c=t(56694),a=t(56631),r=t(6659),s=t(71608),e=t(72632),i=t(10850),h=t(19256),n=t(42911),o=t(75757),f=t(58403),u=t(13747),d=new c({Extends:r,initialize:function(m,y,g){r.call(this),g?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?n(y[0])&&(g=y,y=null):n(y)&&(g=y,y=null),this.scene=m,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(g,"classType",u),this.name=e(g,"name",""),this.active=e(g,"active",!0),this.maxSize=e(g,"maxSize",-1),this.defaultKey=e(g,"defaultKey",null),this.defaultFrame=e(g,"defaultFrame",null),this.runChildUpdate=e(g,"runChildUpdate",!1),this.createCallback=e(g,"createCallback",null),this.removeCallback=e(g,"removeCallback",null),this.createMultipleCallback=e(g,"createMultipleCallback",null),this.internalCreateCallback=e(g,"internalCreateCallback",null),this.internalRemoveCallback=e(g,"internalRemoveCallback",null),y&&this.addMultiple(y),g&&this.createMultiple(g),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,m,y,g,T,S){if(p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=this.defaultKey),g===void 0&&(g=this.defaultFrame),T===void 0&&(T=!0),S===void 0&&(S=!0),this.isFull())return null;var C=new this.classType(this.scene,p,m,y,g);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=T,C.setActive(S),this.add(C),C},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var m=[];if(p[0].key)for(var y=0;y<p.length;y++){var g=this.createFromConfig(p[y]);m=m.concat(g)}return m},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var m=e(p,"key",void 0),y=e(p,"frame",null),g=e(p,"visible",!0),T=e(p,"active",!0),S=[];if(m===void 0)return S;Array.isArray(m)||(m=[m]),Array.isArray(y)||(y=[y]);var C=e(p,"repeat",0),w=e(p,"randomKey",!1),b=e(p,"randomFrame",!1),A=e(p,"yoyo",!1),D=e(p,"quantity",!1),B=e(p,"frameQuantity",1),N=e(p,"max",0),Y=o(m,y,{max:N,qty:D||B,random:w,randomB:b,repeat:C,yoyo:A});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback);for(var H=0;H<Y.length;H++){var j=this.create(0,0,Y[H].a,Y[H].b,g,T);if(!j)break;S.push(j)}if(h(p,"setXY")){var J=i(p,"setXY.x",0),X=i(p,"setXY.y",0),W=i(p,"setXY.stepX",0),L=i(p,"setXY.stepY",0);l.SetXY(S,J,X,W,L)}if(h(p,"setRotation")){var G=i(p,"setRotation.value",0),z=i(p,"setRotation.step",0);l.SetRotation(S,G,z)}if(h(p,"setScale")){var k=i(p,"setScale.x",1),K=i(p,"setScale.y",k),$=i(p,"setScale.stepX",0),Q=i(p,"setScale.stepY",0);l.SetScale(S,k,K,$,Q)}if(h(p,"setOrigin")){var _=i(p,"setOrigin.x",.5),tt=i(p,"setOrigin.y",_),nt=i(p,"setOrigin.stepX",0),st=i(p,"setOrigin.stepY",0);l.SetOrigin(S,_,tt,nt,st)}if(h(p,"setAlpha")){var at=i(p,"setAlpha.value",1),rt=i(p,"setAlpha.step",0);l.SetAlpha(S,at,rt)}if(h(p,"setDepth")){var dt=i(p,"setDepth.value",0),mt=i(p,"setDepth.step",0);l.SetDepth(S,dt,mt)}if(h(p,"setScrollFactor")){var Tt=i(p,"setScrollFactor.x",1),St=i(p,"setScrollFactor.y",Tt),ft=i(p,"setScrollFactor.stepX",0),vt=i(p,"setScrollFactor.stepY",0);l.SetScrollFactor(S,Tt,St,ft,vt)}var et=e(p,"hitArea",null),ot=e(p,"hitAreaCallback",null);et&&l.SetHitArea(S,et,ot);var ut=e(p,"gridAlign",!1);return ut&&l.GridAlign(S,ut),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(p,m){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),g=0;g<y.length;g++){var T=y[g];T.active&&T.update(p,m)}},add:function(p,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),m&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(a.DESTROY,this.remove,this),this)},addMultiple:function(p,m){if(m===void 0&&(m=!1),Array.isArray(p))for(var y=0;y<p.length;y++)this.add(p[y],m);return this},remove:function(p,m,y){return m===void 0&&(m=!1),y===void 0&&(y=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(a.DESTROY,this.remove,this),y?p.destroy():m&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,m){p===void 0&&(p=!1),m===void 0&&(m=!1);for(var y=this.children,g=0;g<y.size;g++){var T=y.entries[g];T.off(a.DESTROY,this.remove,this),m?T.destroy():p&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,m,y,g){return s(this.children.entries,p,m,y,g)},getFirst:function(p,m,y,g,T,S,C){return this.getHandler(!0,1,p,m,y,g,T,S,C)},getFirstNth:function(p,m,y,g,T,S,C,w){return this.getHandler(!0,p,m,y,g,T,S,C,w)},getLast:function(p,m,y,g,T,S,C){return this.getHandler(!1,1,p,m,y,g,T,S,C)},getLastNth:function(p,m,y,g,T,S,C,w){return this.getHandler(!1,p,m,y,g,T,S,C,w)},getHandler:function(p,m,y,g,T,S,C,w,b){y===void 0&&(y=!1),g===void 0&&(g=!1);var A,D,B=0,N=this.children.entries;if(p)for(D=0;D<N.length;D++)if(A=N[D],A.active===y){if(B++,B===m)break}else A=null;else for(D=N.length-1;D>=0;D--)if(A=N[D],A.active===y){if(B++,B===m)break}else A=null;return A?(typeof T=="number"&&(A.x=T),typeof S=="number"&&(A.y=S),A):g?this.create(T,S,C,w,b):null},get:function(p,m,y,g,T){return this.getFirst(!1,!0,p,m,y,g,T)},getFirstAlive:function(p,m,y,g,T,S){return this.getFirst(!0,p,m,y,g,T,S)},getFirstDead:function(p,m,y,g,T,S){return this.getFirst(!1,p,m,y,g,T,S)},playAnimation:function(p,m){return l.PlayAnimation(this.children.entries,p,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var m=0,y=0;y<this.children.size;y++)this.children.entries[y].active===p&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,m,y,g,T){return l.PropertyValueSet(this.children.entries,p,m,y,g,T),this},propertyValueInc:function(p,m,y,g,T){return l.PropertyValueInc(this.children.entries,p,m,y,g,T),this},setX:function(p,m){return l.SetX(this.children.entries,p,m),this},setY:function(p,m){return l.SetY(this.children.entries,p,m),this},setXY:function(p,m,y,g){return l.SetXY(this.children.entries,p,m,y,g),this},incX:function(p,m){return l.IncX(this.children.entries,p,m),this},incY:function(p,m){return l.IncY(this.children.entries,p,m),this},incXY:function(p,m,y,g){return l.IncXY(this.children.entries,p,m,y,g),this},shiftPosition:function(p,m,y){return l.ShiftPosition(this.children.entries,p,m,y),this},angle:function(p,m){return l.Angle(this.children.entries,p,m),this},rotate:function(p,m){return l.Rotate(this.children.entries,p,m),this},rotateAround:function(p,m){return l.RotateAround(this.children.entries,p,m),this},rotateAroundDistance:function(p,m,y){return l.RotateAroundDistance(this.children.entries,p,m,y),this},setAlpha:function(p,m){return l.SetAlpha(this.children.entries,p,m),this},setTint:function(p,m,y,g){return l.SetTint(this.children.entries,p,m,y,g),this},setOrigin:function(p,m,y,g){return l.SetOrigin(this.children.entries,p,m,y,g),this},scaleX:function(p,m){return l.ScaleX(this.children.entries,p,m),this},scaleY:function(p,m){return l.ScaleY(this.children.entries,p,m),this},scaleXY:function(p,m,y,g){return l.ScaleXY(this.children.entries,p,m,y,g),this},setDepth:function(p,m){return l.SetDepth(this.children.entries,p,m),this},setBlendMode:function(p){return l.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,m){return l.SetHitArea(this.children.entries,p,m),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,m,y){return l.SetVisible(this.children.entries,p,m,y),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(p,m){p===void 0&&(p=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,p),this.scene=void 0,this.children=void 0)}});v.exports=d},61295:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),c=t(59192);l.register("group",function(a){return new c(this.scene,null,a)})},62598:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59192),c=t(61286);c.register("group",function(a,r){return this.updateList.add(new l(this.scene,a,r))})},1539:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(57322),s=new l({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,r],initialize:function(i,h,n,o,f){a.call(this,i,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,f),this.setPosition(h,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=s},57786:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l),t.batchSprite(l,l.frame,c,a)};v.exports=x},83556:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(1539);c.register("image",function(s,e){s===void 0&&(s={});var i=a(s,"key",null),h=a(s,"frame",null),n=new r(this.scene,0,0,i,h);return e!==void 0&&(s.add=e),l(this.scene,n,s),n})},20927:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1539),c=t(61286);c.register("image",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},57322:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(59390),a=t(57786),v.exports={renderWebGL:c,renderCanvas:a}},59390:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l),this.pipeline.batchSprite(l,c,a)};v.exports=x},48013:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};l.Shader=t(27902),l.Mesh=t(83321),l.NineSlice=t(44139),l.PointLight=t(13171),l.Plane=t(33412),l.Factories.Shader=t(51979),l.Factories.Mesh=t(8767),l.Factories.NineSlice=t(53778),l.Factories.PointLight=t(91201),l.Factories.Plane=t(58322),l.Creators.Shader=t(13908),l.Creators.Mesh=t(41839),l.Creators.NineSlice=t(40964),l.Creators.PointLight=t(162),l.Creators.Plane=t(10912),l.Light=t(14455),l.LightsManager=t(26193),l.LightsPlugin=t(50296),v.exports=l},85305:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(56694),a=t(64937),r=t(48129),s=t(81078),e=t(6659),i=t(56631),h=t(71207),n=t(58010),o=t(7599),f=t(17922),u=new c({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,n],initialize:function(p,m){h.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),m&&this.add(m),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(d,p){return this.data||(this.data=new s(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new s(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new s(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new s(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,m=[];p&&(m.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return m.unshift(this.displayList.getIndex(d)),m},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(i.ADDED_TO_SCENE,d,this.scene),this.events.emit(o.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(i.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),d.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(i.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=u},834:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=l.list;if(a.length!==0){l.depthSort();var r=l.blendMode!==-1;r||t.setBlendMode(0);var s=l._alpha;l.mask&&l.mask.preRenderCanvas(t,null,c);for(var e=0;e<a.length;e++){var i=a[e];if(i.willRender(c)){var h=i.alpha;!r&&i.blendMode!==t.currentBlendMode&&t.setBlendMode(i.blendMode),i.setAlpha(h*s),i.renderCanvas(t,i,c),i.setAlpha(h)}}l.mask&&l.mask.postRenderCanvas(t)}};v.exports=x},56378:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(85305),a=t(99325),r=t(20494);a.register("layer",function(s,e){s===void 0&&(s={});var i=r(s,"children",null),h=new c(this.scene,i);return e!==void 0&&(s.add=e),l(this.scene,h,s),h})},17676:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85305),c=t(61286);c.register("layer",function(a){return this.displayList.add(new l(this.scene,a))})},58010:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(17576),a=t(834),v.exports={renderWebGL:c,renderCanvas:a}},17576:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=l.list,r=a.length;if(r!==0){l.depthSort(),t.pipelines.preBatch(l);var s=l.blendMode!==-1;s||t.setBlendMode(0);for(var e=l.alpha,i=0;i<r;i++){var h=a[i];if(h.willRender(c)){var n,o,f,u;if(h.alphaTopLeft!==void 0)n=h.alphaTopLeft,o=h.alphaTopRight,f=h.alphaBottomLeft,u=h.alphaBottomRight;else{var d=h.alpha;n=d,o=d,f=d,u=d}!s&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var p=h.mask;p&&p.preRenderWebGL(t,h,c);var m=h.type;m!==t.currentType&&(t.newType=!0,t.currentType=m),t.nextTypeMatch=i<r-1?a[i+1].type===t.currentType:!1,h.setAlpha(n*e,o*e,f*e,u*e),h.renderWebGL(t,h,c),h.setAlpha(n,o,f,u),p&&p.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(l)}};v.exports=x},14455:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),c=t(56694),a=t(64937),r=t(39298),s=t(75512),e=new c({Extends:l,Mixins:[a.Origin,a.ScrollFactor,a.Transform,a.Visible],initialize:function(h,n,o,f,u,d,p){l.call(this,h,n,o),this.color=new r(f,u,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(i){this.diameter=i}},displayHeight:{get:function(){return this.diameter},set:function(i){this.diameter=i}},width:{get:function(){return this.diameter},set:function(i){this.diameter=i}},height:{get:function(){return this.diameter},set:function(i){this.diameter=i}},willRender:function(i){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&i.id)},setColor:function(i){var h=s.getFloatsFromUintRGB(i);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(i){return this.intensity=i,this},setRadius:function(i){return this.radius=i,this}});e.RENDER_MASK=15,v.exports=e},26193:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26535),c=t(56694),a=t(53996),r=t(14455),s=t(13171),e=t(39298),i=t(72677),h=t(17922),n=t(75512),o=new c({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,p,m,y){return this.systems.displayList.add(new s(this.scene,f,u,d,p,m,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,p=[],m=0;m<u.length;m++){var y=u[m];y.willRender(f)&&l(y,d)&&p.push({light:y,distance:a(y.x,y.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(h(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=n.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,p,m){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),p===void 0&&(p=16777215),m===void 0&&(m=1);var y=n.getFloatsFromUintRGB(p),g=new r(f,u,d,y[0],y[1],y[2],m);return this.lights.push(g),g},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&i(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=o},50296:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(26193),a=t(91963),r=t(7599),s=new l({Extends:c,initialize:function(i){this.scene=i,this.systems=i.sys,i.sys.settings.isBooted||i.sys.events.once(r.BOOT,this.boot,this),c.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",s,"lights"),v.exports=s},83321:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(75606),r=t(18693),s=t(89980),e=t(53267),i=t(67623),h=t(73329),n=t(16650),o=t(23464),f=t(23701),u=t(17922),d=t(70015),p=t(85769),m=new l({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,o],initialize:function(g,T,S,C,w,b,A,D,B,N,Y,H){T===void 0&&(T=0),S===void 0&&(S=0),C===void 0&&(C="__WHITE"),s.call(this,g,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new d,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var j=g.sys.renderer;this.setPosition(T,S),this.setTexture(C,w),this.setSize(j.width,j.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(j.width,j.height),b&&this.addVertices(b,A,D,B,N,Y,H)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(d.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=d.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,g,T,S,C){return T===void 0&&(T=45),S===void 0&&(S=.01),C===void 0&&(C=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),y/g,S,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,g,T,S){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),g===void 0&&(g=1),T===void 0&&(T=-1e3),S===void 0&&(S=1e3),this.fov=0,this.projectionMatrix.ortho(-y,y,-g,g,T,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,g,T,S,C,w,b,A,D){var B=this.scene.sys.cache.obj.get(y),N;return B&&(N=e(B,this,g,T,S,C,w,b,A,D)),(!N||N.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",y),this},sortByDepth:function(y,g){return y.depth-g.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(y,g,T,S,C,w,b){var A=new p(y,g,T,S,C,w,b);return this.vertices.push(A),A},addFace:function(y,g,T){var S=new r(y,g,T);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(y,g,T,S,C,w,b){var A=i(y,g,T,S,C,w,b);return A?(this.faces=this.faces.concat(A.faces),this.vertices=this.vertices.concat(A.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},hasFaceAt:function(y,g,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=h(this,T).calc,C=this.faces,w=0;w<C.length;w++){var b=C[w];if(b.contains(y,g,S))return!0}return!1},getFaceAt:function(y,g,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var S=h(this,T).calc,C=this.faces,w=[],b=0;b<C.length;b++){var A=C[b];A.contains(y,g,S)&&w.push(A)}return u(w,this.sortByDepth)},setDebug:function(y,g){return this.debugGraphic=y,!y&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,g=this.modelRotation,T=this.modelScale,S=this.dirtyCache,C=y.x,w=y.y,b=y.z,A=g.x,D=g.y,B=g.z,N=T.x,Y=T.y,H=T.z,j=this.getFaceCount(),J=S[0],X=S[1],W=S[2],L=S[3],G=S[4],z=S[5],k=S[6],K=S[7],$=S[8],Q=S[9];return S[0]=C,S[1]=w,S[2]=b,S[3]=A,S[4]=D,S[5]=B,S[6]=N,S[7]=Y,S[8]=H,S[9]=j,J!==C||X!==w||W!==b||L!==A||G!==D||z!==B||k!==N||K!==Y||$!==H||Q!==j},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var g=this.width,T=this.height,S=this.viewMatrix,C=this.viewPosition;y[10]&&(S.identity(),S.translate(C),S.invert(),y[10]=0);var w=this.transformMatrix;w.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var b=C.z,A=this.faces,D=0;D<A.length;D++)A[D].transformCoordinatesLocal(w,g,T,b);this.depthSort()}},renderDebug:function(y,g){for(var T=y.debugGraphic,S=0;S<g.length;S++){var C=g[S],w=C.vertex1.tx,b=C.vertex1.ty,A=C.vertex2.tx,D=C.vertex2.ty,B=C.vertex3.tx,N=C.vertex3.ty;T.strokeTriangle(w,b,A,D,B,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var y=this.faces,g=function(T,S,C){for(var w=0;w<y.length;w++){var b=y[w];if(b.contains(S,C))return!0}return!1};return this.scene.sys.input.enable(this,g),this},setTint:function(y){y===void 0&&(y=16777215);for(var g=this.vertices,T=0;T<g.length;T++)g[T].color=y;return this},uvScroll:function(y,g){for(var T=this.faces,S=0;S<T.length;S++)T[S].scrollUV(y,g);return this},uvScale:function(y,g){for(var T=this.faces,S=0;S<T.length;S++)T[S].scaleUV(y,g);return this},tint:{set:function(y){this.setTint(y)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(y){this.modelRotation.x=a(y)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(y){this.modelRotation.y=a(y)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(y){this.modelRotation.z=a(y)}}});v.exports=m},6317:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};v.exports=x},41839:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(10850),s=t(83321);c.register("mesh",function(e,i){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),o=r(e,"vertices",[]),f=r(e,"uvs",[]),u=r(e,"indicies",[]),d=r(e,"containsZ",!1),p=r(e,"normals",[]),m=r(e,"colors",16777215),y=r(e,"alphas",1),g=new s(this.scene,0,0,h,n,o,f,u,d,p,m,y);return i!==void 0&&(e.add=i),l(this.scene,g,e),g})},8767:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83321),c=t(61286);c.register("mesh",function(a,r,s,e,i,h,n,o,f,u,d){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n,o,f,u,d))})},23464:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(57410),a=t(6317),v.exports={renderWebGL:c,renderCanvas:a}},57410:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=function(a,r,s,e){var i=r.faces,h=i.length;if(h!==0){s.addToRenderList(r);var n=a.pipelines.set(r.pipeline,r),o=l(r,s,e).calc;a.pipelines.preBatch(r);for(var f=n.setGameObject(r),u=n.vertexViewF32,d=n.vertexViewU32,p=n.vertexCount*n.currentShader.vertexComponentCount-1,m=r.tintFill,y=[],g=r.debugCallback,T=o.a,S=o.b,C=o.c,w=o.d,b=o.e,A=o.f,D=r.viewPosition.z,B=r.hideCCW,N=s.roundPixels,Y=s.alpha*r.alpha,H=0,j=0;j<h;j++){var J=i[j];J.isInView(s,B,D,Y,T,S,C,w,b,A,N)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(r),p=0),p=J.load(u,d,p,f,m),H++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,g&&y.push(J))}r.totalFrame+=H,g&&g.call(r,r,y),a.pipelines.postBatch(r)}};v.exports=c},44139:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(94456),s=t(85769),e=new l({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,r],initialize:function(h,n,o,f,u,d,p,m,y,g,T){d===void 0&&(d=256),p===void 0&&(p=256),m===void 0&&(m=10),y===void 0&&(y=10),g===void 0&&(g=0),T===void 0&&(T=0),a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=g===0&&T===0;for(var S=this.is3Slice?18:54,C=0;C<S;C++)this.vertices.push(new s);this.setPosition(n,o),this.setTexture(f,u),this.setSlices(d,p,m,y,g,T),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(i,h,n,o,f,u){i===void 0&&(i=256),h===void 0&&(h=256),n===void 0&&(n=10),o===void 0&&(o=10),f===void 0&&(f=0),u===void 0&&(u=0);var d=f===0&&u===0;return this.is3Slice!==d?console.warn("Cannot change 9 slice to 3 slice"):(this._width=i,this._height=h,this.leftWidth=n,this.rightWidth=o,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(h=this.frame.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var i=this.leftWidth,h=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,i/f,n/u),this.updateQuadUVs(6,i/f,0,1-h/f,n/u),this.updateQuadUVs(12,1-h/f,0,1,n/u),this.is3Slice||(this.updateQuadUVs(18,0,n/u,i/f,1-o/u),this.updateQuadUVs(24,i/f,n/u,1-h/f,1-o/u),this.updateQuadUVs(30,1-h/f,n/u,1,1-o/u),this.updateQuadUVs(36,0,1-o/u,i/f,1),this.updateQuadUVs(42,i/f,1-o/u,1-h/f,1),this.updateQuadUVs(48,1-h/f,1-o/u,1,1))},updateVertices:function(){var i=this.leftWidth,h=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+i/f,.5-n/u),this.updateQuad(6,-.5+i/f,.5,.5-h/f,.5-n/u),this.updateQuad(12,.5-h/f,.5,.5,.5-n/u),this.is3Slice||(this.updateQuad(18,-.5,.5-n/u,-.5+i/f,-.5+o/u),this.updateQuad(24,-.5+i/f,.5-n/u,.5-h/f,-.5+o/u),this.updateQuad(30,.5-h/f,.5-n/u,.5,-.5+o/u),this.updateQuad(36,-.5,-.5+o/u,-.5+i/f,-.5),this.updateQuad(42,-.5+i/f,-.5+o/u,.5-h/f,-.5),this.updateQuad(48,.5-h/f,-.5+o/u,.5,-.5))},updateQuad:function(i,h,n,o,f){var u=this.width,d=this.height,p=this.originX,m=this.originY,y=this.vertices;y[i+0].resize(h,n,u,d,p,m),y[i+1].resize(h,f,u,d,p,m),y[i+2].resize(o,n,u,d,p,m),y[i+3].resize(h,f,u,d,p,m),y[i+4].resize(o,f,u,d,p,m),y[i+5].resize(o,n,u,d,p,m)},updateQuadUVs:function(i,h,n,o,f){var u=this.vertices,d=this.frame,p=d.u0,m=d.v0,y=d.u1,g=d.v1;if(p!==0||y!==1){var T=y-p;h=p+h*T,o=p+o*T}if(m!==0||g!==1){var S=g-m;n=m+n*S,f=m+f*S}u[i+0].setUVs(h,n),u[i+1].setUVs(h,f),u[i+2].setUVs(o,n),u[i+3].setUVs(h,f),u[i+4].setUVs(o,f),u[i+5].setUVs(o,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(i){return i===void 0&&(i=16777215),this.tint=i,this.tintFill=!1,this},setTintFill:function(i){return this.setTint(i),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(i){this._width=Math.max(i,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(i){this.is3Slice||(this._height=Math.max(i,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,h){this.width=i,this.height=h;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(i,h){return this.displayWidth=i,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(i){this._originX=i,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(i){this._originY=i,this.updateVertices()}},setOrigin:function(i,h){return i===void 0&&(i=.5),h===void 0&&(h=i),this._originX=i,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var i=this.frame.height;this._height=i,this.topHeight=i,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},40964:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(10850),s=t(44139);c.register("nineslice",function(e,i){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),o=r(e,"width",256),f=r(e,"height",256),u=r(e,"leftWidth",10),d=r(e,"rightWidth",10),p=r(e,"topHeight",0),m=r(e,"bottomHeight",0),y=new s(this.scene,0,0,h,n,o,f,u,d,p,m);return i!==void 0&&(e.add=i),l(this.scene,y,e),y})},53778:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44139),c=t(61286);c.register("nineslice",function(a,r,s,e,i,h,n,o,f,u){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n,o,f,u))})},94456:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(27420),v.exports={renderWebGL:c,renderCanvas:a}},27420:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){var h=s.vertices,n=h.length;if(n!==0){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline,s),f=l(s,e,i,!1).calc;r.pipelines.preBatch(s);var u=o.setGameObject(s),d=o.vertexViewF32,p=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,y=e.roundPixels,g=s.tintFill,T=e.alpha*s.alpha,S=c.getTintAppendFloatAlpha(s.tint,T),C=o.vertexAvailable(),w=-1;C<n&&(w=C);for(var b=0;b<n;b++){var A=h[b];b===w&&(o.flush(),u=o.setGameObject(s),m=0),d[++m]=f.getXRound(A.vx,A.vy,y),d[++m]=f.getYRound(A.vx,A.vy,y),d[++m]=A.u,d[++m]=A.v,d[++m]=u,d[++m]=g,p[++m]=S,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}r.pipelines.postBatch(s)}};v.exports=a},19737:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93025),a=t(22946),r=t(21902),s=t(4840),e=t(15978),i=new l({Extends:c,initialize:function(n){c.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,n=h,o=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=r("Linear"),this.interpolation=s("linear"),o=this.easedValueEmit,f=this.easeValueUpdate,n=h[0],this.active=!0;for(var u=0;u<h.length;u++){var d=e(h[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=f,this.current=n,this},setEase:function(h){this.easeName=h,this.ease=r(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,n,o){var f=this.ease(o),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),p=this.interpolation(this.b,f),m=a(u,d,p);return this.current=m,m}});v.exports=i},93025:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),c=t(82897),a=t(56694),r=t(61616),s=t(21902),e=t(72632),i=t(4840),h=t(88462),n=t(1071),o=new a({initialize:function(u,d,p){p===void 0&&(p=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=h(f,d),this.counter=u;break;case 5:case 6:case 7:u=c(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.has(f,"interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=s(m,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var y=f.random;Array.isArray(y)&&(this.start=y[0],this.end=y[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate;break;case 9:this.start=f.values;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=s(g,f.easeParams),this.interpolation=i(f.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,p){return p},proxyEmit:function(f,u,d){var p=this._onEmit(f,u,d);return this.current=p,p},proxyUpdate:function(f,u,d,p){var m=this._onUpdate(f,u,d,p);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=r(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=l(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(u+=d,u>=this.end&&(p=u-this.end,u=this.end-p,this.direction=1)):(u-=d,u<=this.start&&(p=this.start-u,u=this.start+p,this.direction=0)),this.counter=u}else this.counter=n(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var p=f.data[u],m,y=this.ease(d);return this.interpolation?m=this.interpolation(this.start,y):m=(p.max-p.min)*y+p.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=o},87811:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(30891),r=new l({Extends:a,initialize:function(e,i,h,n,o){if(typeof e=="object"){var f=e;e=c(f,"x",0),i=c(f,"y",0),h=c(f,"power",0),n=c(f,"epsilon",100),o=c(f,"gravity",50)}else e===void 0&&(e=0),i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=100),o===void 0&&(o=50);a.call(this,e,i,!0),this._gravity=o,this._power=h*o,this._epsilon=n*n},update:function(s,e){var i=this.x-s.x,h=this.y-s.y,n=i*i+h*h;if(n!==0){var o=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*o)*100;s.velocityX+=i*f,s.velocityY+=h*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var e=this.power;this._gravity=s,this.power=e}}});v.exports=r},14909:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),c=t(82897),a=t(56694),r=t(75606),s=t(74118),e=t(2386),i=t(93736),h=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new i,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new l(this),this.bounds=new s},emit:function(n,o,f,u,d,p){return this.emitter.emit(n,o,f,u,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,o){n===void 0&&(n=0),o===void 0&&(o=0),this.x=n,this.y=o},fire:function(n,o){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=n+u.x.onEmit(this,"x"):this.x+=n,o===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=o+u.y.onEmit(this,"y"):this.y+=o,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var p=u.speedX.onEmit(this,"speedX"),m=u.speedY.active?u.speedY.onEmit(this,"speedY"):p;if(f.radial){var y=r(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(y)*Math.abs(p),this.velocityY=Math.sin(y)*Math.abs(m)}else if(f.moveTo){var g=u.moveToX.onEmit(this,"moveToX"),T=u.moveToY.onEmit(this,"moveToY"),S=this.life/1e3;this.velocityX=(g-this.x)/S,this.velocityY=(T-this.y)/S}else this.velocityX=p,this.velocityY=m;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(n,o,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var u=this.emitter,d=u.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),u.moveTo){var m=d.moveToX.onUpdate(this,"moveToX",p,u.moveToX),y=d.moveToY.onUpdate(this,"moveToY",p,u.moveToY),g=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/g,this.velocityY=(y-this.y)/g}return this.computeVelocity(u,n,o,f,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),this.scaleY=this.scaleX,d.scaleY.active&&(this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY)),this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=r(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=d.alpha.onUpdate(this,"alpha",p,this.alpha),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,o,f,u,d){var p=n.ops,m=this.velocityX,y=this.velocityY,g=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),T=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),S=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),C=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),m+=n.gravityX*f+g*f,y+=n.gravityY*f+T*f,m=c(m,-S,S),y=c(y,-C,C),this.velocityX=m,this.velocityY=y,this.x+=m*f,this.y+=y*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var w=0;w<u.length;w++){var b=u[w];b.active&&b.update(this,o,f,d)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var o=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,u=this.x,d=this.y,p=this.rotation,m=this.frame.width*o/2,y=this.frame.height*f/2,g=this.bounds,T=new i(u-m,d-y),S=new i(u+m,d-y),C=new i(u-m,d+y),w=new i(u+m,d+y);return p!==0&&(e(T,u,d,p),e(S,u,d,p),e(C,u,d,p),e(w,u,d,p)),n.transformPoint(T.x,T.y,T),n.transformPoint(S.x,S.y,S),n.transformPoint(C.x,C.y,C),n.transformPoint(w.x,w.y,w),g.x=Math.min(T.x,S.x,C.x,w.x),g.y=Math.min(T.y,S.y,C.y,w.y),g.width=Math.max(T.x,S.x,C.x,w.x)-g.x,g.height=Math.max(T.y,S.y,C.y,w.y)-g.y,g},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=h},73106:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(30891),a=t(74118),r=new l({Extends:c,initialize:function(e,i,h,n,o,f,u,d){o===void 0&&(o=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),c.call(this,e,i,!0),this.bounds=new a(e,i,h,n),this.collideLeft=o,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(s){var e=this.bounds,i=-s.bounce,h=s.worldPosition;h.x<e.x&&this.collideLeft?(s.x+=e.x-h.x,s.velocityX*=i):h.x>e.right&&this.collideRight&&(s.x-=h.x-e.right,s.velocityX*=i),h.y<e.y&&this.collideTop?(s.y+=e.y-h.y,s.velocityY*=i):h.y>e.bottom&&this.collideBottom&&(s.y-=h.y-e.bottom,s.velocityY*=i)}});v.exports=r},9216:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(48129),r=t(29538),s=t(69361),e=t(54213),i=t(19737),h=t(93025),n=t(40629),o=t(89980),f=t(72632),u=t(72861),d=t(87811),p=t(53523),m=t(19256),y=t(7782),g=t(71207),T=t(14655),S=t(14909),C=t(68433),w=t(74118),b=t(90205),A=t(66458),D=t(69116),B=t(17922),N=t(69360),Y=t(93736),H=t(1071),j=t(73106),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],W=new l({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,D],initialize:function(G,z,k,K,$){o.call(this,G,"ParticleEmitter"),this.particleClass=S,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new i("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Y,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new N,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new g(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(z,k),this.setTexture(K),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(L){if(!L)return this;var G=0,z="",k=this.ops;for(G=0;G<X.length;G++)z=X[G],k[z].loadConfig(L);for(G=0;G<J.length;G++)z=J[G],m(L,z)&&(this[z]=f(L,z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(L,"speed")&&(k.speedX.loadConfig(L,"speed"),k.speedY.active=!1),(p(L,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(L,"scale")&&(k.scaleX.loadConfig(L,"scale"),k.scaleY.active=!1),m(L,"callbackScope")){var K=f(L,"callbackScope",null);this.emitCallbackScope=K,this.deathCallbackScope=K}if(m(L,"emitZone")&&this.addEmitZone(L.emitZone),m(L,"deathZone")&&this.addDeathZone(L.deathZone),m(L,"bounds")){var $=this.addParticleBounds(L.bounds);$.collideLeft=f(L,"collideLeft",!0),$.collideRight=f(L,"collideRight",!0),$.collideTop=f(L,"collideTop",!0),$.collideBottom=f(L,"collideBottom",!0)}return m(L,"followOffset")&&this.followOffset.setFromObject(f(L,"followOffset",0)),m(L,"texture")&&this.setTexture(L.texture),m(L,"frame")?this.setEmitterFrame(L.frame):m(L,"anim")&&this.setAnim(L.anim),m(L,"reserve")&&this.reserve(L.reserve),m(L,"advance")&&this.fastForward(L.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var L=a(this),G=0,z="";for(G=0;G<J.length;G++)z=J[G],L[z]=this[z];var k=this.ops;for(G=0;G<X.length;G++)z=X[G],k[z]&&(L[z]=k[z].toJSON());return k.speedY.active||(delete L.speedX,L.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete L.scaleX,delete L.scaleY,L.scale=k.scaleX.toJSON()),L},resetCounters:function(L,G){var z=this.counters;z.fill(0),z[0]=L,G&&(z[5]=1)},startFollow:function(L,G,z,k){return G===void 0&&(G=0),z===void 0&&(z=0),k===void 0&&(k=!1),this.follow=L,this.followOffset.set(G,z),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var L=this.frames,G=L.length,z;return G===1?z=L[0]:this.randomFrame?z=u(L):(z=L[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(z)},setEmitterFrame:function(L,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomFrame=G,this.frameQuantity=z,this.currentFrame=0;var k=typeof L;if(this.frames.length=0,Array.isArray(L))this.frames=this.frames.concat(L);else if(k==="string"||k==="number")this.frames.push(L);else if(k==="object"){var K=L;L=f(K,"frames",null),L&&(this.frames=this.frames.concat(L));var $=f(K,"cycle",!1);this.randomFrame=!$,this.frameQuantity=f(K,"quantity",z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var L=this.anims,G=L.length;if(G===0)return null;if(G===1)return L[0];if(this.randomAnim)return u(L);var z=L[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,G-1)),z},setAnim:function(L,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomAnim=G,this.animQuantity=z,this.currentAnim=0;var k=typeof L;if(this.anims.length=0,Array.isArray(L))this.anims=this.anims.concat(L);else if(k==="string")this.anims.push(L);else if(k==="object"){var K=L;L=f(K,"anims",null),L&&(this.anims=this.anims.concat(L));var $=f(K,"cycle",!1);this.randomAnim=!$,this.animQuantity=f(K,"quantity",z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(L){return L===void 0&&(L=!0),this.radial=L,this},addParticleBounds:function(L,G,z,k,K,$,Q,_){if(typeof L=="object"){var tt=L;L=tt.x,G=tt.y,z=m(tt,"w")?tt.w:tt.width,k=m(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new j(L,G,z,k,K,$,Q,_))},setParticleSpeed:function(L,G){return G===void 0&&(G=L),this.ops.speedX.onChange(L),L===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(L,G){return L===void 0&&(L=1),G===void 0&&(G=L),this.ops.scaleX.onChange(L),this.ops.scaleY.onChange(G),this},setParticleGravity:function(L,G){return this.gravityX=L,this.gravityY=G,this},setParticleAlpha:function(L){return this.ops.alpha.onChange(L),this},setParticleTint:function(L){return this.ops.tint.onChange(L),this},setEmitterAngle:function(L){return this.ops.angle.onChange(L),this},setParticleLifespan:function(L){return this.ops.lifespan.onChange(L),this},setQuantity:function(L){return this.quantity=L,this},setFrequency:function(L,G){return this.frequency=L,this.flowCounter=L>0?L:0,G&&(this.quantity=G),this},addDeathZone:function(L){Array.isArray(L)||(L=[L]);for(var G,z=this.deathZones,k=0;k<L.length;k++)if(G=L[k],G instanceof s)z.push(G);else if(typeof G.contains=="function")G=new s(G,!0),z.push(G);else{var K=f(G,"type","onEnter"),$=f(G,"source",null);if($&&typeof $.contains=="function"){var Q=K==="onEnter";G=new s($,Q),z.push(G)}}return G},removeDeathZone:function(L){return A(this.deathZones,L),this},addEmitZone:function(L){Array.isArray(L)||(L=[L]);for(var G,z=this.emitZones,k=[],K=0;K<L.length;K++){if(G=L[K],G instanceof C||G instanceof e)z.push(G);else{var $=f(G,"type","random"),Q=f(G,"source",null);if($==="random")G=new C(Q);else if($==="edge"){var _=f(G,"quantity",1),tt=f(G,"stepRate",0),nt=f(G,"yoyo",!1),st=f(G,"seamless",!0),at=f(G,"total",-1);G=new e(Q,_,tt,nt,st,at)}G&&z.push(G)}k.push(G)}return k},removeEmitZone:function(L){return A(this.emitZones,L),this.zoneIndex=0,this},getEmitZone:function(L){var G=this.emitZones,z=G.length;if(z!==0){var k=G[this.zoneIndex];k.getPoint(L),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===z&&(this.zoneIndex=0)))}},getDeathZone:function(L){for(var G=this.deathZones,z=0;z<G.length;z++){var k=G[z];if(k.willKill(L))return this.emit(n.DEATH_ZONE,this,L,k),!0}return!1},setEmitZone:function(L){var G;return isFinite(L)?G=L:G=this.emitZones.indexOf(L),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(L){return this.processors.exists(L)||(L.emitter&&L.emitter.removeParticleProcessor(L),this.processors.add(L),L.emitter=this),L},removeParticleProcessor:function(L){return this.processors.exists(L)&&(this.processors.remove(L,!0),L.emitter=null),L},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(L){return this.addParticleProcessor(new d(L))},reserve:function(L){var G=this.dead;if(this.maxParticles>0){var z=this.getParticleCount();z+L>this.maxParticles&&(L=this.maxParticles-(z+L))}for(var k=0;k<L;k++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(L,G){return L===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof L=="function"&&(this.emitCallback=L,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(L,G){return L===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof L=="function"&&(this.deathCallback=L,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var L=this.dead,G=this.alive;G.length>0;)L.push(G.pop());return this},forEachAlive:function(L,G){for(var z=this.alive,k=z.length,K=0;K<k;K++)L.call(G,z[K],this);return this},forEachDead:function(L,G){for(var z=this.dead,k=z.length,K=0;K<k;K++)L.call(G,z[K],this);return this},start:function(L,G){return L===void 0&&(L=0),this.emitting||(L>0&&this.fastForward(L),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(n.START,this)),this},stop:function(L){return L===void 0&&(L=!1),this.emitting&&(this.emitting=!1,L&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(L,G){return L===void 0&&(L=""),G===void 0&&(G=this.true),this.sortProperty=L,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(L){return this.sortProperty!==""?L=this.depthSortCallback:L=null,this.sortCallback=L,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(L,G){var z=this.sortProperty;return this.sortOrderAsc?L[z]-G[z]:G[z]-L[z]},flow:function(L,G,z){return G===void 0&&(G=1),this.emitting=!1,this.frequency=L,this.quantity=G,z!==void 0&&(this.stopAfter=z),this.start()},explode:function(L,G,z){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(L,G,z);return this.emit(n.EXPLODE,this,k),k},emitParticleAt:function(L,G,z){return this.emitParticle(z,L,G)},emitParticle:function(L,G,z){if(!this.atLimit()){L===void 0&&(L=this.ops.quantity.onEmit());for(var k=this.dead,K=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:G,Q=this.follow?this.follow.y+this.followOffset.y:z,_=0;_<L;_++){var tt=k.pop();if(tt||(tt=new this.particleClass(this)),tt.fire($,Q)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),K>0&&(this.stopCounter++,this.stopCounter>=K)||this.atLimit())break}return tt}},fastForward:function(L,G){G===void 0&&(G=1e3/60);var z=0;for(this.skipping=!0;z<Math.abs(L);)this.preUpdate(0,G),z+=G;return this.skipping=!1,this},preUpdate:function(L,G){G*=this.timeScale;var z=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),K=this.alive,$=this.dead,Q=0,_=[],tt=K.length;for(Q=0;Q<tt;Q++){var nt=K[Q];nt.update(G,z,k)&&_.push({index:Q,particle:nt})}if(tt=_.length,tt>0){var st=this.deathCallback,at=this.deathCallbackScope;for(Q=tt-1;Q>=0;Q--){var rt=_[Q];K.splice(rt.index,1),$.push(rt.particle),st&&st.call(at,rt.particle),rt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&K.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(L){for(var G=this.getWorldTransformMatrix(),z=this.alive,k=z.length,K=[],$=0;$<k;$++){var Q=z[$];b(L,Q.getBounds(G))&&K.push(Q)}return K},getBounds:function(L,G,z,k){L===void 0&&(L=0),G===void 0&&(G=0),z===void 0&&(z=1e3/60),k===void 0&&(k=new w);var K=this.getWorldTransformMatrix(),$,Q,_=this.alive,tt=!1;if(k.setTo(0,0,0,0),G>0){var nt=0;for(this.skipping=!0;nt<Math.abs(G);){for(this.preUpdate(0,z),$=0;$<_.length;$++)Q=_[$].getBounds(K),tt?T(k,Q):(tt=!0,r(Q,k));nt+=z}this.skipping=!1}else for($=0;$<_.length;$++)Q=_[$].getBounds(K),tt?T(k,Q):(tt=!0,r(Q,k));return L>0&&y(k,L,L),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(L){this.ops.x.onChange(L)}},particleY:{get:function(){return this.ops.y.current},set:function(L){this.ops.y.onChange(L)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(L){this.ops.accelerationX.onChange(L)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(L){this.ops.accelerationY.onChange(L)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(L){this.ops.maxVelocityX.onChange(L)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(L){this.ops.maxVelocityY.onChange(L)}},speed:{get:function(){return this.ops.speedX.current},set:function(L){this.ops.speedX.onChange(L),this.ops.speedY.onChange(L)}},speedX:{get:function(){return this.ops.speedX.current},set:function(L){this.ops.speedX.onChange(L)}},speedY:{get:function(){return this.ops.speedY.current},set:function(L){this.ops.speedY.onChange(L)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(L){this.ops.moveToX.onChange(L)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(L){this.ops.moveToY.onChange(L)}},bounce:{get:function(){return this.ops.bounce.current},set:function(L){this.ops.bounce.onChange(L)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(L){this.ops.scaleX.onChange(L)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(L){this.ops.scaleY.onChange(L)}},particleColor:{get:function(){return this.ops.color.current},set:function(L){this.ops.color.onChange(L)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(L){this.ops.color.setEase(L)}},particleTint:{get:function(){return this.ops.tint.current},set:function(L){this.ops.tint.onChange(L)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(L){this.ops.alpha.onChange(L)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(L){this.ops.lifespan.onChange(L)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(L){this.ops.angle.onChange(L)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(L){this.ops.rotate.onChange(L)}},quantity:{get:function(){return this.ops.quantity.current},set:function(L){this.ops.quantity.onChange(L)}},delay:{get:function(){return this.ops.delay.current},set:function(L){this.ops.delay.onChange(L)}},hold:{get:function(){return this.ops.hold.current},set:function(L){this.ops.hold.onChange(L)}},flowCounter:{get:function(){return this.counters[0]},set:function(L){this.counters[0]=L}},frameCounter:{get:function(){return this.counters[1]},set:function(L){this.counters[1]=L}},animCounter:{get:function(){return this.counters[2]},set:function(L){this.counters[2]=L}},elapsed:{get:function(){return this.counters[3]},set:function(L){this.counters[3]=L}},stopCounter:{get:function(){return this.counters[4]},set:function(L){this.counters[4]=L}},completeFlag:{get:function(){return this.counters[5]},set:function(L){this.counters[5]=L}},zoneIndex:{get:function(){return this.counters[6]},set:function(L){this.counters[6]=L}},zoneTotal:{get:function(){return this.counters[7]},set:function(L){this.counters[7]=L}},currentFrame:{get:function(){return this.counters[8]},set:function(L){this.counters[8]=L}},currentAnim:{get:function(){return this.counters[9]},set:function(L){this.counters[9]=L}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var L,G=this.ops;for(L=0;L<X.length;L++){var z=X[L];G[z].destroy()}for(L=0;L<this.alive.length;L++)this.alive[L].destroy();for(L=0;L<this.dead.length;L++)this.dead[L].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=W},10456:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90205),c=t(69360),a=new c,r=new c,s=new c,e=new c,i=function(h,n,o,f){var u=a,d=r,p=s,m=e;f?(m.loadIdentity(),m.multiply(f),m.translate(n.x,n.y),m.rotate(n.rotation),m.scale(n.scaleX,n.scaleY)):m.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var y=h.currentContext,g=o.roundPixels,T=o.alpha,S=n.alpha,C=n.alive,w=C.length,b=n.viewBounds;if(!(!n.visible||w===0||b&&!l(b,o.worldView))){n.sortCallback&&n.depthSort(),o.addToRenderList(n);var A=n.scrollFactorX,D=n.scrollFactorY;y.save(),y.globalCompositeOperation=h.blendModes[n.blendMode];for(var B=0;B<w;B++){var N=C[B],Y=N.alpha*S*T;if(!(Y<=0||N.scaleX===0||N.scaleY===0)){p.applyITRS(N.x,N.y,N.rotation,N.scaleX,N.scaleY),u.copyFrom(o.matrix),u.multiplyWithOffset(m,-o.scrollX*A,-o.scrollY*D),p.e=N.x,p.f=N.y,u.multiply(p,d);var H=N.frame,j=H.canvasData;if(j.width>0&&j.height>0){var J=-H.halfWidth,X=-H.halfHeight;y.globalAlpha=Y,y.save(),d.setToContext(y),g&&(J=Math.round(J),X=Math.round(X)),y.imageSmoothingEnabled=!H.source.scaleMode,y.drawImage(H.source.image,j.x,j.y,j.width,j.height,J,X,j.width,j.height),y.restore()}}}y.restore()}};v.exports=i},765:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(72632),s=t(9216);c.register("particles",function(e,i){e===void 0&&(e={});var h=a(e,"key",null),n=r(e,"config",null),o=new s(this.scene,0,0,h);return i!==void 0&&(e.add=i),l(this.scene,o,e),n&&o.setConfig(n),o})},81212:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(9216);l.register("particles",function(a,r,s,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,a,r,s,e))})},69116:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(10275),a=t(10456),v.exports={renderWebGL:c,renderCanvas:a}},10275:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90205),c=t(69360),a=t(75512),r=new c,s=new c,e=new c,i=new c,h=function(n,o,f,u){var d=n.pipelines.set(o.pipeline),p=r,m=s,y=e,g=i;u?(g.loadIdentity(),g.multiply(u),g.translate(o.x,o.y),g.rotate(o.rotation),g.scale(o.scaleX,o.scaleY)):g.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var T=f.roundPixels,S=a.getTintAppendFloatAlpha,C=f.alpha,w=o.alpha,b=o.frame.glTexture;n.pipelines.preBatch(o);var A=o.alive,D=A.length,B=o.viewBounds;if(!(D===0||B&&!l(B,f.worldView))){o.sortCallback&&o.depthSort();var N=d.setGameObject(o,o.frame);f.addToRenderList(o),p.copyFrom(f.matrix),p.multiplyWithOffset(g,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),n.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(n,o,f),n.pipelines.set(o.pipeline));for(var Y=o.tintFill,H=0;H<D;H++){var j=A[H],J=j.alpha*w*C;if(!(J<=0||j.scaleX===0||j.scaleY===0)){y.applyITRS(j.x,j.y,j.rotation,j.scaleX,j.scaleY),y.e=j.x,y.f=j.y,p.multiply(y,m);var X=j.frame,W=-X.halfWidth,L=-X.halfHeight,G=m.setQuad(W,L,W+X.width,L+X.height,T),z=S(j.tint,J);d.shouldFlush(6)&&(d.flush(),N=d.setGameObject(o,o.frame)),d.batchQuad(o,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],X.u0,X.v0,X.u1,X.v1,z,z,z,z,Y,b,N)}}o.mask&&o.mask.postRenderWebGL(n,f),n.pipelines.postBatch(o)}};v.exports=h},30891:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e){r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=s,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=c},76100:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},26677:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},62736:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},56490:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},85715:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},40629:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s){this.source=r,this.killOnEnter=s},willKill:function(a){var r=a.worldPosition,s=this.source.contains(r.x,r.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});v.exports=c},54213:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i,h,n){i===void 0&&(i=!1),h===void 0&&(h=!0),n===void 0&&(n=-1),this.source=r,this.points=[],this.quantity=s,this.stepRate=e,this.yoyo=i,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});v.exports=c},68433:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93736),a=new l({initialize:function(s){this.source=s,this._tempVec=new c,this.total=-1},getPoint:function(r){var s=this._tempVec;this.source.getRandomPoint(s),r.x=s.x,r.y=s.y}});v.exports=a},25962:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(13747),r=new l({Extends:a,Mixins:[c.PathFollower],initialize:function(e,i,h,n,o,f){a.call(this,e,h,n,o,f),this.path=i},preUpdate:function(s,e){this.anims.update(s,e),this.pathUpdate(s)}});v.exports=r},19626:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(29598);l.register("follower",function(a,r,s,e,i){var h=new c(this.scene,a,r,s,e,i);return this.displayList.add(h),this.updateList.add(h),h})},33412:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),c=t(56694),a=t(99425),r=t(15978),s=t(83321),e=t(76583),i=new c({Extends:s,initialize:function(n,o,f,u,d,p,m,y){u||(u="__DEFAULT"),s.call(this,n,o,f,u,d),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,m,y),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(h,n,o){h===void 0&&(h=8),n===void 0&&(n=8),o===void 0&&(o=!1);var f=!1;return o&&(f=!0),this.gridWidth=h,this.gridHeight=n,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:h,heightSegments:n,isOrtho:!1,tile:o,flipY:f}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var o=this.gridWidth,f=this.gridHeight,u=this.vertices,d=n.u0,p=n.u1,m=n.v0,y=n.v1,g,T,S=0;if(this.isTiled)for(m=n.v1,y=n.v0,T=0;T<f;T++)for(g=0;g<o;g++)u[S++].setUVs(d,y),u[S++].setUVs(d,m),u[S++].setUVs(p,y),u[S++].setUVs(d,m),u[S++].setUVs(p,m),u[S++].setUVs(p,y);else{var C=o+1,w=f+1,b=p-d,A=y-m,D=[];for(T=0;T<w;T++)for(g=0;g<C;g++){var B=d+b*(g/o),N=m+A*(T/f);D.push(B,N)}for(T=0;T<f;T++)for(g=0;g<o;g++){var Y=(g+C*T)*2,H=(g+C*(T+1))*2,j=(g+1+C*(T+1))*2,J=(g+1+C*T)*2;u[S++].setUVs(D[Y],D[Y+1]),u[S++].setUVs(D[H],D[H+1]),u[S++].setUVs(D[J],D[J+1]),u[S++].setUVs(D[H],D[H+1]),u[S++].setUVs(D[j],D[j+1]),u[S++].setUVs(D[J],D[J+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(h,n,o,f,u){h===void 0&&(h=16777215),n===void 0&&(n=255),o===void 0&&(o=255),f===void 0&&(f=255),u===void 0&&(u=128);var d=this.scene.sys.renderer.gl,p=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var m=r(h),y=r(n),g=[],T=0;T<16;T++)for(var S=0;S<16;S++)T<8&&S<8||T>7&&S>7?g.push(m.r,m.g,m.b,o):g.push(y.r,y.g,y.b,f);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(g)),p.isAlphaPremultiplied=!0,p.isRenderTexture=!1,p.width=16,p.height=16;var C=this.scene.sys.textures.addGLTexture(e(),p,16,16);return this.removeCheckerboard(),this._checkerboard=C,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(C),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,n){return this.anims.play(h,n)},playReverse:function(h,n){return this.anims.playReverse(h,n)},playAfterDelay:function(h,n){return this.anims.playAfterDelay(h,n)},playAfterRepeat:function(h,n){return this.anims.playAfterRepeat(h,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,n){s.prototype.preUpdate.call(this,h,n),this.anims.update(h,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=i},10912:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(32291),a=t(99325),r=t(20494),s=t(10850),e=t(33412);a.register("plane",function(i,h){i===void 0&&(i={});var n=r(i,"key",null),o=r(i,"frame",null),f=s(i,"width",8),u=s(i,"height",8),d=s(i,"tile",!1),p=new e(this.scene,0,0,n,o,f,u,d);h!==void 0&&(i.add=h);var m=s(i,"checkerboard",null);if(m){var y=s(m,"color1",16777215),g=s(m,"color2",255),T=s(m,"alpha1",255),S=s(m,"alpha2",255),C=s(m,"height",128);p.createCheckerboard(y,g,T,S,C)}return l(this.scene,p,i),c(p,i),p})},58322:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(33412),c=t(61286);c.register("plane",function(a,r,s,e,i,h,n){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n))})},13171:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(74853),s=t(65641),e=t(71606),i=new l({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,e],initialize:function(n,o,f,u,d,p,m){u===void 0&&(u=16777215),d===void 0&&(d=128),p===void 0&&(p=1),m===void 0&&(m=.1),a.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,f),this.color=r(u),this.intensity=p,this.attenuation=m,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=i},162:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(13171);c.register("pointlight",function(s,e){s===void 0&&(s={});var i=a(s,"color",16777215),h=a(s,"radius",128),n=a(s,"intensity",1),o=a(s,"attenuation",.1),f=new r(this.scene,0,0,i,h,n,o);return e!==void 0&&(s.add=e),l(this.scene,f,s),f})},91201:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(13171);l.register("pointlight",function(a,r,s,e,i,h){return this.displayList.add(new c(this.scene,a,r,s,e,i,h))})},71606:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(80590),v.exports={renderWebGL:c,renderCanvas:a}},80590:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=function(a,r,s,e){s.addToRenderList(r);var i=a.pipelines.set(r.pipeline),h=l(r,s,e).calc,n=r.width,o=r.height,f=-r._radius,u=-r._radius,d=f+n,p=u+o,m=h.getX(0,0),y=h.getY(0,0),g=h.getX(f,u),T=h.getY(f,u),S=h.getX(f,p),C=h.getY(f,p),w=h.getX(d,p),b=h.getY(d,p),A=h.getX(d,u),D=h.getY(d,u);a.pipelines.preBatch(r),i.batchPointLight(r,s,g,T,S,C,w,b,A,D,m,y),a.pipelines.postBatch(r)};v.exports=c},15996:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(845),a=t(1539),r=new l({Extends:a,initialize:function(e,i,h,n,o){i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=32),o===void 0&&(o=32);var f=new c(e.sys.textures,"",n,o);a.call(this,e,i,h,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,e){this.width=s,this.height=e,this.texture.setSize(s,e),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=s,i.hitArea.height=e),this},resize:function(s,e){return this.setSize(s,e),this},saveTexture:function(s){var e=this.texture;return e.key=s,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(s,e,i,h,n,o){return this.texture.fill(s,e,i,h,n,o),this},clear:function(){return this.texture.clear(),this},stamp:function(s,e,i,h,n){return this.texture.stamp(s,e,i,h,n),this},erase:function(s,e,i){return this.texture.erase(s,e,i),this},draw:function(s,e,i,h,n){return this.texture.draw(s,e,i,h,n),this},drawFrame:function(s,e,i,h,n,o){return this.texture.drawFrame(s,e,i,h,n,o),this},repeat:function(s,e,i,h,n,o,f,u,d){return this.texture.repeat(s,e,i,h,n,o,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,e,i,h,n){return this.texture.batchDraw(s,e,i,h,n),this},batchDrawFrame:function(s,e,i,h,n,o){return this.texture.batchDrawFrame(s,e,i,h,n,o),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,e,i,h,n,o,f){return this.texture.snapshotArea(s,e,i,h,n,o,f),this},snapshot:function(s,e,i){return this.snapshotArea(0,0,this.width,this.height,s,e,i)},snapshotPixel:function(s,e,i){return this.snapshotArea(s,e,1,1,i,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});v.exports=r},85692:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(15996);c.register("renderTexture",function(s,e){s===void 0&&(s={});var i=a(s,"x",0),h=a(s,"y",0),n=a(s,"width",32),o=a(s,"height",32),f=new r(this.scene,i,h,n,o);return e!==void 0&&(s.add=e),l(this.scene,f,s),f})},29599:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(15996);l.register("renderTexture",function(a,r,s,e){return this.displayList.add(new c(this.scene,a,r,s,e))})},79968:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),c=t(56694),a=t(64937),r=t(89980),s=t(65641),e=t(58912),i=t(93736),h=new c({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(o,f,u,d,p,m,y,g,T){d===void 0&&(d="__DEFAULT"),m===void 0&&(m=2),y===void 0&&(y=!0),r.call(this,o,"Rope"),this.anims=new l(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new i,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,g,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,o){var f=this.anims.currentFrame;this.anims.update(n,o),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,o,f){return this.anims.play(n,o,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,o,f))},setVertical:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,o,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,o){var f=this.points.length;if(f<1)return this;var u=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&o===void 0&&(n=[n]);var d,p=0;if(o!==void 0)for(d=0;d<f;d++)p=d*2,u[p]=n,u[p+1]=o;else if(n.length===f)for(d=0;d<f;d++)p=d*2,u[p]=n[d],u[p+1]=n[d];else{var m=n[0];for(d=0;d<f;d++)p=d*2,n.length>p&&(m=n[p]),u[p]=m,n.length>p+1&&(m=n[p+1]),u[p+1]=m}return this},setColors:function(n){var o=this.points.length;if(o<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var u,d=0;if(n.length===o)for(u=0;u<o;u++)d=u*2,f[d]=n[u],f[d+1]=n[u];else{var p=n[0];for(u=0;u<o;u++)d=u*2,n.length>d&&(p=n[d]),f[d]=p,n.length>d+1&&(p=n[d+1]),f[d+1]=p}return this},setPoints:function(n,o,f){if(n===void 0&&(n=2),typeof n=="number"){var u=n;u<2&&(u=2),n=[];var d,p,m;if(this.horizontal)for(m=-this.frame.halfWidth,p=this.frame.width/(u-1),d=0;d<u;d++)n.push({x:m+d*p,y:0});else for(m=-this.frame.halfHeight,p=this.frame.height/(u-1),d=0;d<u;d++)n.push({x:0,y:m+d*p})}var y=n.length,g=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(n.unshift({x:0,y:0}),y++),g!==y&&this.resizeArrays(y),this.dirty=!0,this.points=n,this.updateUVs(),o!=null&&this.setColors(o),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,o=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,p=this.frame.v1,m=(d-f)/(o-1),y=(p-u)/(o-1),g=0;g<o;g++){var T=g*4,S,C,w,b;this.horizontal?(this._flipX?(S=d-g*m,w=d-g*m):(S=f+g*m,w=f+g*m),this._flipY?(C=p,b=u):(C=u,b=p)):(this._flipX?(S=f,w=d):(S=d,w=f),this._flipY?(C=p-g*y,b=p-g*y):(C=u+g*y,b=u+g*y)),n[T+0]=S,n[T+1]=C,n[T+2]=w,n[T+3]=b}return this},resizeArrays:function(n){var o=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),o=new Uint32Array(n*2),f=new Float32Array(n*2);for(var u=0;u<n*2;u++)o[u]=16777215,f[u]=1;return this.colors=o,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,o=this.points,f=this.vertices,u=o.length;if(this.dirty=!1,!(u<1)){for(var d,p=o[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<u;y++){var g=o[y],T=y*4;y<u-1?d=o[y+1]:d=g,n.x=d.y-p.y,n.y=-(d.x-p.x);var S=n.length();n.x/=S,n.y/=S,n.x*=m,n.y*=m,f[T]=g.x+n.x,f[T+1]=g.y+n.y,f[T+2]=g.x-n.x,f[T+3]=g.y-n.y,p=g}return this}},setDebug:function(n,o){return this.debugGraphic=n,!n&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,o,f){var u=n.debugGraphic,d=f[0],p=f[1],m=f[2],y=f[3];u.lineBetween(d,p,m,y);for(var g=4;g<o;g+=4){var T=f[g+0],S=f[g+1],C=f[g+2],w=f[g+3];u.lineBetween(d,p,T,S),u.lineBetween(m,y,C,w),u.lineBetween(m,y,T,S),u.lineBetween(T,S,C,w),d=T,p=S,m=C,y=w}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});v.exports=h},44598:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};v.exports=x},96027:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(10850),s=t(79968);c.register("rope",function(e,i){e===void 0&&(e={});var h=a(e,"key",null),n=a(e,"frame",null),o=a(e,"horizontal",!0),f=r(e,"points",void 0),u=r(e,"colors",void 0),d=r(e,"alphas",void 0),p=new s(this.scene,0,0,h,n,f,o,u,d);return i!==void 0&&(e.add=i),l(this.scene,p,e),p})},31982:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79968),c=t(61286);c.register("rope",function(a,r,s,e,i,h,n,o){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n,o))})},58912:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(49489),a=t(44598),v.exports={renderWebGL:c,renderCanvas:a}},49489:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline,s),n=l(s,e,i).calc,o=s.vertices,f=s.uv,u=s.colors,d=s.alphas,p=s.alpha,m=c.getTintAppendFloatAlpha,y=e.roundPixels,g=o.length,T=Math.floor(g*.5);h.flush(),r.pipelines.preBatch(s);var S=h.setGameObject(s),C=h.vertexViewF32,w=h.vertexViewU32,b=h.vertexCount*h.currentShader.vertexComponentCount-1,A=0,D=s.tintFill;s.dirty&&s.updateVertices();for(var B=s.debugCallback,N=[],Y=0;Y<g;Y+=2){var H=o[Y+0],j=o[Y+1],J=H*n.a+j*n.c+n.e,X=H*n.b+j*n.d+n.f;y&&(J=Math.round(J),X=Math.round(X)),C[++b]=J,C[++b]=X,C[++b]=f[Y+0],C[++b]=f[Y+1],C[++b]=S,C[++b]=D,w[++b]=m(u[A],e.alpha*(d[A]*p)),A++,B&&(N[Y+0]=J,N[Y+1]=X)}B&&B.call(s,s,g,N),h.vertexCount+=T,h.currentBatch.count=h.vertexCount-h.currentBatch.start,r.pipelines.postBatch(s)};v.exports=a},27902:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(72632),s=t(98611),e=t(22440),i=t(24252),h=t(69360),n=new l({Extends:a,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,i],initialize:function(f,u,d,p,m,y,g,T){d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=128),y===void 0&&(y=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var S=f.sys.renderer;this.renderer=S,this.gl=S.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=S.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=S.width,this._rendererHeight=S.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,p),this.setSize(m,y),this.setOrigin(.5,.5),this.setShader(u,g,T)},willRender:function(o){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,f){if(f===void 0&&(f=!1),!this.renderToTexture){var u=this.width,d=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,u,d,0),this.glTexture.flipY=f,this.framebuffer=p.createFramebuffer(u,d,this.glTexture,!1),this._rendererWidth=u,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,u,d))}return this.shader&&(p.pipelines.clear(),this.load(),this.flush(),p.pipelines.rebind()),this},setShader:function(o,f,u){if(f===void 0&&(f=[]),typeof o=="string"){var d=this.scene.sys.cache.shader;if(!d.has(o))return console.warn("Shader missing: "+o),this;this.shader=d.get(o)}else this.shader=o;var p=this.gl,m=this.renderer;this.program&&p.deleteProgram(this.program);var y=m.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);p.uniformMatrix4fv(p.getUniformLocation(y,"uViewMatrix"),!1,this.viewMatrix),p.uniformMatrix4fv(p.getUniformLocation(y,"uProjectionMatrix"),!1,this.projectionMatrix),p.uniform2f(p.getUniformLocation(y,"uResolution"),this.width,this.height),this.program=y;var g=new Date,T={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[g.getFullYear(),g.getMonth(),g.getDate(),g.getHours()*60*60+g.getMinutes()*60+g.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,T):this.uniforms=T;for(var S=0;S<4;S++)f[S]&&this.setSampler2D("iChannel"+S,f[S],S,u);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,f,u,d){var p=-1e3,m=1e3,y=1/(o-f),g=1/(u-d),T=1/(p-m),S=this.projectionMatrix;S[0]=-2*y,S[5]=-2*g,S[10]=2*T,S[12]=(o+f)*y,S[13]=(d+u)*g,S[14]=(m+p)*T;var C=this.program,w=this.gl,b=this.renderer;b.setProgram(C),w.uniformMatrix4fv(w.getUniformLocation(C,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=u},initUniforms:function(){var o=this.gl,f=this.renderer.glFuncMap,u=this.program;this._textureCount=0;for(var d in this.uniforms){var p=this.uniforms[d],m=p.type,y=f[m];p.uniformLocation=o.getUniformLocation(u,d),m!=="sampler2D"&&(p.glMatrix=y.matrix,p.glValueLength=y.length,p.glFunc=y.func)}},setSampler2DBuffer:function(o,f,u,d,p,m){p===void 0&&(p=0),m===void 0&&(m={});var y=this.uniforms[o];return y.value=f,m.width=u,m.height=d,y.textureData=m,this._textureCount=p,this.initSampler2D(y),this},setSampler2D:function(o,f,u,d){u===void 0&&(u=0);var p=this.scene.sys.textures;if(p.exists(f)){var m=p.getFrame(f);if(m.glTexture&&m.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,m.glTexture,m.width,m.height,u,d);var y=this.uniforms[o],g=m.source;y.textureKey=f,y.source=g.image,y.value=m.glTexture,g.isGLTexture&&(d||(d={}),d.width=g.width,d.height=g.height),d&&(y.textureData=d),this._textureCount=u,this.initSampler2D(y)}return this},setUniform:function(o,f){return e(this.uniforms,o,f),this},getUniform:function(o){return r(this.uniforms,o,null)},setChannel0:function(o,f){return this.setSampler2D("iChannel0",o,0,f)},setChannel1:function(o,f){return this.setSampler2D("iChannel1",o,1,f)},setChannel2:function(o,f){return this.setSampler2D("iChannel2",o,2,f)},setChannel3:function(o,f){return this.setSampler2D("iChannel3",o,3,f)},initSampler2D:function(o){if(o.value){var f=this.gl;f.activeTexture(f.TEXTURE0+this._textureCount),f.bindTexture(f.TEXTURE_2D,o.value);var u=o.textureData;if(u&&!o.value.isRenderTexture){var d=f[r(u,"magFilter","linear").toUpperCase()],p=f[r(u,"minFilter","linear").toUpperCase()],m=f[r(u,"wrapS","repeat").toUpperCase()],y=f[r(u,"wrapT","repeat").toUpperCase()],g=f[r(u,"format","rgba").toUpperCase()];if(u.repeat&&(m=f.REPEAT,y=f.REPEAT),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!!u.flipY),u.width){var T=r(u,"width",512),S=r(u,"height",2),C=r(u,"border",0);f.texImage2D(f.TEXTURE_2D,0,g,T,S,C,g,f.UNSIGNED_BYTE,null)}else f.texImage2D(f.TEXTURE_2D,0,g,f.RGBA,f.UNSIGNED_BYTE,o.source);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,p),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,m),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,y)}this.renderer.setProgram(this.program),f.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,f=this.uniforms,u,d,p,m,y,g=0;for(var T in f)u=f[T],p=u.glFunc,d=u.glValueLength,m=u.uniformLocation,y=u.value,y!==null&&(d===1?u.glMatrix?p.call(o,m,u.transpose,y):p.call(o,m,y):d===2?p.call(o,m,y.x,y.y):d===3?p.call(o,m,y.x,y.y,y.z):d===4?p.call(o,m,y.x,y.y,y.z,y.w):u.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+g),o.bindTexture(o.TEXTURE_2D,y),o.uniform1i(m,g),g++))},load:function(o){var f=this.gl,u=this.width,d=this.height,p=this.renderer,m=this.program,y=this.viewMatrix;if(!this.renderToTexture){var g=-this._displayOriginX,T=-this._displayOriginY;y[0]=o[0],y[1]=o[1],y[4]=o[2],y[5]=o[3],y[8]=o[4],y[9]=o[5],y[12]=y[0]*g+y[4]*T,y[13]=y[1]*g+y[5]*T}f.useProgram(m),f.uniformMatrix4fv(f.getUniformLocation(m,"uViewMatrix"),!1,y),f.uniform2f(f.getUniformLocation(m,"uResolution"),this.width,this.height);var S=this.uniforms,C=S.resolution;C.value.x=u,C.value.y=d,S.time.value=p.game.loop.getDuration();var w=this.pointer;if(w){var b=S.mouse,A=w.x/u,D=1-w.y/d;b.value.x=A.toFixed(2),b.value.y=D.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,f=this.height,u=this.program,d=this.gl,p=this.vertexBuffer,m=this.renderer,y=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(m.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,p);var g=d.getAttribLocation(u,"inPosition");g!==-1&&(d.enableVertexAttribArray(g),d.vertexAttribPointer(g,2,d.FLOAT,!1,y,0));var T=this.vertexViewF32;T[3]=f,T[4]=o,T[5]=f,T[8]=o,T[9]=f,T[10]=o;var S=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,S*y)),d.drawArrays(d.TRIANGLES,0,S),this.renderToTexture&&m.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});v.exports=n},10612:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};v.exports=x},13908:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(27902);c.register("shader",function(s,e){s===void 0&&(s={});var i=a(s,"key",null),h=a(s,"x",0),n=a(s,"y",0),o=a(s,"width",128),f=a(s,"height",128),u=new r(this.scene,i,h,n,o,f);return e!==void 0&&(s.add=e),l(this.scene,u,s),u})},51979:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27902),c=t(61286);c.register("shader",function(a,r,s,e,i,h,n){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n))})},24252:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(19782),a=t(10612),v.exports={renderWebGL:c,renderCanvas:a}},19782:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=function(a,r,s,e){if(r.shader){if(s.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var i=l(r,s,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(i.matrix),r.flush()}a.pipelines.rebind()}};v.exports=c},19543:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),c=function(a,r,s,e,i,h){for(var n=l.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*e),o=s.pathData,f=s.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,p=f[u+1]*2,m=f[u+2]*2,y=o[d+0]-i,g=o[d+1]-h,T=o[p+0]-i,S=o[p+1]-h,C=o[m+0]-i,w=o[m+1]-h,b=r.getX(y,g),A=r.getY(y,g),D=r.getX(T,S),B=r.getY(T,S),N=r.getX(C,w),Y=r.getY(C,w);a.batchTri(s,b,A,D,B,N,Y,0,0,1,1,n,n,n,2)}};v.exports=c},15608:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=c||l.fillColor,s=a||l.fillAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,h=r&255;t.fillStyle="rgba("+e+","+i+","+h+","+s+")"};v.exports=x},17876:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=c||l.strokeColor,s=a||l.strokeAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,h=r&255;t.strokeStyle="rgba("+e+","+i+","+h+","+s+")",t.lineWidth=l.lineWidth};v.exports=x},91461:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(88829),s=new l({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(i,h,n){h===void 0&&(h="Shape"),a.call(this,i,h),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,i){return i===void 0&&(i=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=i,this.isFilled=!0),this},setStrokeStyle:function(e,i,h){return h===void 0&&(h=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=i,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,i){return this.width=e,this.height=i,this},setDisplaySize:function(e,i){return this.displayWidth=e,this.displayHeight=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=s},50262:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),c=function(a,r,s,e,i){var h=a.strokeTint,n=l.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*s);h.TL=n,h.TR=n,h.BL=n,h.BR=n;var o=r.pathData,f=o.length-1,u=r.lineWidth,d=u/2,p=o[0]-e,m=o[1]-i;r.closePath||(f-=2);for(var y=2;y<f;y+=2){var g=o[y]-e,T=o[y+1]-i;a.batchLine(p,m,g,T,d,d,u,y-2,r.closePath?y===f-1:!1),p=g,m=T}};v.exports=c},28593:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2213),c=t(56694),a=t(75606),r=t(11117),s=t(26673),e=t(83392),i=t(91461),h=new c({Extends:i,Mixins:[l],initialize:function(o,f,u,d,p,m,y,g,T){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),p===void 0&&(p=0),m===void 0&&(m=360),y===void 0&&(y=!1),i.call(this,o,"Arc",new s(0,0,d)),this._startAngle=p,this._endAngle=m,this._anticlockwise=y,this._iterations=.01,this.setPosition(f,u);var S=this.geom.radius*2;this.setSize(S,S),g!==void 0&&this.setFillStyle(g,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var o=n*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,o){return this._startAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(n,o){return this._endAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var n=this._iterations,o=n,f=this.geom.radius,u=a(this._startAngle),d=a(this._endAngle),p=this._anticlockwise,m=f,y=f;d-=u,p?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var g=[m+Math.cos(u)*f,y+Math.sin(u)*f],T;o<1;)T=d*o+u,g.push(m+Math.cos(T)*f,y+Math.sin(T)*f),o+=n;return T=d+u,g.push(m+Math.cos(T)*f,y+Math.sin(T)*f),g.push(m+Math.cos(u)*f,y+Math.sin(u)*f),this.pathIndexes=r(g),this.pathData=g,this}});v.exports=h},23560:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75606),c=t(15608),a=t(17876),r=t(49584),s=function(e,i,h,n){h.addToRenderList(i);var o=e.currentContext;if(r(e,o,i,h,n)){var f=i.radius;o.beginPath(),o.arc(f-i.originX*(f*2),f-i.originY*(f*2),f,l(i._startAngle),l(i._endAngle),i.anticlockwise),i.closePath&&o.closePath(),i.isFilled&&(c(o,i),o.fill()),i.isStroked&&(a(o,i),o.stroke()),o.restore()}};v.exports=s},10369:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28593),c=t(61286);c.register("arc",function(a,r,s,e,i,h,n,o){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n,o))}),c.register("circle",function(a,r,s,e,i){return this.displayList.add(new l(this.scene,a,r,s,0,360,!1,e,i))})},2213:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(58356),a=t(23560),v.exports={renderWebGL:c,renderCanvas:a}},58356:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(19543),a=t(50262),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=l(e,i,h),f=n.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&c(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};v.exports=r},15220:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(87203),a=t(11117),r=t(74118),s=t(91461),e=new l({Extends:s,Mixins:[c],initialize:function(h,n,o,f,u,d){n===void 0&&(n=0),o===void 0&&(o=0),s.call(this,h,"Curve",f),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(n,o),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){var i=this._curveBounds,h=this._smoothness;this.geom.getBounds(i,h),this.setSize(i.width,i.height),this.updateDisplayOrigin();for(var n=[],o=this.geom.getPoints(h),f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=a(n),this.pathData=n,this}});v.exports=e},4024:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,p=u[0]-o,m=u[1]-f;n.beginPath(),n.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var g=u[y]-o,T=u[y+1]-f;n.lineTo(g,T)}e.closePath&&n.closePath(),e.isFilled&&(l(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=r},10147:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(15220);l.register("curve",function(a,r,s,e,i){return this.displayList.add(new c(this.scene,a,r,s,e,i))})},87203:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(82958),a=t(4024),v.exports={renderWebGL:c,renderCanvas:a}},82958:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),c=t(73329),a=t(50262),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=c(e,i,h),f=n.calcMatrix.copyFrom(o.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};v.exports=r},28591:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(11117),a=t(84171),r=t(95669),s=t(91461),e=new l({Extends:s,Mixins:[a],initialize:function(h,n,o,f,u,d,p){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),u===void 0&&(u=128),s.call(this,h,"Ellipse",new r(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(n,o),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSize:function(i,h){return this.width=i,this.height=h,this.geom.setPosition(i/2,h/2),this.geom.setSize(i,h),this.updateData()},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){for(var i=[],h=this.geom.getPoints(this._smoothness),n=0;n<h.length;n++)i.push(h[n].x,h[n].y);return i.push(h[0].x,h[0].y),this.pathIndexes=c(i),this.pathData=i,this}});v.exports=e},55881:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-o,m=u[1]-f;n.beginPath(),n.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var g=u[y]-o,T=u[y+1]-f;n.lineTo(g,T)}n.closePath(),e.isFilled&&(l(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=r},99869:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28591),c=t(61286);c.register("ellipse",function(a,r,s,e,i,h){return this.displayList.add(new l(this.scene,a,r,s,e,i,h))})},84171:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(17554),a=t(55881),v.exports={renderWebGL:c,renderCanvas:a}},17554:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),c=t(73329),a=t(50262),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=c(e,i,h),f=n.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};v.exports=r},39169:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91461),a=t(88059),r=new l({Extends:c,Mixins:[a],initialize:function(e,i,h,n,o,f,u,d,p,m,y){i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=128),o===void 0&&(o=128),f===void 0&&(f=32),u===void 0&&(u=32),c.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,h),this.setSize(n,o),this.setFillStyle(d,p),m!==void 0&&this.setOutlineStyle(m,y),this.updateDisplayOrigin()},setFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=r},95525:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=-e._displayOriginX,f=-e._displayOriginY,u=i.alpha*e.alpha,d=e.width,p=e.height,m=e.cellWidth,y=e.cellHeight,g=Math.ceil(d/m),T=Math.ceil(p/y),S=m,C=y,w=m-(g*m-d),b=y-(T*y-p),A=e.showCells,D=e.showAltCells,B=e.showOutline,N=0,Y=0,H=0,j=0,J=0;if(B&&(S--,C--,w===m&&w--,b===y&&b--),A&&e.fillAlpha>0)for(l(n,e),Y=0;Y<T;Y++)for(D&&(H=Y%2),N=0;N<g;N++){if(D&&H){H=0;continue}H++,j=N<g-1?S:w,J=Y<T-1?C:b,n.fillRect(o+N*m,f+Y*y,j,J)}if(D&&e.altFillAlpha>0)for(l(n,e,e.altFillColor,e.altFillAlpha*u),Y=0;Y<T;Y++)for(D&&(H=Y%2),N=0;N<g;N++){if(D&&!H){H=1;continue}H=0,j=N<g-1?S:w,J=Y<T-1?C:b,n.fillRect(o+N*m,f+Y*y,j,J)}if(B&&e.outlineFillAlpha>0){for(c(n,e,e.outlineFillColor,e.outlineFillAlpha*u),N=1;N<g;N++){var X=N*m;n.beginPath(),n.moveTo(X+o,f),n.lineTo(X+o,p+f),n.stroke()}for(Y=1;Y<T;Y++){var W=Y*y;n.beginPath(),n.moveTo(o,W+f),n.lineTo(o+d,W+f),n.stroke()}}n.restore()}};v.exports=r},9326:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(39169);l.register("grid",function(a,r,s,e,i,h,n,o,f,u){return this.displayList.add(new c(this.scene,a,r,s,e,i,h,n,o,f,u))})},88059:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(50639),a=t(95525),v.exports={renderWebGL:c,renderCanvas:a}},50639:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),n=l(s,e,i),o=h.calcMatrix.copyFrom(n.calc);o.translate(-s._displayOriginX,-s._displayOriginY);var f=e.alpha*s.alpha,u=s.width,d=s.height,p=s.cellWidth,m=s.cellHeight,y=Math.ceil(u/p),g=Math.ceil(d/m),T=p,S=m,C=p-(y*p-u),w=m-(g*m-d),b,A,D=s.showCells,B=s.showAltCells,N=s.showOutline,Y=0,H=0,j=0,J=0,X=0;if(N&&(T--,S--,C===p&&C--,w===m&&w--),r.pipelines.preBatch(s),D&&s.fillAlpha>0)for(b=h.fillTint,A=c.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),b.TL=A,b.TR=A,b.BL=A,b.BR=A,H=0;H<g;H++)for(B&&(j=H%2),Y=0;Y<y;Y++){if(B&&j){j=0;continue}j++,J=Y<y-1?T:C,X=H<g-1?S:w,h.batchFillRect(Y*p,H*m,J,X)}if(B&&s.altFillAlpha>0)for(b=h.fillTint,A=c.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),b.TL=A,b.TR=A,b.BL=A,b.BR=A,H=0;H<g;H++)for(B&&(j=H%2),Y=0;Y<y;Y++){if(B&&!j){j=1;continue}j=0,J=Y<y-1?T:C,X=H<g-1?S:w,h.batchFillRect(Y*p,H*m,J,X)}if(N&&s.outlineFillAlpha>0){var W=h.strokeTint,L=c.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(W.TL=L,W.TR=L,W.BL=L,W.BR=L,Y=1;Y<y;Y++){var G=Y*p;h.batchLine(G,0,G,d,1,1,1,0,!1)}for(H=1;H<g;H++){var z=H*m;h.batchLine(0,z,u,z,1,1,1,0,!1)}}r.pipelines.postBatch(s)};v.exports=a},4415:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72296),c=t(56694),a=t(91461),r=new c({Extends:a,Mixins:[l],initialize:function(e,i,h,n,o,f,u,d){i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,h),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});v.exports=r},32884:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(49584),a=function(r,s,e,i){e.addToRenderList(s);var h=r.currentContext;if(c(r,h,s,e,i)&&s.isFilled){var n=s.width,o=s.height,f=n/2,u=n/s.projection;s.showTop&&(l(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-o),h.lineTo(0,-u-o),h.lineTo(f,-o),h.lineTo(f,-1),h.lineTo(0,u-1),h.lineTo(-f,-1),h.lineTo(-f,-o),h.fill()),s.showLeft&&(l(h,s,s.fillLeft),h.beginPath(),h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-o),h.lineTo(-f,-o),h.lineTo(-f,0),h.fill()),s.showRight&&(l(h,s,s.fillRight),h.beginPath(),h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-o),h.lineTo(f,-o),h.lineTo(f,0),h.fill()),h.restore()}};v.exports=a},88154:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(4415);l.register("isobox",function(a,r,s,e,i,h,n){return this.displayList.add(new c(this.scene,a,r,s,e,i,h,n))})},72296:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(33101),a=t(32884),v.exports={renderWebGL:c,renderCanvas:a}},33101:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),n=l(s,e,i),o=h.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,p=f/s.projection,m=e.alpha*s.alpha;if(s.isFilled){var y,g,T,S,C,w,b,A,D;r.pipelines.preBatch(s),s.showTop&&(y=c.getTintAppendFloatAlpha(s.fillTop,m),g=o.getX(-d,-u),T=o.getY(-d,-u),S=o.getX(0,-p-u),C=o.getY(0,-p-u),w=o.getX(d,-u),b=o.getY(d,-u),A=o.getX(0,p-u),D=o.getY(0,p-u),h.batchQuad(s,g,T,S,C,w,b,A,D,0,0,1,1,y,y,y,y,2)),s.showLeft&&(y=c.getTintAppendFloatAlpha(s.fillLeft,m),g=o.getX(-d,0),T=o.getY(-d,0),S=o.getX(0,p),C=o.getY(0,p),w=o.getX(0,p-u),b=o.getY(0,p-u),A=o.getX(-d,-u),D=o.getY(-d,-u),h.batchQuad(s,g,T,S,C,w,b,A,D,0,0,1,1,y,y,y,y,2)),s.showRight&&(y=c.getTintAppendFloatAlpha(s.fillRight,m),g=o.getX(d,0),T=o.getY(d,0),S=o.getX(0,p),C=o.getY(0,p),w=o.getX(0,p-u),b=o.getY(0,p-u),A=o.getX(d,-u),D=o.getY(d,-u),h.batchQuad(s,g,T,S,C,w,b,A,D,0,0,1,1,y,y,y,y,2)),r.pipelines.postBatch(s)}};v.exports=a},65159:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93387),a=t(91461),r=new l({Extends:a,Mixins:[c],initialize:function(e,i,h,n,o,f,u,d,p){i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(i,h),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});v.exports=r},9923:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(49584),a=function(r,s,e,i){e.addToRenderList(s);var h=r.currentContext;if(c(r,h,s,e,i)&&s.isFilled){var n=s.width,o=s.height,f=n/2,u=n/s.projection,d=s.isReversed;s.showTop&&d&&(l(h,s,s.fillTop),h.beginPath(),h.moveTo(-f,-o),h.lineTo(0,-u-o),h.lineTo(f,-o),h.lineTo(0,u-o),h.fill()),s.showLeft&&(l(h,s,s.fillLeft),h.beginPath(),d?(h.moveTo(-f,-o),h.lineTo(0,u),h.lineTo(0,u-o)):(h.moveTo(-f,0),h.lineTo(0,u),h.lineTo(0,u-o)),h.fill()),s.showRight&&(l(h,s,s.fillRight),h.beginPath(),d?(h.moveTo(f,-o),h.lineTo(0,u),h.lineTo(0,u-o)):(h.moveTo(f,0),h.lineTo(0,u),h.lineTo(0,u-o)),h.fill()),h.restore()}};v.exports=a},67765:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(65159);l.register("isotriangle",function(a,r,s,e,i,h,n,o){return this.displayList.add(new c(this.scene,a,r,s,e,i,h,n,o))})},93387:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(54946),a=t(9923),v.exports={renderWebGL:c,renderCanvas:a}},54946:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),n=l(s,e,i),o=h.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,p=f/s.projection,m=s.isReversed,y=e.alpha*s.alpha;if(s.isFilled){r.pipelines.preBatch(s);var g,T,S,C,w,b,A;if(s.showTop&&m){g=c.getTintAppendFloatAlpha(s.fillTop,y),T=o.getX(-d,-u),S=o.getY(-d,-u),C=o.getX(0,-p-u),w=o.getY(0,-p-u),b=o.getX(d,-u),A=o.getY(d,-u);var D=o.getX(0,p-u),B=o.getY(0,p-u);h.batchQuad(s,T,S,C,w,b,A,D,B,0,0,1,1,g,g,g,g,2)}s.showLeft&&(g=c.getTintAppendFloatAlpha(s.fillLeft,y),m?(T=o.getX(-d,-u),S=o.getY(-d,-u),C=o.getX(0,p),w=o.getY(0,p),b=o.getX(0,p-u),A=o.getY(0,p-u)):(T=o.getX(-d,0),S=o.getY(-d,0),C=o.getX(0,p),w=o.getY(0,p),b=o.getX(0,p-u),A=o.getY(0,p-u)),h.batchTri(s,T,S,C,w,b,A,0,0,1,1,g,g,g,2)),s.showRight&&(g=c.getTintAppendFloatAlpha(s.fillRight,y),m?(T=o.getX(d,-u),S=o.getY(d,-u),C=o.getX(0,p),w=o.getY(0,p),b=o.getX(0,p-u),A=o.getY(0,p-u)):(T=o.getX(d,0),S=o.getY(d,0),C=o.getX(0,p),w=o.getY(0,p),b=o.getX(0,p-u),A=o.getY(0,p-u)),h.batchTri(s,T,S,C,w,b,A,0,0,1,1,g,g,g,2)),r.pipelines.postBatch(s)}};v.exports=a},579:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91461),a=t(88829),r=t(52660),s=new l({Extends:c,Mixins:[r],initialize:function(i,h,n,o,f,u,d,p,m){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),c.call(this,i,"Line",new a(o,f,u,d));var y=Math.max(1,this.geom.right-this.geom.left),g=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,n),this.setSize(y,g),p!==void 0&&this.setStrokeStyle(1,p,m),this.updateDisplayOrigin()},setLineWidth:function(e,i){return i===void 0&&(i=e),this._startWidth=e,this._endWidth=i,this.lineWidth=e,this},setTo:function(e,i,h,n){return this.geom.setTo(e,i,h,n),this}});v.exports=s},52044:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17876),c=t(49584),a=function(r,s,e,i){e.addToRenderList(s);var h=r.currentContext;if(c(r,h,s,e,i)){var n=s._displayOriginX,o=s._displayOriginY;s.isStroked&&(l(h,s),h.beginPath(),h.moveTo(s.geom.x1-n,s.geom.y1-o),h.lineTo(s.geom.x2-n,s.geom.y2-o),h.stroke()),h.restore()}};v.exports=a},85665:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(579);l.register("line",function(a,r,s,e,i,h,n,o){return this.displayList.add(new c(this.scene,a,r,s,e,i,h,n,o))})},52660:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(46952),a=t(52044),v.exports={renderWebGL:c,renderCanvas:a}},46952:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(75512),a=function(r,s,e,i){e.addToRenderList(s);var h=r.pipelines.set(s.pipeline),n=l(s,e,i);h.calcMatrix.copyFrom(n.calc);var o=s._displayOriginX,f=s._displayOriginY,u=e.alpha*s.alpha;if(r.pipelines.preBatch(s),s.isStroked){var d=h.strokeTint,p=c.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*u);d.TL=p,d.TR=p,d.BL=p,d.BR=p;var m=s._startWidth,y=s._endWidth;h.batchLine(s.geom.x1-o,s.geom.y1-f,s.geom.x2-o,s.geom.y2-f,m,y,1,0,!1,n.sprite,n.camera)}r.pipelines.postBatch(s)};v.exports=a},91249:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70573),c=t(56694),a=t(11117),r=t(14045),s=t(8580),e=t(91461),i=t(18974),h=new c({Extends:e,Mixins:[l],initialize:function(o,f,u,d,p,m){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,o,"Polygon",new s(d));var y=r(this.geom);this.setPosition(f,u),this.setSize(y.width,y.height),p!==void 0&&this.setFillStyle(p,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var o=0;o<n;o++)i(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var o=r(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],o=this.geom.points,f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=a(n),this.pathData=n,this}});v.exports=h},40834:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-o,m=u[1]-f;n.beginPath(),n.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var g=u[y]-o,T=u[y+1]-f;n.lineTo(g,T)}e.closePath&&n.closePath(),e.isFilled&&(l(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=r},88203:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(91249);l.register("polygon",function(a,r,s,e,i){return this.displayList.add(new c(this.scene,a,r,s,e,i))})},70573:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(72841),a=t(40834),v.exports={renderWebGL:c,renderCanvas:a}},72841:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),c=t(73329),a=t(50262),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=c(e,i,h),f=n.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};v.exports=r},517:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(74118),a=t(91461),r=t(37673),s=new l({Extends:a,Mixins:[r],initialize:function(i,h,n,o,f,u,d){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=128),f===void 0&&(f=128),a.call(this,i,"Rectangle",new c(0,0,o,f)),this.setPosition(h,n),this.setSize(o,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,i){this.width=e,this.height=i,this.geom.setSize(e,i),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=i),this},updateData:function(){var e=[],i=this.geom,h=this._tempLine;return i.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),i.getLineB(h),e.push(h.x2,h.y2),i.getLineC(h),e.push(h.x2,h.y2),i.getLineD(h),e.push(h.x2,h.y2),this.pathData=e,this}});v.exports=s},4091:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(l(n,e),n.fillRect(-o,-f,e.width,e.height)),e.isStroked&&(c(n,e),n.beginPath(),n.rect(-o,-f,e.width,e.height),n.stroke()),n.restore()}};v.exports=r},94355:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(517);l.register("rectangle",function(a,r,s,e,i,h){return this.displayList.add(new c(this.scene,a,r,s,e,i,h))})},37673:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(43532),a=t(4091),v.exports={renderWebGL:c,renderCanvas:a}},43532:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(50262),a=t(75512),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=l(e,i,h);n.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,u=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=m,p.TR=m,p.BL=m,p.BR=m,n.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&c(n,e,d,f,u),s.pipelines.postBatch(e)};v.exports=r},77843:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87956),c=t(56694),a=t(11117),r=t(91461),s=new c({Extends:r,Mixins:[l],initialize:function(i,h,n,o,f,u,d,p){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=5),f===void 0&&(f=32),u===void 0&&(u=64),r.call(this,i,"Star",null),this._points=o,this._innerRadius=f,this._outerRadius=u,this.setPosition(h,n),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],i=this._points,h=this._innerRadius,n=this._outerRadius,o=Math.PI/2*3,f=Math.PI/i,u=n,d=n;e.push(u,d+-n);for(var p=0;p<i;p++)e.push(u+Math.cos(o)*n,d+Math.sin(o)*n),o+=f,e.push(u+Math.cos(o)*h,d+Math.sin(o)*h),o+=f;return e.push(u,d+-n),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=s},11401:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,p=u[0]-o,m=u[1]-f;n.beginPath(),n.moveTo(p,m),e.closePath||(d-=2);for(var y=2;y<d;y+=2){var g=u[y]-o,T=u[y+1]-f;n.lineTo(g,T)}n.closePath(),e.isFilled&&(l(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=r},23962:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77843),c=t(61286);c.register("star",function(a,r,s,e,i,h,n){return this.displayList.add(new l(this.scene,a,r,s,e,i,h,n))})},87956:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(12037),a=t(11401),v.exports={renderWebGL:c,renderCanvas:a}},12037:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19543),c=t(73329),a=t(50262),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=c(e,i,h),f=n.calcMatrix.copyFrom(o.calc),u=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&l(n,f,e,p,u,d),e.isStroked&&a(n,e,p,u,d),s.pipelines.postBatch(e)};v.exports=r},21873:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91461),a=t(66349),r=t(70498),s=new l({Extends:c,Mixins:[r],initialize:function(i,h,n,o,f,u,d,p,m,y,g){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),p===void 0&&(p=128),m===void 0&&(m=128),c.call(this,i,"Triangle",new a(o,f,u,d,p,m));var T=this.geom.right-this.geom.left,S=this.geom.bottom-this.geom.top;this.setPosition(h,n),this.setSize(T,S),y!==void 0&&this.setFillStyle(y,g),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,i,h,n,o,f){return this.geom.setTo(e,i,h,n,o,f),this.updateData()},updateData:function(){var e=[],i=this.geom,h=this._tempLine;return i.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),i.getLineB(h),e.push(h.x2,h.y2),i.getLineC(h),e.push(h.x2,h.y2),this.pathData=e,this}});v.exports=s},60213:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15608),c=t(17876),a=t(49584),r=function(s,e,i,h){i.addToRenderList(e);var n=s.currentContext;if(a(s,n,e,i,h)){var o=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-o,d=e.geom.y1-f,p=e.geom.x2-o,m=e.geom.y2-f,y=e.geom.x3-o,g=e.geom.y3-f;n.beginPath(),n.moveTo(u,d),n.lineTo(p,m),n.lineTo(y,g),n.closePath(),e.isFilled&&(l(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=r},79296:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(21873);l.register("triangle",function(a,r,s,e,i,h,n,o,f,u){return this.displayList.add(new c(this.scene,a,r,s,e,i,h,n,o,f,u))})},70498:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(72291),a=t(60213),v.exports={renderWebGL:c,renderCanvas:a}},72291:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=t(50262),a=t(75512),r=function(s,e,i,h){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),o=l(e,i,h);n.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,u=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,m=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=m,p.TR=m,p.BL=m,p.BR=m;var y=e.geom.x1-f,g=e.geom.y1-u,T=e.geom.x2-f,S=e.geom.y2-u,C=e.geom.x3-f,w=e.geom.y3-u;n.batchFillTriangle(y,g,T,S,C,w,o.sprite,o.camera)}e.isStroked&&c(n,e,d,f,u),s.pipelines.postBatch(e)};v.exports=r},13747:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),c=t(56694),a=t(64937),r=t(89980),s=t(20791),e=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,s],initialize:function(h,n,o,f,u){r.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(f,u),this.setPosition(n,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,h){this.anims.update(i,h)},play:function(i,h){return this.anims.play(i,h)},playReverse:function(i,h){return this.anims.playReverse(i,h)},playAfterDelay:function(i,h){return this.anims.playAfterDelay(i,h)},playAfterRepeat:function(i,h){return this.anims.playAfterRepeat(i,h)},chain:function(i){return this.anims.chain(i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(i){return this.anims.stopAfterDelay(i)},stopAfterRepeat:function(i){return this.anims.stopAfterRepeat(i)},stopOnFrame:function(i){return this.anims.stopOnFrame(i)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},27573:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l),t.batchSprite(l,l.frame,c,a)};v.exports=x},89219:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(32291),a=t(99325),r=t(20494),s=t(13747);a.register("sprite",function(e,i){e===void 0&&(e={});var h=r(e,"key",null),n=r(e,"frame",null),o=new s(this.scene,0,0,h,n);return i!==void 0&&(e.add=i),l(this.scene,o,e),c(o,e),o})},66135:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(13747);l.register("sprite",function(a,r,s,e){return this.displayList.add(new c(this.scene,a,r,s,e))})},20791:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(21034),a=t(27573),v.exports={renderWebGL:c,renderCanvas:a}},21034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c.addToRenderList(l),l.pipeline.batchSprite(l,c,a)};v.exports=x},32979:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=t.canvas,r=t.context,s=t.style,e=[],i=0,h=c.length;s.maxLines>0&&s.maxLines<c.length&&(h=s.maxLines),s.syncFont(a,r);for(var n=0;n<h;n++){var o=s.strokeThickness;o+=r.measureText(c[n]).width,s.wordWrap&&(o-=r.measureText(" ").width),e[n]=Math.ceil(o),i=Math.max(i,e[n])}var f=l.fontSize+s.strokeThickness,u=f*h,d=t.lineSpacing;return h>1&&(u+=d*(h-1)),{width:i,height:u,lines:h,lineWidths:e,lineSpacing:d,lineHeight:f}};v.exports=x},27030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=function(a){var r=l.create(this),s=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,s);var e=s.measureText(a.testString);if("actualBoundingBoxAscent"in e){var i=e.actualBoundingBoxAscent,h=e.actualBoundingBoxDescent;return l.remove(r),{ascent:i,descent:h,fontSize:i+h}}var n=Math.ceil(e.width*a.baselineX),o=n,f=2*o;o=o*a.baselineY|0,r.width=n,r.height=f,s.fillStyle="#f00",s.fillRect(0,0,n,f),s.font=a._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a.testString,0,o);var u={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,n,f);if(!d)return u.ascent=o,u.descent=o+6,u.fontSize=u.ascent+u.descent,l.remove(r),u;var p=d.data,m=p.length,y=n*4,g,T,S=0,C=!1;for(g=0;g<o;g++){for(T=0;T<y;T+=4)if(p[S+T]!==255){C=!0;break}if(!C)S+=y;else break}for(u.ascent=o-g,S=m-y,C=!1,g=f;g>o;g--){for(T=0;T<y;T+=4)if(p[S+T]!==255){C=!0;break}if(!C)S-=y;else break}return u.descent=g-o,u.fontSize=u.ascent+u.descent,l.remove(r),u};v.exports=c},76555:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99584),c=t(61068),a=t(56694),r=t(64937),s=t(89980),e=t(32979),i=t(10850),h=t(55638),n=t(80032),o=t(74744),f=new a({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,n],initialize:function(d,p,m,y,g){p===void 0&&(p=0),m===void 0&&(m=0),s.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(p,m),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new o(this,g),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),g&&g.padding&&this.setPadding(g.padding),g&&g.lineSpacing&&this.setLineSpacing(g.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(u){var d=this.style;if(d.wordWrapCallback){var p=d.wordWrapCallback.call(d.wordWrapCallbackScope,u,this);return Array.isArray(p)&&(p=p.join(`
`)),p}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(u,this.context,this.style.wordWrapWidth):this.basicWordWrap(u,this.context,this.style.wordWrapWidth):u},advancedWordWrap:function(u,d,p){for(var m="",y=u.replace(/ +/gi," ").split(this.splitRegExp),g=y.length,T=0;T<g;T++){var S=y[T],C="";S=S.replace(/^ *|\s*$/gi,"");var w=d.measureText(S).width;if(w<p){m+=S+`
`;continue}for(var b=p,A=S.split(" "),D=0;D<A.length;D++){var B=A[D],N=B+" ",Y=d.measureText(N).width;if(Y>b){if(D===0){for(var H=N;H.length&&(H=H.slice(0,-1),Y=d.measureText(H).width,!(Y<=b)););if(!H.length)throw new Error("wordWrapWidth < a single character");var j=B.substr(H.length);A[D]=j,C+=H}var J=A[D].length?D:D+1,X=A.slice(J).join(" ").replace(/[ \n]*$/gi,"");y.splice(T+1,0,X),g=y.length;break}else C+=N,b-=Y}m+=C.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(u,d,p){for(var m="",y=u.split(this.splitRegExp),g=y.length-1,T=d.measureText(" ").width,S=0;S<=g;S++){for(var C=p,w=y[S].split(" "),b=w.length-1,A=0;A<=b;A++){var D=w[A],B=d.measureText(D).width,N=B;A<b&&(N+=T),N>C&&A>0&&(m+=`
`,C=p),m+=D,A<b?(m+=" ",C-=N):C-=B}S<g&&(m+=`
`)}return m},getWrappedText:function(u){u===void 0&&(u=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(u);return d.split(this.splitRegExp)},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this._text&&(this._text=u.toString(),this.updateText()),this},appendText:function(u,d){d===void 0&&(d=!0),!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u=u.toString();var p=this._text.concat(d?`
`+u:u);return p!==this._text&&(this._text=p,this.updateText()),this},setStyle:function(u){return this.style.setStyle(u)},setFont:function(u){return this.style.setFont(u)},setFontFamily:function(u){return this.style.setFontFamily(u)},setFontSize:function(u){return this.style.setFontSize(u)},setFontStyle:function(u){return this.style.setFontStyle(u)},setFixedSize:function(u,d){return this.style.setFixedSize(u,d)},setBackgroundColor:function(u){return this.style.setBackgroundColor(u)},setFill:function(u){return this.style.setFill(u)},setColor:function(u){return this.style.setColor(u)},setStroke:function(u,d){return this.style.setStroke(u,d)},setShadow:function(u,d,p,m,y,g){return this.style.setShadow(u,d,p,m,y,g)},setShadowOffset:function(u,d){return this.style.setShadowOffset(u,d)},setShadowColor:function(u){return this.style.setShadowColor(u)},setShadowBlur:function(u){return this.style.setShadowBlur(u)},setShadowStroke:function(u){return this.style.setShadowStroke(u)},setShadowFill:function(u){return this.style.setShadowFill(u)},setWordWrapWidth:function(u,d){return this.style.setWordWrapWidth(u,d)},setWordWrapCallback:function(u,d){return this.style.setWordWrapCallback(u,d)},setAlign:function(u){return this.style.setAlign(u)},setResolution:function(u){return this.style.setResolution(u)},setLineSpacing:function(u){return this.lineSpacing=u,this.updateText()},setPadding:function(u,d,p,m){if(typeof u=="object"){var y=u,g=i(y,"x",null);g!==null?(u=g,p=g):(u=i(y,"left",0),p=i(y,"right",u));var T=i(y,"y",null);T!==null?(d=T,m=T):(d=i(y,"top",0),m=i(y,"bottom",d))}else u===void 0&&(u=0),d===void 0&&(d=u),p===void 0&&(p=u),m===void 0&&(m=d);return this.padding.left=u,this.padding.top=d,this.padding.right=p,this.padding.bottom=m,this.updateText()},setMaxLines:function(u){return this.style.setMaxLines(u)},updateText:function(){var u=this.canvas,d=this.context,p=this.style,m=p.resolution,y=p.metrics;p.syncFont(u,d);var g=this._text;(p.wordWrapWidth||p.wordWrapCallback)&&(g=this.runWordWrap(this._text));var T=g.split(this.splitRegExp),S=e(this,y,T),C=this.padding,w;p.fixedWidth===0?(this.width=S.width+C.left+C.right,w=S.width):(this.width=p.fixedWidth,w=this.width-C.left-C.right,w<S.width&&(w=S.width)),p.fixedHeight===0?this.height=S.height+C.top+C.bottom:this.height=p.fixedHeight;var b=this.width,A=this.height;this.updateDisplayOrigin(),b*=m,A*=m,b=Math.max(b,1),A=Math.max(A,1),u.width!==b||u.height!==A?(u.width=b,u.height=A,this.frame.setSize(b,A),p.syncFont(u,d),p.rtl&&(d.direction="rtl")):d.clearRect(0,0,b,A),d.save(),d.scale(m,m),p.backgroundColor&&(d.fillStyle=p.backgroundColor,d.fillRect(0,0,b,A)),p.syncStyle(u,d),d.translate(C.left,C.top);for(var D,B,N=0;N<S.lines;N++){if(D=p.strokeThickness/2,B=p.strokeThickness/2+N*S.lineHeight+y.ascent,N>0&&(B+=S.lineSpacing*N),p.rtl)D=b-D-C.left-C.right;else if(p.align==="right")D+=w-S.lineWidths[N];else if(p.align==="center")D+=(w-S.lineWidths[N])/2;else if(p.align==="justify"){var Y=.85;if(S.lineWidths[N]/S.width>=Y){var H=S.width-S.lineWidths[N],j=d.measureText(" ").width,J=T[N].trim(),X=J.split(" ");H+=(T[N].length-J.length)*j;for(var W=Math.floor(H/j),L=0;W>0;)X[L]+=" ",L=(L+1)%(X.length-1||1),--W;T[N]=X.join(" ")}}this.autoRound&&(D=Math.round(D),B=Math.round(B)),p.strokeThickness&&(p.syncShadow(d,p.shadowStroke),d.strokeText(T[N],D,B)),p.color&&(p.syncShadow(d,p.shadowFill),d.fillText(T[N],D,B))}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(u){this.setText(u)}},toJSON:function(){var u=r.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return u.data=d,u},preDestroy:function(){this.style.rtl&&h(this.canvas),c.remove(this.canvas),this.texture.destroy()}});v.exports=f},71649:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l.width===0||l.height===0||(c.addToRenderList(l),t.batchSprite(l,l.frame,c,a))};v.exports=x},75397:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(76555);c.register("text",function(s,e){s===void 0&&(s={});var i=a(s,"text",""),h=a(s,"style",null),n=a(s,"padding",null);n!==null&&(h.padding=n);var o=new r(this.scene,0,0,i,h);return e!==void 0&&(s.add=e),l(this.scene,o,s),o.autoRound=a(s,"autoRound",!0),o.resolution=a(s,"resolution",1),o})},94627:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76555),c=t(61286);c.register("text",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},80032:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(76128),a=t(71649),v.exports={renderWebGL:c,renderCanvas:a}},74744:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(20494),a=t(10850),r=t(27030),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new l({initialize:function(h,n){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(i,h,n){h===void 0&&(h=!0),n===void 0&&(n=!1),i&&i.hasOwnProperty("fontSize")&&typeof i.fontSize=="number"&&(i.fontSize=i.fontSize.toString()+"px");for(var o in s){var f=n?s[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(i,s[o][0],f):this[o]=c(i,s[o][0],f)}var u=a(i,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(i,"fill",null);d!==null&&(this.color=d);var p=a(i,"metrics",!1);return p?this.metrics={ascent:a(p,"ascent",0),descent:a(p,"descent",0),fontSize:a(p,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=r(this)),h?this.parent.updateText():this.parent},syncFont:function(i,h){h.font=this._font},syncStyle:function(i,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(i,h){h?(i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY,i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur):(i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor=0,i.shadowBlur=0)},update:function(i){return i&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(i,h){h===void 0&&(h=!0);var n=i,o="",f="";if(typeof i!="string")n=a(i,"fontFamily","Courier"),o=a(i,"fontSize","16px"),f=a(i,"fontStyle","");else{var u=i.split(" "),d=0;f=u.length>2?u[d++]:"",o=u[d++]||"16px",n=u[d++]||"Courier"}return(n!==this.fontFamily||o!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=o,this.fontStyle=f,h&&this.update(!0)),this.parent},setFontFamily:function(i){return this.fontFamily!==i&&(this.fontFamily=i,this.update(!0)),this.parent},setFontStyle:function(i){return this.fontStyle!==i&&(this.fontStyle=i,this.update(!0)),this.parent},setFontSize:function(i){return typeof i=="number"&&(i=i.toString()+"px"),this.fontSize!==i&&(this.fontSize=i,this.update(!0)),this.parent},setTestString:function(i){return this.testString=i,this.update(!0)},setFixedSize:function(i,h){return this.fixedWidth=i,this.fixedHeight=h,i&&(this.parent.width=i),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(i){return this.backgroundColor=i,this.update(!1)},setFill:function(i){return this.color=i,this.update(!1)},setColor:function(i){return this.color=i,this.update(!1)},setResolution:function(i){return this.resolution=i,this.update(!1)},setStroke:function(i,h){return h===void 0&&(h=this.strokeThickness),i===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==i||this.strokeThickness!==h)&&(this.stroke=i,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(i,h,n,o,f,u){return i===void 0&&(i=0),h===void 0&&(h=0),n===void 0&&(n="#000"),o===void 0&&(o=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=i,this.shadowOffsetY=h,this.shadowColor=n,this.shadowBlur=o,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this.shadowOffsetX=i,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(i){return i===void 0&&(i="#000"),this.shadowColor=i,this.update(!1)},setShadowBlur:function(i){return i===void 0&&(i=0),this.shadowBlur=i,this.update(!1)},setShadowStroke:function(i){return this.shadowStroke=i,this.update(!1)},setShadowFill:function(i){return this.shadowFill=i,this.update(!1)},setWordWrapWidth:function(i,h){return h===void 0&&(h=!1),this.wordWrapWidth=i,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(i,h){return h===void 0&&(h=null),this.wordWrapCallback=i,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(i){return i===void 0&&(i="left"),this.align=i,this.update(!1)},setMaxLines:function(i){return i===void 0&&(i=0),this.maxLines=i,this.update(!1)},getTextMetrics:function(){var i=this.metrics;return{ascent:i.ascent,descent:i.descent,fontSize:i.fontSize}},toJSON:function(){var i={};for(var h in s)i[h]=this[h];return i.metrics=this.getTextMetrics(),i},destroy:function(){this.parent=void 0}});v.exports=e},76128:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),c=function(a,r,s,e){if(!(r.width===0||r.height===0)){s.addToRenderList(r);var i=r.frame,h=i.width,n=i.height,o=l.getTintAppendFloatAlpha,f=a.pipelines.set(r.pipeline,r),u=f.setTexture2D(i.glTexture,r);f.batchTexture(r,i.glTexture,h,n,r.x,r.y,h/r.style.resolution,n/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,n,o(r.tintTopLeft,s.alpha*r._alphaTL),o(r.tintTopRight,s.alpha*r._alphaTR),o(r.tintBottomLeft,s.alpha*r._alphaBL),o(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,0,0,s,e,!1,u)}};v.exports=c},35856:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=t(56694),a=t(64937),r=t(89980),s=t(3504),e=t(8213),i=t(9271),h=t(93736),n=8,o=new c({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,i],initialize:function(u,d,p,m,y,g,T){var S=u.sys.renderer;r.call(this,u,"TileSprite");var C=u.sys.textures.get(g),w=C.get(T);w.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),C=u.sys.textures.get("__MISSING"),w=C.get()),C.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),C=u.sys.textures.get("__MISSING"),w=C.get()),!m||!y?(m=w.width,y=w.height):(m=Math.floor(m),y=Math.floor(y)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=S,this.canvas=l.create(this,m,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=C,this.displayFrame=w,this._crop=this.resetCropObject(),this.texture=u.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=s(w.width),this.potHeight=s(w.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,p),this.setSize(m,y),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,u){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(u)},setFrame:function(f){var u=this.displayTexture.get(f);return this.potWidth=s(u.width),this.potHeight=s(u.height),this.canvas.width=0,!u.cutWidth||!u.cutHeight?this.renderFlags&=~n:this.renderFlags|=n,this.displayFrame=u,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,u){return f!==void 0&&(this.tilePositionX=f),u!==void 0&&(this.tilePositionY=u),this},setTileScale:function(f,u){return f===void 0&&(f=this.tileScaleX),u===void 0&&(u=f),this.tileScaleX=f,this.tileScaleY=u,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var u=this.fillContext,d=this.fillCanvas,p=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(p=f.cutWidth,m=f.cutHeight),u.clearRect(0,0,p,m),d.width=p,d.height=m,u.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,p,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=u.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var u=this.context;this.scene.sys.game.config.antialias||e.disable(u);var d=this._tileScale.x,p=this._tileScale.y,m=this._tilePosition.x,y=this._tilePosition.y;u.clearRect(0,0,this.width,this.height),u.save(),u.scale(d,p),u.translate(-m,-y),u.fillStyle=this.fillPattern,u.fillRect(m,y,this.width/d,this.height/p),u.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});v.exports=o},93305:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l.updateCanvas(),c.addToRenderList(l),t.batchSprite(l,l.frame,c,a)};v.exports=x},63950:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(35856);c.register("tileSprite",function(s,e){s===void 0&&(s={});var i=a(s,"x",0),h=a(s,"y",0),n=a(s,"width",512),o=a(s,"height",512),f=a(s,"key",""),u=a(s,"frame",""),d=new r(this.scene,i,h,n,o,f,u);return e!==void 0&&(s.add=e),l(this.scene,d,s),d})},20509:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35856),c=t(61286);c.register("tileSprite",function(a,r,s,e,i,h){return this.displayList.add(new l(this.scene,a,r,s,e,i,h))})},9271:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(74287),a=t(93305),v.exports={renderWebGL:c,renderCanvas:a}},74287:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),c=function(a,r,s,e){r.updateCanvas();var i=r.width,h=r.height;if(!(i===0||h===0)){s.addToRenderList(r);var n=l.getTintAppendFloatAlpha,o=a.pipelines.set(r.pipeline,r),f=o.setTexture2D(r.fillPattern,r);o.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,i,h,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*i,r.originY*h,0,0,i,h,n(r.tintTopLeft,s.alpha*r._alphaTL),n(r.tintTopRight,s.alpha*r._alphaTR),n(r.tintBottomLeft,s.alpha*r._alphaBL),n(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,e,!1,f)}};v.exports=c},8630:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(64937),r=t(56631),s=t(97081),e=t(89980),i=t(83392),h=t(76038),n=t(76583),o=t(77974),f=new c({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(d,p,m,y){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var g=d.sys.game;this._device=g.device.video,this.setPosition(p,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),g.events.on(s.PAUSE,this.globalPause,this),g.events.on(s.RESUME,this.globalResume,this);var T=d.sys.sound;T&&T.on(h.GLOBAL_MUTE,this.globalMute,this),y&&this.load(y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,p,m,y){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(p,m,y))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,p){d===void 0&&(d=!1);var m=this._device.getVideoURL(u);return m?(this.cacheKey="",this.loadHandler(m.url,d,p)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,p){return this.loadHandler(null,d,p,u)},loadHandler:function(u,d,p,m){d||(d=!1);var y=this.video;if(y?(this.removeLoadEventHandlers(),this.stop()):(y=document.createElement("video"),y.controls=!1,y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.setAttribute("disablePictureInPicture","true")),d?(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")):(y.muted=!1,y.defaultMuted=!1,y.removeAttribute("autoplay")),p?y.setAttribute("crossorigin",p):y.removeAttribute("crossorigin"),m)if("srcObject"in y)try{y.srcObject=m}catch(g){if(g.name!=="TypeError")throw g;y.src=URL.createObjectURL(m)}else y.src=URL.createObjectURL(m);else y.src=u;return this.addLoadEventHandlers(),this.retry=0,this.video=y,this._playCalled=!1,y.load(),this},requestVideoFrame:function(u,d){var p=this.video;if(p){var m=d.width,y=d.height,g=this.videoTexture,T=this.videoTextureSource,S=!g||T.source!==p;S?(this._codePaused=p.paused,this._codeMuted=p.muted,g?(T.source=p,T.width=m,T.height=y,g.get().setSize(m,y)):(g=this.scene.sys.textures.create(this._key,p,m,y),g.add("__BASE",0,0,0,m,y),this.setTexture(g),this.videoTexture=g,this.videoTextureSource=g.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,g)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=d;var C=d.mediaTime;S&&(this._lastUpdate=C,this.emit(r.VIDEO_CREATED,this,m,y),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?C>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):C<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=C,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,p){d===void 0&&(d=-1),p===void 0&&(p=i.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(u===void 0&&(u=m.loop),m.loop=u,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<i.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var p in d)u.addEventListener(p,d[p])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var p in d)u.removeEventListener(p,d[p])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,p=d.play();if(p!==void 0){var m=this.playSuccess.bind(this),y=this.playError.bind(this);if(!u){var g=this;y=function(){g.failedPlayAttempts++}}p.then(m).catch(y)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[u]=[d,p]),this},playMarker:function(u,d){var p=this.markers[u];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,p,m,y,g){u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=this.width),m===void 0&&(m=this.height),y===void 0&&(y=p),g===void 0&&(g=m);var T=this.video,S=this.snapshotTexture;return S?(S.setSize(y,g),T&&S.context.drawImage(T,u,d,p,m,0,0,y,g)):(S=this.scene.sys.textures.createCanvas(n(),y,g),this.snapshotTexture=S,T&&S.context.drawImage(T,u,d,p,m,0,0,y,g)),S.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(r.VIDEO_ERROR,this,u)},stalledHandler:function(u){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var m=p*u;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var p=u[0],m=parseFloat(u.substr(1));p==="+"?u=d.currentTime+m:p==="-"&&(u=d.currentTime-m)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=l(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(s.PAUSE,this.globalPause,this),u.off(s.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(h.GLOBAL_MUTE,this.globalMute,this)}});v.exports=f},56933:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l.videoTexture&&(c.addToRenderList(l),t.batchSprite(l,l.frame,c,a))};v.exports=x},65601:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88933),c=t(99325),a=t(20494),r=t(8630);c.register("video",function(s,e){s===void 0&&(s={});var i=a(s,"key",null),h=new r(this.scene,0,0,i);return e!==void 0&&(s.add=e),l(this.scene,h,s),h})},215:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8630),c=t(61286);c.register("video",function(a,r,s){return this.displayList.add(new l(this.scene,a,r,s))})},77974:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(83572),a=t(56933),v.exports={renderWebGL:c,renderCanvas:a}},83572:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l.videoTexture&&(c.addToRenderList(l),l.pipeline.batchSprite(l,c,a))};v.exports=x},71030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(26673),a=t(65650),r=t(56694),s=t(64937),e=t(89980),i=t(74118),h=t(94287),n=new r({Extends:e,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,u,d,p,m){p===void 0&&(p=1),m===void 0&&(m=p),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=p,this.height=m,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,f,u){u===void 0&&(u=!0),this.width=o,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=f),this},setDisplaySize:function(o,f){return this.displayWidth=o,this.displayHeight=f,this},setCircleDropZone:function(o){return this.setDropZone(new c(0,0,o),a)},setRectangleDropZone:function(o,f){return this.setDropZone(new i(0,0,o,f),h)},setDropZone:function(o,f){return this.input||this.setInteractive(o,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,f,u){u.addToRenderList(f)},renderWebGL:function(o,f,u){u.addToRenderList(f)}});v.exports=n},24067:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),c=t(20494),a=t(71030);l.register("zone",function(r){var s=c(r,"x",0),e=c(r,"y",0),i=c(r,"width",1),h=c(r,"height",i);return new a(this.scene,s,e,i,h)})},34546:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71030),c=t(61286);c.register("zone",function(a,r,s,e){return this.displayList.add(new l(this.scene,a,r,s,e))})},95847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=x},26673:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(65650),a=t(94026),r=t(62941),s=t(52394),e=t(30977),i=new l({initialize:function(n,o,f){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=n,this.y=o,this._radius=f,this._diameter=f*2},contains:function(h,n){return c(this,h,n)},getPoint:function(h,n){return a(this,h,n)},getPoints:function(h,n,o){return r(this,h,n,o)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,n,o){return this.x=h,this.y=n,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,n){return n===void 0&&(n=h),this.x=h,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});v.exports=i},37964:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(Math.PI*t.radius)};v.exports=x},72233:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s){return s===void 0&&(s=new l),s.x=a.x+a.radius*Math.cos(r),s.y=a.y+a.radius*Math.sin(r),s};v.exports=c},61761:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),c=function(a){return new l(a.x,a.y,a.radius)};v.exports=c},65650:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(t.radius>0&&l>=t.left&&l<=t.right&&c>=t.top&&c<=t.bottom){var a=(t.x-l)*(t.x-l),r=(t.y-c)*(t.y-c);return a+r<=t.radius*t.radius}else return!1};v.exports=x},39187:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),c=function(a,r){return l(a,r.x,r.y)};v.exports=c},58672:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),c=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};v.exports=c},42997:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x,t.y,t.radius)};v.exports=x},94894:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x===l.x&&t.y===l.y&&t.radius===l.radius};v.exports=x},48027:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};v.exports=c},94026:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72233),c=t(91806),a=t(83392),r=t(79967),s=function(e,i,h){h===void 0&&(h=new r);var n=c(i,0,a.PI2);return l(e,n,h)};v.exports=s},62941:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37964),c=t(72233),a=t(91806),r=t(83392),s=function(e,i,h,n){n===void 0&&(n=[]),!i&&h>0&&(i=l(e)/h);for(var o=0;o<i;o++){var f=a(o/i,0,r.PI2);n.push(c(e,f))}return n};v.exports=s},34585:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x+=l,t.y+=c,t};v.exports=x},88665:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=x},30977:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){r===void 0&&(r=new l);var s=2*Math.PI*Math.random(),e=Math.random()+Math.random(),i=e>1?2-e:e,h=i*Math.cos(s),n=i*Math.sin(s);return r.x=a.x+h*a.radius,r.y=a.y+n*a.radius,r};v.exports=c},6112:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673);l.Area=t(95847),l.Circumference=t(37964),l.CircumferencePoint=t(72233),l.Clone=t(61761),l.Contains=t(65650),l.ContainsPoint=t(39187),l.ContainsRect=t(58672),l.CopyFrom=t(42997),l.Equals=t(94894),l.GetBounds=t(48027),l.GetPoint=t(94026),l.GetPoints=t(62941),l.Offset=t(34585),l.OffsetPoint=t(88665),l.Random=t(30977),v.exports=l},52394:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=x},58605:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=x},39507:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=t.width/2,c=t.height/2,a=Math.pow(l-c,2)/Math.pow(l+c,2);return Math.PI*(l+c)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=x},86998:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s){s===void 0&&(s=new l);var e=a.width/2,i=a.height/2;return s.x=a.x+e*Math.cos(r),s.y=a.y+i*Math.sin(r),s};v.exports=c},81773:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95669),c=function(a){return new l(a.x,a.y,a.width,a.height)};v.exports=c},72313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(t.width<=0||t.height<=0)return!1;var a=(l-t.x)/t.width,r=(c-t.y)/t.height;return a*=a,r*=r,a+r<.25};v.exports=x},34368:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72313),c=function(a,r){return l(a,r.x,r.y)};v.exports=c},71431:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72313),c=function(a,r){return l(a,r.x,r.y)&&l(a,r.right,r.y)&&l(a,r.x,r.bottom)&&l(a,r.right,r.bottom)};v.exports=c},75459:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};v.exports=x},95669:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72313),a=t(95340),r=t(54978),s=t(52394),e=t(72006),i=new l({initialize:function(n,o,f,u){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=s.ELLIPSE,this.x=n,this.y=o,this.width=f,this.height=u},contains:function(h,n){return c(this,h,n)},getPoint:function(h,n){return a(this,h,n)},getPoints:function(h,n,o){return r(this,h,n,o)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,n,o,f){return this.x=h,this.y=n,this.width=o,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,n){return n===void 0&&(n=h),this.x=h,this.y=n,this},setSize:function(h,n){return n===void 0&&(n=h),this.width=h,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});v.exports=i},98068:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};v.exports=x},72897:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r){return r===void 0&&(r=new l),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};v.exports=c},95340:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86998),c=t(91806),a=t(83392),r=t(79967),s=function(e,i,h){h===void 0&&(h=new r);var n=c(i,0,a.PI2);return l(e,n,h)};v.exports=s},54978:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(39507),c=t(86998),a=t(91806),r=t(83392),s=function(e,i,h,n){n===void 0&&(n=[]),!i&&h>0&&(i=l(e)/h);for(var o=0;o<i;o++){var f=a(o/i,0,r.PI2);n.push(c(e,f))}return n};v.exports=s},77951:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x+=l,t.y+=c,t};v.exports=x},36233:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=x},72006:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){r===void 0&&(r=new l);var s=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(s)*a.width/2,r.y=a.y+e*Math.sin(s)*a.height/2,r};v.exports=c},40652:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95669);l.Area=t(58605),l.Circumference=t(39507),l.CircumferencePoint=t(86998),l.Clone=t(81773),l.Contains=t(72313),l.ContainsPoint=t(34368),l.ContainsRect=t(71431),l.CopyFrom=t(75459),l.Equals=t(98068),l.GetBounds=t(72897),l.GetPoint=t(95340),l.GetPoints=t(54978),l.Offset=t(77951),l.OffsetPoint=t(36233),l.Random=t(72006),v.exports=l},84068:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(52394),c=t(98611),a={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};a=c(!1,a,l),v.exports=a},22184:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53996),c=function(a,r){return l(a.x,a.y,r.x,r.y)<=a.radius+r.radius};v.exports=c},26535:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=l.width/2,a=l.height/2,r=Math.abs(t.x-l.x-c),s=Math.abs(t.y-l.y-a),e=c+t.radius,i=a+t.radius;if(r>e||s>i)return!1;if(r<=c||s<=a)return!0;var h=r-c,n=s-a,o=h*h,f=n*n,u=t.radius*t.radius;return o+f<=u};v.exports=x},71145:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(22184),a=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.x,h=r.y,n=r.radius,o=s.x,f=s.y,u=s.radius,d,p,m,y,g;if(h===f)g=(u*u-n*n-o*o+i*i)/(2*(i-o)),d=1,p=-2*f,m=o*o+g*g-2*o*g+f*f-u*u,y=p*p-4*d*m,y===0?e.push(new l(g,-p/(2*d))):y>0&&(e.push(new l(g,(-p+Math.sqrt(y))/(2*d))),e.push(new l(g,(-p-Math.sqrt(y))/(2*d))));else{var T=(i-o)/(h-f),S=(u*u-n*n-o*o+i*i-f*f+h*h)/(2*(h-f));d=T*T+1,p=2*h*T-2*S*T-2*i,m=i*i+h*h+S*S-n*n-2*h*S,y=p*p-4*d*m,y===0?(g=-p/(2*d),e.push(new l(g,S-g*T))):y>0&&(g=(-p+Math.sqrt(y))/(2*d),e.push(new l(g,S-g*T)),g=(-p-Math.sqrt(y))/(2*d),e.push(new l(g,S-g*T)))}}return e};v.exports=a},62508:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26111),c=t(26535),a=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=s.getLineA(),h=s.getLineB(),n=s.getLineC(),o=s.getLineD();l(i,r,e),l(h,r,e),l(n,r,e),l(o,r,e)}return e};v.exports=a},26111:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(61472),a=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.x1,h=r.y1,n=r.x2,o=r.y2,f=s.x,u=s.y,d=s.radius,p=n-i,m=o-h,y=i-f,g=h-u,T=p*p+m*m,S=2*(p*y+m*g),C=y*y+g*g-d*d,w=S*S-4*T*C,b,A;if(w===0){var D=-S/(2*T);b=i+D*p,A=h+D*m,D>=0&&D<=1&&e.push(new l(b,A))}else if(w>0){var B=(-S-Math.sqrt(w))/(2*T);b=i+B*p,A=h+B*m,B>=0&&B<=1&&e.push(new l(b,A));var N=(-S+Math.sqrt(w))/(2*T);b=i+N*p,A=h+N*m,N>=0&&N<=1&&e.push(new l(b,A))}}return e};v.exports=a},96537:(v,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),c=function(a,r,s,e){s===void 0&&(s=!1);var i=a.x1,h=a.y1,n=a.x2,o=a.y2,f=r.x1,u=r.y1,d=r.x2,p=r.y2,m=n-i,y=o-h,g=d-f,T=p-u,S=m*T-y*g;if(S===0)return null;var C,w,b;if(s){if(C=(m*(u-h)+y*(i-f))/(g*y-T*m),w=(f+g*C-i)/m,w<0||C<0||C>1)return null;b=w}else{if(C=((f-i)*T-(u-h)*g)/S,w=((h-u)*m-(i-f)*y)/S,C<0||C>1||w<0||w>1)return null;b=C}return e===void 0&&(e=new l),e.set(i+m*b,h+y*b,b)};v.exports=c},17647:(v,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(96537),c=t(88829),a=t(70015),r=new c,s=new a,e=function(i,h,n,o){n===void 0&&(n=!1),o===void 0&&(o=new a);var f=!1;o.set(),s.set();for(var u=h[0],d=1;d<h.length;d++){var p=h[d];r.setTo(u.x,u.y,p.x,p.y),u=p,l(i,r,n,s)&&(!f||s.z<o.z)&&(o.copy(s),f=!0)}return f?o:null};v.exports=e},68439:(v,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),c=t(51729),a=t(17647),r=new l,s=function(e,i,h,n){n===void 0&&(n=new c),Array.isArray(i)||(i=[i]);var o=!1;n.set(),r.set();for(var f=0;f<i.length;f++)a(e,i[f].points,h,r)&&(!o||r.z<n.z)&&(n.set(r.x,r.y,r.z,f),o=!0);return o?n:null};v.exports=s},9569:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(25227),a=t(47910),r=function(s,e,i){if(i===void 0&&(i=[]),a(s,e))for(var h=e.getLineA(),n=e.getLineB(),o=e.getLineC(),f=e.getLineD(),u=[new l,new l,new l,new l],d=[c(h,s,u[0]),c(n,s,u[1]),c(o,s,u[2]),c(f,s,u[3])],p=0;p<4;p++)d[p]&&i.push(u[p]);return i};v.exports=r},7449:(v,x,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(51729),c=t(68439),a=t(88829),r=new a;function s(h,n,o,f,u){var d=Math.cos(h),p=Math.sin(h);r.setTo(n,o,n+d,o+p);var m=c(r,f,!0);m&&u.push(new l(m.x,m.y,h,m.w))}function e(h,n){return h.z-n.z}var i=function(h,n,o){Array.isArray(o)||(o=[o]);for(var f=[],u=[],d=0;d<o.length;d++)for(var p=o[d].points,m=0;m<p.length;m++){var y=Math.atan2(p[m].y-n,p[m].x-h);u.indexOf(y)===-1&&(s(y,h,n,o,f),s(y-1e-5,h,n,o,f),s(y+1e-5,h,n,o,f),u.push(y))}return f.sort(e)};v.exports=i},82931:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=t(90205),a=function(r,s,e){return e===void 0&&(e=new l),c(r,s)&&(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y),e};v.exports=a},1946:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(9569),c=t(90205),a=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.getLineA(),h=r.getLineB(),n=r.getLineC(),o=r.getLineD();l(i,s,e),l(h,s,e),l(n,s,e),l(o,s,e)}return e};v.exports=a},34211:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(20370),c=t(9569),a=function(r,s,e){if(e===void 0&&(e=[]),l(r,s)){var i=s.getLineA(),h=s.getLineB(),n=s.getLineC();c(i,r,e),c(h,r,e),c(n,r,e)}return e};v.exports=a},80511:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26111),c=t(48411),a=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.getLineA(),h=r.getLineB(),n=r.getLineC();l(i,s,e),l(h,s,e),l(n,s,e)}return e};v.exports=a},31343:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(86117),a=t(25227),r=function(s,e,i){if(i===void 0&&(i=[]),c(s,e))for(var h=s.getLineA(),n=s.getLineB(),o=s.getLineC(),f=[new l,new l,new l],u=[a(h,e,f[0]),a(n,e,f[1]),a(o,e,f[2])],d=0;d<3;d++)u[d]&&i.push(f[d]);return i};v.exports=r},70534:(v,x,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(23589),c=t(31343),a=function(r,s,e){if(e===void 0&&(e=[]),l(r,s)){var i=s.getLineA(),h=s.getLineB(),n=s.getLineC();c(r,i,e),c(r,h,e),c(r,n,e)}return e};v.exports=a},61472:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),c=t(79967),a=new c,r=function(s,e,i){if(i===void 0&&(i=a),l(e,s.x1,s.y1))return i.x=s.x1,i.y=s.y1,!0;if(l(e,s.x2,s.y2))return i.x=s.x2,i.y=s.y2,!0;var h=s.x2-s.x1,n=s.y2-s.y1,o=e.x-s.x1,f=e.y-s.y1,u=h*h+n*n,d=h,p=n;if(u>0){var m=(o*h+f*n)/u;d*=m,p*=m}i.x=s.x1+d,i.y=s.y1+p;var y=d*d+p*p;return y<=u&&d*h+p*n>=0&&l(e,i.x,i.y)};v.exports=r},25227:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=t.x1,r=t.y1,s=t.x2,e=t.y2,i=l.x1,h=l.y1,n=l.x2,o=l.y2;if(a===s&&r===e||i===n&&h===o)return!1;var f=(o-h)*(s-a)-(n-i)*(e-r);if(f===0)return!1;var u=((n-i)*(r-h)-(o-h)*(a-i))/f,d=((s-a)*(r-h)-(e-r)*(a-i))/f;return u<0||u>1||d<0||d>1?!1:(c&&(c.x=a+u*(s-a),c.y=r+u*(e-r)),!0)};v.exports=x},47910:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.x1,a=t.y1,r=t.x2,s=t.y2,e=l.x,i=l.y,h=l.right,n=l.bottom,o=0;if(c>=e&&c<=h&&a>=i&&a<=n||r>=e&&r<=h&&s>=i&&s<=n)return!0;if(c<e&&r>=e){if(o=a+(s-a)*(e-c)/(r-c),o>i&&o<=n)return!0}else if(c>h&&r<=h&&(o=a+(s-a)*(h-c)/(r-c),o>=i&&o<=n))return!0;if(a<i&&s>=i){if(o=c+(r-c)*(i-a)/(s-a),o>=e&&o<=h)return!0}else if(a>n&&s<=n&&(o=c+(r-c)*(n-a)/(s-a),o>=e&&o<=h))return!0;return!1};v.exports=x},34426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){c===void 0&&(c=1);var a=l.x1,r=l.y1,s=l.x2,e=l.y2,i=t.x,h=t.y,n=(s-a)*(s-a)+(e-r)*(e-r);if(n===0)return!1;var o=((i-a)*(s-a)+(h-r)*(e-r))/n;if(o<0)return Math.sqrt((a-i)*(a-i)+(r-h)*(r-h))<=c;if(o>=0&&o<=1){var f=((r-h)*(s-a)-(a-i)*(e-r))/n;return Math.abs(f)*Math.sqrt(n)<=c}else return Math.sqrt((s-i)*(s-i)+(e-h)*(e-h))<=c};v.exports=x},81414:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(34426),c=function(a,r){if(!l(a,r))return!1;var s=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),i=Math.min(r.y1,r.y2),h=Math.max(r.y1,r.y2);return a.x>=s&&a.x<=e&&a.y>=i&&a.y<=h};v.exports=c},90205:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.width<=0||t.height<=0||l.width<=0||l.height<=0?!1:!(t.right<l.x||t.bottom<l.y||t.x>l.right||t.y>l.bottom)};v.exports=x},20370:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25227),c=t(94287),a=t(86875),r=t(87279),s=function(e,i){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var h=i.getLineA(),n=i.getLineB(),o=i.getLineC();if(c(e,h.x1,h.y1)||c(e,h.x2,h.y2)||c(e,n.x1,n.y1)||c(e,n.x2,n.y2)||c(e,o.x1,o.y1)||c(e,o.x2,o.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),p=e.getLineD();if(l(h,f)||l(h,u)||l(h,d)||l(h,p)||l(n,f)||l(n,u)||l(n,d)||l(n,p)||l(o,f)||l(o,u)||l(o,d)||l(o,p))return!0;var m=r(e),y=a(i,m,!0);return y.length>0};v.exports=s},8786:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s){return s===void 0&&(s=0),!(l>t.right+s||c<t.left-s||a>t.bottom+s||r<t.top-s)};v.exports=x},48411:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61472),c=t(60689),a=function(r,s){return r.left>s.right||r.right<s.left||r.top>s.bottom||r.bottom<s.top?!1:!!(c(r,s.x,s.y)||l(r.getLineA(),s)||l(r.getLineB(),s)||l(r.getLineC(),s))};v.exports=a},86117:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25227),c=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||l(a.getLineA(),r)||l(a.getLineB(),r)||l(a.getLineC(),r))};v.exports=c},23589:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(86875),c=t(18680),a=t(25227),r=function(s,e){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var i=s.getLineA(),h=s.getLineB(),n=s.getLineC(),o=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(a(i,o)||a(i,f)||a(i,u)||a(h,o)||a(h,f)||a(h,u)||a(n,o)||a(n,f)||a(n,u))return!0;var d=c(s),p=l(e,d,!0);return p.length>0||(d=c(e),p=l(s,d,!0),p.length>0)};v.exports=r},7563:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=x},58813:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){l===void 0&&(l=1),c===void 0&&(c=[]);var a=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),e=Math.round(t.y2),i=Math.abs(s-a),h=Math.abs(e-r),n=a<s?1:-1,o=r<e?1:-1,f=i-h;c.push({x:a,y:r});for(var u=1;!(a===s&&r===e);){var d=f<<1;d>-h&&(f-=h,a+=n),d<i&&(f+=i,r+=o),u%l===0&&c.push({x:a,y:r}),u++}return c};v.exports=x},88513:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=l-(t.x1+t.x2)/2,r=c-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};v.exports=x},26718:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88829),c=function(a){return new l(a.x1,a.y1,a.x2,a.y2)};v.exports=c},88930:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=x},90656:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2};v.exports=x},30897:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=function(a,r,s){s===void 0&&(s=r);var e=l(a),i=a.x2-a.x1,h=a.y2-a.y1;return r&&(a.x1=a.x1-i/e*r,a.y1=a.y1-h/e*r),s&&(a.x2=a.x2+i/e*s,a.y2=a.y2+h/e*s),a};v.exports=c},30684:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92951),c=t(21902),a=t(79967),r=function(s,e,i,h,n){h===void 0&&(h=0),n===void 0&&(n=[]);var o=[],f=s.x1,u=s.y1,d=s.x2-f,p=s.y2-u,m=c(e,n),y,g,T=i-1;for(y=0;y<T;y++)g=m(y/T),o.push(new a(f+d*g,u+p*g));if(g=m(1),o.push(new a(f+d*g,u+p*g)),h>0){var S=o[0],C=[S];for(y=1;y<o.length-1;y++){var w=o[y];l(S,w)>=h&&(C.push(w),S=w)}var b=o[o.length-1];return l(S,b)<h&&C.pop(),C.push(b),C}else return o};v.exports=r},20487:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};v.exports=c},11222:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s){s===void 0&&(s=new l);var e=a.x1,i=a.y1,h=a.x2,n=a.y2,o=(h-e)*(h-e)+(n-i)*(n-i);if(o===0)return s;var f=((r.x-e)*(h-e)+(r.y-i)*(n-i))/o;return s.x=e+f*(h-e),s.y=i+f*(n-i),s};v.exports=c},7377:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(50599),a=t(79967),r=function(s,e){e===void 0&&(e=new a);var i=c(s)-l.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};v.exports=r},66464:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s){return s===void 0&&(s=new l),s.x=a.x1+(a.x2-a.x1)*r,s.y=a.y1+(a.y2-a.y1)*r,s};v.exports=c},8570:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=t(79967),a=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=l(r)/e);for(var h=r.x1,n=r.y1,o=r.x2,f=r.y2,u=0;u<s;u++){var d=u/s,p=h+(o-h)*d,m=n+(f-n)*d;i.push(new c(p,m))}return i};v.exports=a},65269:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.x1,a=t.y1,r=t.x2,s=t.y2,e=(r-c)*(r-c)+(s-a)*(s-a);if(e===0)return!1;var i=((a-l.y)*(r-c)-(c-l.x)*(s-a))/e;return Math.abs(i)*Math.sqrt(e)};v.exports=x},82996:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.y1-t.y2)};v.exports=x},16028:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=x},88829:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(66464),a=t(8570),r=t(52394),s=t(74077),e=t(93736),i=new l({initialize:function(n,o,f,u){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=r.LINE,this.x1=n,this.y1=o,this.x2=f,this.y2=u},getPoint:function(h,n){return c(this,h,n)},getPoints:function(h,n,o){return a(this,h,n,o)},getRandomPoint:function(h){return s(this,h)},setTo:function(h,n,o,f){return h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.x1=h,this.y1=n,this.x2=o,this.y2=f,this},getPointA:function(h){return h===void 0&&(h=new e),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new e),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});v.exports=i},73273:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(1071),a=t(50599),r=function(s){var e=a(s)-l.TAU;return c(e,-Math.PI,Math.PI)};v.exports=r},96936:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(50599),a=function(r){return Math.cos(c(r)-l.TAU)};v.exports=a},43581:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(50599),a=function(r){return Math.sin(c(r)-l.TAU)};v.exports=a},13990:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x1+=l,t.y1+=c,t.x2+=l,t.y2+=c,t};v.exports=x},1298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=x},74077:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){r===void 0&&(r=new l);var s=Math.random();return r.x=a.x1+s*(a.x2-a.x1),r.y=a.y1+s*(a.y2-a.y1),r};v.exports=c},30473:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50599),c=t(73273),a=function(r,s){return 2*c(s)-Math.PI-l(r)};v.exports=a},25968:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1809),c=function(a,r){var s=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return l(a,s,e,r)};v.exports=c},24296:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1809),c=function(a,r,s){return l(a,r.x,r.y,s)};v.exports=c},1809:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=Math.cos(a),s=Math.sin(a),e=t.x1-l,i=t.y1-c;return t.x1=e*r-i*s+l,t.y1=e*s+i*r+c,e=t.x2-l,i=t.y2-c,t.x2=e*r-i*s+l,t.y2=e*s+i*r+c,t};v.exports=x},88171:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){return t.x1=l,t.y1=c,t.x2=l+Math.cos(a)*r,t.y2=c+Math.sin(a)*r,t};v.exports=x},82797:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=x},41067:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.abs(t.x1-t.x2)};v.exports=x},28482:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(88829);l.Angle=t(50599),l.BresenhamPoints=t(58813),l.CenterOn=t(88513),l.Clone=t(26718),l.CopyFrom=t(88930),l.Equals=t(90656),l.Extend=t(30897),l.GetEasedPoints=t(30684),l.GetMidPoint=t(20487),l.GetNearestPoint=t(11222),l.GetNormal=t(7377),l.GetPoint=t(66464),l.GetPoints=t(8570),l.GetShortestDistance=t(65269),l.Height=t(82996),l.Length=t(16028),l.NormalAngle=t(73273),l.NormalX=t(96936),l.NormalY=t(43581),l.Offset=t(13990),l.PerpSlope=t(1298),l.Random=t(74077),l.ReflectAngle=t(30473),l.Rotate=t(25968),l.RotateAroundPoint=t(24296),l.RotateAroundXY=t(1809),l.SetToAngle=t(88171),l.Slope=t(82797),l.Width=t(41067),v.exports=l},18693:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(74118),a=t(93736);function r(e,i,h,n){var o=e-h,f=i-n,u=o*o+f*f;return Math.sqrt(u)}var s=new l({initialize:function(i,h,n){this.vertex1=i,this.vertex2=h,this.vertex3=n,this.bounds=new c,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var i=this.vertex1,h=this.vertex2,n=this.vertex3,o,f,u,d,p,m;e?(o=i.x,f=i.y,u=h.x,d=h.y,p=n.x,m=n.y):(o=i.vx,f=i.vy,u=h.vx,d=h.vy,p=n.vx,m=n.vy);var y=r(p,m,u,d),g=r(o,f,p,m),T=r(u,d,o,f),S=y+g+T;return this._inCenter.set((o*y+u*g+p*T)/S,(f*y+d*g+m*T)/S)},contains:function(e,i,h){var n=this.vertex1,o=this.vertex2,f=this.vertex3,u=n.vx,d=n.vy,p=o.vx,m=o.vy,y=f.vx,g=f.vy;if(h){var T=h.a,S=h.b,C=h.c,w=h.d,b=h.e,A=h.f;u=n.vx*T+n.vy*C+b,d=n.vx*S+n.vy*w+A,p=o.vx*T+o.vy*C+b,m=o.vx*S+o.vy*w+A,y=f.vx*T+f.vy*C+b,g=f.vx*S+f.vy*w+A}var D=y-u,B=g-d,N=p-u,Y=m-d,H=e-u,j=i-d,J=D*D+B*B,X=D*N+B*Y,W=D*H+B*j,L=N*N+Y*Y,G=N*H+Y*j,z=J*L-X*X,k=z===0?0:1/z,K=(L*W-X*G)*k,$=(J*G-X*W)*k;return K>=0&&$>=0&&K+$<1},isCounterClockwise:function(e){var i=this.vertex1,h=this.vertex2,n=this.vertex3,o=(h.vx-i.vx)*(n.vy-i.vy)-(h.vy-i.vy)*(n.vx-i.vx);return e<=0?o>=0:o<0},load:function(e,i,h,n,o){return h=this.vertex1.load(e,i,h,n,o),h=this.vertex2.load(e,i,h,n,o),h=this.vertex3.load(e,i,h,n,o),h},transformCoordinatesLocal:function(e,i,h,n){return this.vertex1.transformCoordinatesLocal(e,i,h,n),this.vertex2.transformCoordinatesLocal(e,i,h,n),this.vertex3.transformCoordinatesLocal(e,i,h,n),this},updateBounds:function(){var e=this.vertex1,i=this.vertex2,h=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,i.vx,h.vx),n.y=Math.min(e.vy,i.vy,h.vy),n.width=Math.max(e.vx,i.vx,h.vx)-n.x,n.height=Math.max(e.vy,i.vy,h.vy)-n.y,this},isInView:function(e,i,h,n,o,f,u,d,p,m,y){this.update(n,o,f,u,d,p,m,y);var g=this.vertex1,T=this.vertex2,S=this.vertex3;if(g.ta<=0&&T.ta<=0&&S.ta<=0||i&&!this.isCounterClockwise(h))return!1;var C=this.bounds;C.x=Math.min(g.tx,T.tx,S.tx),C.y=Math.min(g.ty,T.ty,S.ty),C.width=Math.max(g.tx,T.tx,S.tx)-C.x,C.height=Math.max(g.ty,T.ty,S.ty)-C.y;var w=e.x+e.width,b=e.y+e.height;return C.width<=0||C.height<=0||e.width<=0||e.height<=0?!1:!(C.right<e.x||C.bottom<e.y||C.x>w||C.y>b)},scrollUV:function(e,i){return this.vertex1.scrollUV(e,i),this.vertex2.scrollUV(e,i),this.vertex3.scrollUV(e,i),this},scaleUV:function(e,i){return this.vertex1.scaleUV(e,i),this.vertex2.scaleUV(e,i),this.vertex3.scaleUV(e,i),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,i,h,n,o,f,u,d){return this.vertex1.update(i,h,n,o,f,u,d,e),this.vertex2.update(i,h,n,o,f,u,d,e),this.vertex3.update(i,h,n,o,f,u,d,e),this},translate:function(e,i){i===void 0&&(i=0);var h=this.vertex1,n=this.vertex2,o=this.vertex3;return h.x+=e,h.y+=i,n.x+=e,n.y+=i,o.x+=e,o.y+=i,this},x:{get:function(){return this.getInCenter().x},set:function(e){var i=this.getInCenter();this.translate(e-i.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var i=this.getInCenter();this.translate(0,e-i.y)}},alpha:{get:function(){var e=this.vertex1,i=this.vertex2,h=this.vertex3;return(e.alpha+i.alpha+h.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,i=this.vertex2,h=this.vertex3;return(e.vz+i.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=s},99425:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),c=t(72632),a=t(16650),r=t(70015),s=t(85769),e=new r,i=new r,h=new a,n=function(o){var f=c(o,"mesh"),u=c(o,"texture",null),d=c(o,"frame"),p=c(o,"width",1),m=c(o,"height",p),y=c(o,"widthSegments",1),g=c(o,"heightSegments",y),T=c(o,"x",0),S=c(o,"y",0),C=c(o,"z",0),w=c(o,"rotateX",0),b=c(o,"rotateY",0),A=c(o,"rotateZ",0),D=c(o,"zIsUp",!0),B=c(o,"isOrtho",f?f.dirtyCache[11]:!1),N=c(o,"colors",[16777215]),Y=c(o,"alphas",[1]),H=c(o,"tile",!1),j=c(o,"flipY",!1),J=c(o,"width",null),X={faces:[],verts:[]};e.set(T,S,C),i.set(w,b,A),h.fromRotationXYTranslation(i,e,D);var W;if(!u&&f)u=f.texture,d||(W=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return X;W||(W=u.get(d)),!J&&B&&u&&f&&(p=W.width/f.height,m=W.height/f.height);var L=p/2,G=m/2,z=Math.floor(y),k=Math.floor(g),K=z+1,$=k+1,Q=p/z,_=m/k,tt=[],nt=[],st,at,rt=0,dt=1,mt=0,Tt=1;W&&(rt=W.u0,dt=W.u1,j?(mt=W.v1,Tt=W.v0):(mt=W.v0,Tt=W.v1));var St=dt-rt,ft=Tt-mt;for(at=0;at<$;at++){var vt=at*_-G;for(st=0;st<K;st++){var et=st*Q-L;nt.push(et,-vt);var ot=rt+St*(st/z),ut=mt+ft*(at/k);tt.push(ot,ut)}}Array.isArray(N)||(N=[N]),Array.isArray(Y)||(Y=[Y]);var ct=0,xt=0;for(at=0;at<k;at++)for(st=0;st<z;st++){var wt=(st+K*at)*2,pt=(st+K*(at+1))*2,Ct=(st+1+K*(at+1))*2,yt=(st+1+K*at)*2,Pt=N[xt],At=Y[ct],It=new s(nt[wt],nt[wt+1],0,tt[wt],tt[wt+1],Pt,At).transformMat4(h),Ht=new s(nt[pt],nt[pt+1],0,tt[pt],tt[pt+1],Pt,At).transformMat4(h),ht=new s(nt[yt],nt[yt+1],0,tt[yt],tt[yt+1],Pt,At).transformMat4(h),ee=new s(nt[pt],nt[pt+1],0,tt[pt],tt[pt+1],Pt,At).transformMat4(h),qt=new s(nt[Ct],nt[Ct+1],0,tt[Ct],tt[Ct+1],Pt,At).transformMat4(h),_t=new s(nt[yt],nt[yt+1],0,tt[yt],tt[yt+1],Pt,At).transformMat4(h);H&&(It.setUVs(rt,Tt),Ht.setUVs(rt,mt),ht.setUVs(dt,Tt),ee.setUVs(rt,mt),qt.setUVs(dt,mt),_t.setUVs(dt,Tt)),xt++,xt===N.length&&(xt=0),ct++,ct===Y.length&&(ct=0),X.verts.push(It,Ht,ht,ee,qt,_t),X.faces.push(new l(It,Ht,ht),new l(ee,qt,_t))}return f&&(f.faces=f.faces.concat(X.faces),f.vertices=f.vertices.concat(X.verts)),X};v.exports=n},53267:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),c=t(16650),a=t(70015),r=t(85769),s=new a,e=new a,i=new c,h=function(n,o,f,u,d,p,m,y,g,T){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),g===void 0&&(g=0),T===void 0&&(T=!0);var S={faces:[],verts:[]},C=n.materials;s.set(u,d,p),e.set(m,y,g),i.fromRotationXYTranslation(e,s,T);for(var w=0;w<n.models.length;w++)for(var b=n.models[w],A=b.vertices,D=b.textureCoords,B=b.faces,N=0;N<B.length;N++){var Y=B[N],H=Y.vertices[0],j=Y.vertices[1],J=Y.vertices[2],X=A[H.vertexIndex],W=A[j.vertexIndex],L=A[J.vertexIndex],G=H.textureCoordsIndex,z=j.textureCoordsIndex,k=J.textureCoordsIndex,K=G===-1?{u:0,v:1}:D[G],$=z===-1?{u:0,v:0}:D[z],Q=k===-1?{u:1,v:1}:D[k],_=16777215;Y.material!==""&&C[Y.material]&&(_=C[Y.material]);var tt=new r(X.x*f,X.y*f,X.z*f,K.u,K.v,_).transformMat4(i),nt=new r(W.x*f,W.y*f,W.z*f,$.u,$.v,_).transformMat4(i),st=new r(L.x*f,L.y*f,L.z*f,Q.u,Q.v,_).transformMat4(i);S.verts.push(tt,nt,st),S.faces.push(new l(tt,nt,st))}return o&&(o.faces=o.faces.concat(S.faces),o.vertices=o.vertices.concat(S.verts)),S};v.exports=h},67623:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(18693),c=t(85769),a=function(r,s,e,i,h,n,o,f){if(i===void 0&&(i=!1),n===void 0&&(n=16777215),o===void 0&&(o=1),f===void 0&&(f=!1),r.length!==s.length&&!i){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,p,m,y,g,T,S,C,w,b,A,D=i?3:2,B=Array.isArray(n),N=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var Y=e[d],H=e[d]*2,j=e[d]*D;p=r[j],m=r[j+1],y=i?r[j+2]:0,g=s[H],T=s[H+1],f&&(T=1-T),S=B?n[Y]:n,C=N?o[Y]:o,w=0,b=0,A=0,h&&(w=h[j],b=h[j+1],A=i?h[j+2]:0),u.vertices.push(new c(p,m,y,g,T,S,C,w,b,A))}else{var J=0,X=0;for(d=0;d<r.length;d+=D)p=r[d],m=r[d+1],y=i?r[d+2]:0,g=s[J],T=s[J+1],S=B?n[X]:n,C=N?o[X]:o,w=0,b=0,A=0,h&&(w=h[d],b=h[d+1],A=i?h[d+2]:0),u.vertices.push(new c(p,m,y,g,T,S,C,w,b,A)),J+=2,X++}for(d=0;d<u.vertices.length;d+=3){var W=u.vertices[d],L=u.vertices[d+1],G=u.vertices[d+2];u.faces.push(new l(W,L,G))}return u};v.exports=a},27291:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,t="untitled",l="",c="";function a(p){var m=p.indexOf("#");return m>-1?p.substring(0,m):p}function r(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),l="",p.models[p.models.length-1]}function s(p,m){var y=p.length>=2?p[1]:t;m.models.push({faces:[],name:y,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function e(p){p.length===2&&(l=p[1])}function i(p,m){var y=p.length,g=y>=2?parseFloat(p[1]):0,T=y>=3?parseFloat(p[2]):0,S=y>=4?parseFloat(p[3]):0;r(m).vertices.push({x:g,y:T,z:S})}function h(p,m){var y=p.length,g=y>=2?parseFloat(p[1]):0,T=y>=3?parseFloat(p[2]):0,S=y>=4?parseFloat(p[3]):0;isNaN(g)&&(g=0),isNaN(T)&&(T=0),isNaN(S)&&(S=0),x&&(T=1-T),r(m).textureCoords.push({u:g,v:T,w:S})}function n(p,m){var y=p.length,g=y>=2?parseFloat(p[1]):0,T=y>=3?parseFloat(p[2]):0,S=y>=4?parseFloat(p[3]):0;r(m).vertexNormals.push({x:g,y:T,z:S})}function o(p,m){var y=p.length-1;if(!(y<3)){for(var g={group:l,material:c,vertices:[]},T=0;T<y;T++){var S=p[T+1],C=S.split("/"),w=C.length;if(!(w<1||w>3)){var b=0,A=0,D=0;b=parseInt(C[0],10),w>1&&C[1]!==""&&(A=parseInt(C[1],10)),w>2&&(D=parseInt(C[2],10)),b!==0&&(b<0&&(b=r(m).vertices.length+1+b),A-=1,b-=1,D-=1,g.vertices.push({textureCoordsIndex:A,vertexIndex:b,vertexNormalIndex:D}))}}r(m).faces.push(g)}}function f(p,m){p.length>=2&&m.materialLibraries.push(p[1])}function u(p){p.length>=2&&(c=p[1])}var d=function(p,m){m===void 0&&(m=!0),x=m;var y={materials:{},materialLibraries:[],models:[]};l="",c="";for(var g=p.split(`
`),T=0;T<g.length;T++){var S=a(g[T]),C=S.replace(/\s\s+/g," ").trim().split(" ");switch(C[0].toLowerCase()){case"o":s(C,y);break;case"g":e(C);break;case"v":i(C,y);break;case"vt":h(C,y);break;case"vn":n(C,y);break;case"f":o(C,y);break;case"mtllib":f(C,y);break;case"usemtl":u(C);break}}return y};v.exports=d},76799:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22946),c=function(a){for(var r={},s=a.split(`
`),e="",i=0;i<s.length;i++){var h=s[i].trim();if(!(h.indexOf("#")===0||h==="")){var n=h.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var o=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):o,u=n.length>=3?Math.floor(n[3]*255):o;r[e]=l(o,f,u);break}}}}return r};v.exports=c},15313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r,s;if(c===void 0&&a===void 0){var e=t.getInCenter();r=e.x,s=e.y}var i=Math.cos(l),h=Math.sin(l),n=t.vertex1,o=t.vertex2,f=t.vertex3,u=n.x-r,d=n.y-s;n.set(u*i-d*h+r,u*h+d*i+s),u=o.x-r,d=o.y-s,o.set(u*i-d*h+r,u*h+d*i+s),u=f.x-r,d=f.y-s,f.set(u*i-d*h+r,u*h+d*i+s)};v.exports=x},85769:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(75512),a=t(70015),r=new l({Extends:a,initialize:function(e,i,h,n,o,f,u,d,p,m){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),a.call(this,e,i,h),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=m,this.u=n,this.v=o,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=o},setUVs:function(s,e){return this.u=s,this.v=e,this.tu=s,this.tv=e,this},scrollUV:function(s,e){return this.tu+=s,this.tv+=e,this},scaleUV:function(s,e){return this.tu=this.u*s,this.tv=this.v*e,this},transformCoordinatesLocal:function(s,e,i,h){var n=this.x,o=this.y,f=this.z,u=s.val,d=n*u[0]+o*u[4]+f*u[8]+u[12],p=n*u[1]+o*u[5]+f*u[9]+u[13],m=n*u[2]+o*u[6]+f*u[10]+u[14],y=n*u[3]+o*u[7]+f*u[11]+u[15];this.vx=d/y*e,this.vy=-(p/y)*i,h<=0?this.vz=m/y:this.vz=-(m/y)},resize:function(s,e,i,h,n,o){return this.x=s,this.y=e,this.vx=this.x*i,this.vy=-this.y*h,this.vz=0,n<.5?this.vx+=i*(.5-n):n>.5&&(this.vx-=i*(n-.5)),o<.5?this.vy+=h*(.5-o):o>.5&&(this.vy-=h*(o-.5)),this},update:function(s,e,i,h,n,o,f,u){var d=this.vx*s+this.vy*i+n,p=this.vx*e+this.vy*h+o;return f&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*u,this},load:function(s,e,i,h,n){return s[++i]=this.tx,s[++i]=this.ty,s[++i]=this.tu,s[++i]=this.tv,s[++i]=h,s[++i]=n,e[++i]=c.getTintAppendFloatAlpha(this.color,this.ta),i}});v.exports=r},14293:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};v.exports=l},77601:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=x},38933:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a){return new l(a.x,a.y)};v.exports=c},47103:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x,t.y)};v.exports=x},13625:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x===l.x&&t.y===l.y};v.exports=x},12536:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=x},54205:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){if(r===void 0&&(r=new l),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var s=a.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<s;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=s,r.y/=s}return r};v.exports=c},50083:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=x},82712:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x*t.x+t.y*t.y};v.exports=x},20052:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r){r===void 0&&(r=new l);for(var s=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,n=0;n<a.length;n++){var o=a[n];o.x>s&&(s=o.x),o.x<e&&(e=o.x),o.y>i&&(i=o.y),o.y<h&&(h=o.y)}return r.x=e,r.y=h,r.width=s-e,r.height=i-h,r};v.exports=c},77154:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s,e){return s===void 0&&(s=0),e===void 0&&(e=new l),e.x=a.x+(r.x-a.x)*s,e.y=a.y+(r.y-a.y)*s,e};v.exports=c},42397:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.setTo(t.y,t.x)};v.exports=x},59464:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.setTo(-a.x,-a.y)};v.exports=c},79967:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(52394),a=new l({initialize:function(s,e){s===void 0&&(s=0),e===void 0&&(e=s),this.type=c.POINT,this.x=s,this.y=e},setTo:function(r,s){return r===void 0&&(r=0),s===void 0&&(s=r),this.x=r,this.y=s,this}});v.exports=a},53581:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(82712),a=function(r,s,e){e===void 0&&(e=new l);var i=r.x*s.x+r.y*s.y,h=i/c(s);return h!==0&&(e.x=h*s.x,e.y=h*s.y),e};v.exports=a},50817:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r,s){s===void 0&&(s=new l);var e=a.x*r.x+a.y*r.y;return e!==0&&(s.x=e*r.x,s.y=e*r.y),s};v.exports=c},40525:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50083),c=function(a,r){if(a.x!==0||a.y!==0){var s=l(a);a.x/=s,a.y/=s}return a.x*=r,a.y*=r,a};v.exports=c},63472:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967);l.Ceil=t(77601),l.Clone=t(38933),l.CopyFrom=t(47103),l.Equals=t(13625),l.Floor=t(12536),l.GetCentroid=t(54205),l.GetMagnitude=t(50083),l.GetMagnitudeSq=t(82712),l.GetRectangleFromPoints=t(20052),l.Interpolate=t(77154),l.Invert=t(42397),l.Negative=t(59464),l.Project=t(53581),l.ProjectUnit=t(50817),l.SetMagnitude=t(40525),v.exports=l},19631:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8580),c=function(a){return new l(a.points)};v.exports=c},45604:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){for(var a=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var e=t.points[r].x,i=t.points[r].y,h=t.points[s].x,n=t.points[s].y;(i<=c&&c<n||n<=c&&c<i)&&l<(h-e)*(c-i)/(n-i)+e&&(a=!a)}return a};v.exports=x},87289:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45604),c=function(a,r){return l(a,r.x,r.y)};v.exports=c},11117:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(X,W,L){L=L||2;var G=W&&W.length,z=G?W[0]*L:X.length,k=t(X,0,z,L,!0),K=[];if(!k||k.next===k.prev)return K;var $,Q,_,tt,nt,st,at;if(G&&(k=i(X,W,k,L)),X.length>80*L){$=_=X[0],Q=tt=X[1];for(var rt=L;rt<z;rt+=L)nt=X[rt],st=X[rt+1],nt<$&&($=nt),st<Q&&(Q=st),nt>_&&(_=nt),st>tt&&(tt=st);at=Math.max(_-$,tt-Q),at=at!==0?32767/at:0}return c(k,K,L,$,Q,at,0),K}function t(X,W,L,G,z){var k,K;if(z===J(X,W,L,G)>0)for(k=W;k<L;k+=G)K=Y(k,X[k],X[k+1],K);else for(k=L-G;k>=W;k-=G)K=Y(k,X[k],X[k+1],K);return K&&S(K,K.next)&&(H(K),K=K.next),K}function l(X,W){if(!X)return X;W||(W=X);var L=X,G;do if(G=!1,!L.steiner&&(S(L,L.next)||T(L.prev,L,L.next)===0)){if(H(L),L=W=L.prev,L===L.next)break;G=!0}else L=L.next;while(G||L!==W);return W}function c(X,W,L,G,z,k,K){if(X){!K&&k&&u(X,G,z,k);for(var $=X,Q,_;X.prev!==X.next;){if(Q=X.prev,_=X.next,k?r(X,G,z,k):a(X)){W.push(Q.i/L|0),W.push(X.i/L|0),W.push(_.i/L|0),H(X),X=_.next,$=_.next;continue}if(X=_,X===$){K?K===1?(X=s(l(X),W,L),c(X,W,L,G,z,k,2)):K===2&&e(X,W,L,G,z,k):c(l(X),W,L,G,z,k,1);break}}}}function a(X){var W=X.prev,L=X,G=X.next;if(T(W,L,G)>=0)return!1;for(var z=W.x,k=L.x,K=G.x,$=W.y,Q=L.y,_=G.y,tt=z<k?z<K?z:K:k<K?k:K,nt=$<Q?$<_?$:_:Q<_?Q:_,st=z>k?z>K?z:K:k>K?k:K,at=$>Q?$>_?$:_:Q>_?Q:_,rt=G.next;rt!==W;){if(rt.x>=tt&&rt.x<=st&&rt.y>=nt&&rt.y<=at&&y(z,$,k,Q,K,_,rt.x,rt.y)&&T(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function r(X,W,L,G){var z=X.prev,k=X,K=X.next;if(T(z,k,K)>=0)return!1;for(var $=z.x,Q=k.x,_=K.x,tt=z.y,nt=k.y,st=K.y,at=$<Q?$<_?$:_:Q<_?Q:_,rt=tt<nt?tt<st?tt:st:nt<st?nt:st,dt=$>Q?$>_?$:_:Q>_?Q:_,mt=tt>nt?tt>st?tt:st:nt>st?nt:st,Tt=p(at,rt,W,L,G),St=p(dt,mt,W,L,G),ft=X.prevZ,vt=X.nextZ;ft&&ft.z>=Tt&&vt&&vt.z<=St;){if(ft.x>=at&&ft.x<=dt&&ft.y>=rt&&ft.y<=mt&&ft!==z&&ft!==K&&y($,tt,Q,nt,_,st,ft.x,ft.y)&&T(ft.prev,ft,ft.next)>=0||(ft=ft.prevZ,vt.x>=at&&vt.x<=dt&&vt.y>=rt&&vt.y<=mt&&vt!==z&&vt!==K&&y($,tt,Q,nt,_,st,vt.x,vt.y)&&T(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;ft&&ft.z>=Tt;){if(ft.x>=at&&ft.x<=dt&&ft.y>=rt&&ft.y<=mt&&ft!==z&&ft!==K&&y($,tt,Q,nt,_,st,ft.x,ft.y)&&T(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;vt&&vt.z<=St;){if(vt.x>=at&&vt.x<=dt&&vt.y>=rt&&vt.y<=mt&&vt!==z&&vt!==K&&y($,tt,Q,nt,_,st,vt.x,vt.y)&&T(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function s(X,W,L){var G=X;do{var z=G.prev,k=G.next.next;!S(z,k)&&C(z,G,G.next,k)&&D(z,k)&&D(k,z)&&(W.push(z.i/L|0),W.push(G.i/L|0),W.push(k.i/L|0),H(G),H(G.next),G=X=k),G=G.next}while(G!==X);return l(G)}function e(X,W,L,G,z,k){var K=X;do{for(var $=K.next.next;$!==K.prev;){if(K.i!==$.i&&g(K,$)){var Q=N(K,$);K=l(K,K.next),Q=l(Q,Q.next),c(K,W,L,G,z,k,0),c(Q,W,L,G,z,k,0);return}$=$.next}K=K.next}while(K!==X)}function i(X,W,L,G){var z=[],k,K,$,Q,_;for(k=0,K=W.length;k<K;k++)$=W[k]*G,Q=k<K-1?W[k+1]*G:X.length,_=t(X,$,Q,G,!1),_===_.next&&(_.steiner=!0),z.push(m(_));for(z.sort(h),k=0;k<z.length;k++)L=n(z[k],L);return L}function h(X,W){return X.x-W.x}function n(X,W){var L=o(X,W);if(!L)return W;var G=N(L,X);return l(G,G.next),l(L,L.next)}function o(X,W){var L=W,G=X.x,z=X.y,k=-1/0,K;do{if(z<=L.y&&z>=L.next.y&&L.next.y!==L.y){var $=L.x+(z-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if($<=G&&$>k&&(k=$,K=L.x<L.next.x?L:L.next,$===G))return K}L=L.next}while(L!==W);if(!K)return null;var Q=K,_=K.x,tt=K.y,nt=1/0,st;L=K;do G>=L.x&&L.x>=_&&G!==L.x&&y(z<tt?G:k,z,_,tt,z<tt?k:G,z,L.x,L.y)&&(st=Math.abs(z-L.y)/(G-L.x),D(L,X)&&(st<nt||st===nt&&(L.x>K.x||L.x===K.x&&f(K,L)))&&(K=L,nt=st)),L=L.next;while(L!==Q);return K}function f(X,W){return T(X.prev,X,W.prev)<0&&T(W.next,X,X.next)<0}function u(X,W,L,G){var z=X;do z.z===0&&(z.z=p(z.x,z.y,W,L,G)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==X);z.prevZ.nextZ=null,z.prevZ=null,d(z)}function d(X){var W,L,G,z,k,K,$,Q,_=1;do{for(L=X,X=null,k=null,K=0;L;){for(K++,G=L,$=0,W=0;W<_&&($++,G=G.nextZ,!!G);W++);for(Q=_;$>0||Q>0&&G;)$!==0&&(Q===0||!G||L.z<=G.z)?(z=L,L=L.nextZ,$--):(z=G,G=G.nextZ,Q--),k?k.nextZ=z:X=z,z.prevZ=k,k=z;L=G}k.nextZ=null,_*=2}while(K>1);return X}function p(X,W,L,G,z){return X=(X-L)*z|0,W=(W-G)*z|0,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,X|W<<1}function m(X){var W=X,L=X;do(W.x<L.x||W.x===L.x&&W.y<L.y)&&(L=W),W=W.next;while(W!==X);return L}function y(X,W,L,G,z,k,K,$){return(z-K)*(W-$)>=(X-K)*(k-$)&&(X-K)*(G-$)>=(L-K)*(W-$)&&(L-K)*(k-$)>=(z-K)*(G-$)}function g(X,W){return X.next.i!==W.i&&X.prev.i!==W.i&&!A(X,W)&&(D(X,W)&&D(W,X)&&B(X,W)&&(T(X.prev,X,W.prev)||T(X,W.prev,W))||S(X,W)&&T(X.prev,X,X.next)>0&&T(W.prev,W,W.next)>0)}function T(X,W,L){return(W.y-X.y)*(L.x-W.x)-(W.x-X.x)*(L.y-W.y)}function S(X,W){return X.x===W.x&&X.y===W.y}function C(X,W,L,G){var z=b(T(X,W,L)),k=b(T(X,W,G)),K=b(T(L,G,X)),$=b(T(L,G,W));return!!(z!==k&&K!==$||z===0&&w(X,L,W)||k===0&&w(X,G,W)||K===0&&w(L,X,G)||$===0&&w(L,W,G))}function w(X,W,L){return W.x<=Math.max(X.x,L.x)&&W.x>=Math.min(X.x,L.x)&&W.y<=Math.max(X.y,L.y)&&W.y>=Math.min(X.y,L.y)}function b(X){return X>0?1:X<0?-1:0}function A(X,W){var L=X;do{if(L.i!==X.i&&L.next.i!==X.i&&L.i!==W.i&&L.next.i!==W.i&&C(L,L.next,X,W))return!0;L=L.next}while(L!==X);return!1}function D(X,W){return T(X.prev,X,X.next)<0?T(X,W,X.next)>=0&&T(X,X.prev,W)>=0:T(X,W,X.prev)<0||T(X,X.next,W)<0}function B(X,W){var L=X,G=!1,z=(X.x+W.x)/2,k=(X.y+W.y)/2;do L.y>k!=L.next.y>k&&L.next.y!==L.y&&z<(L.next.x-L.x)*(k-L.y)/(L.next.y-L.y)+L.x&&(G=!G),L=L.next;while(L!==X);return G}function N(X,W){var L=new j(X.i,X.x,X.y),G=new j(W.i,W.x,W.y),z=X.next,k=W.prev;return X.next=W,W.prev=X,L.next=z,z.prev=L,G.next=L,L.prev=G,k.next=G,G.prev=k,G}function Y(X,W,L,G){var z=new j(X,W,L);return G?(z.next=G.next,z.prev=G,G.next.prev=z,G.next=z):(z.prev=z,z.next=z),z}function H(X){X.next.prev=X.prev,X.prev.next=X.next,X.prevZ&&(X.prevZ.nextZ=X.nextZ),X.nextZ&&(X.nextZ.prevZ=X.prevZ)}function j(X,W,L){this.i=X,this.x=W,this.y=L,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(X,W,L,G){var z=W&&W.length,k=z?W[0]*L:X.length,K=Math.abs(J(X,0,k,L));if(z)for(var $=0,Q=W.length;$<Q;$++){var _=W[$]*L,tt=$<Q-1?W[$+1]*L:X.length;K-=Math.abs(J(X,_,tt,L))}var nt=0;for($=0;$<G.length;$+=3){var st=G[$]*L,at=G[$+1]*L,rt=G[$+2]*L;nt+=Math.abs((X[st]-X[rt])*(X[at+1]-X[st+1])-(X[st]-X[at])*(X[rt+1]-X[st+1]))}return K===0&&nt===0?0:Math.abs((nt-K)/K)};function J(X,W,L,G){for(var z=0,k=W,K=L-G;k<L;k+=G)z+=(X[K]-X[k])*(X[k+1]+X[K+1]),K=k;return z}x.flatten=function(X){for(var W=X[0][0].length,L={vertices:[],holes:[],dimensions:W},G=0,z=0;z<X.length;z++){for(var k=0;k<X[z].length;k++)for(var K=0;K<W;K++)L.vertices.push(X[z][k][K]);z>0&&(G+=X[z-1].length,L.holes.push(G))}return L},v.exports=x},14045:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r){r===void 0&&(r=new l);for(var s=1/0,e=1/0,i=-s,h=-e,n,o=0;o<a.points.length;o++)n=a.points[o],s=Math.min(s,n.x),e=Math.min(e,n.y),i=Math.max(i,n.x),h=Math.max(h,n.y);return r.x=s,r.y=e,r.width=i-s,r.height=h-e,r};v.exports=c},98286:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=[]);for(var c=0;c<t.points.length;c++)l.push(t.points[c].x),l.push(t.points[c].y);return l};v.exports=x},89294:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=t(88829),a=t(5159),r=function(s,e,i,h){h===void 0&&(h=[]);var n=s.points,o=a(s);!e&&i>0&&(e=o/i);for(var f=0;f<e;f++)for(var u=o*(f/e),d=0,p=0;p<n.length;p++){var m=n[p],y=n[(p+1)%n.length],g=new c(m.x,m.y,y.x,y.y),T=l(g);if(u<d||u>d+T){d+=T;continue}var S=g.getPoint((u-d)/T);h.push(S);break}return h};v.exports=r},5159:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=t(88829),a=function(r){for(var s=r.points,e=0,i=0;i<s.length;i++){var h=s[i],n=s[(i+1)%s.length],o=new c(h.x,h.y,n.x,n.y);e+=l(o)}return e};v.exports=a},8580:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(45604),a=t(89294),r=t(52394),s=new l({initialize:function(i){this.type=r.POLYGON,this.area=0,this.points=[],i&&this.setTo(i)},contains:function(e,i){return c(this,e,i)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var i,h=Number.MAX_VALUE,n=0;n<e.length;n++)i={x:0,y:0},typeof e[n]=="number"||typeof e[n]=="string"?(i.x=parseFloat(e[n]),i.y=parseFloat(e[n+1]),n++):Array.isArray(e[n])?(i.x=e[n][0],i.y=e[n][1]):(i.x=e[n].x,i.y=e[n].y),this.points.push(i),i.y<h&&(h=i.y);return this.calculateArea(h),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,i,h,n=0;n<this.points.length-1;n++)i=this.points[n],h=this.points[n+1],e+=(h.x-i.x)*(i.y+h.y);return i=this.points[0],h=this.points[this.points.length-1],e+=(i.x-h.x)*(h.y+i.y),this.area=-e*.5,this.area},getPoints:function(e,i,h){return a(this,e,i,h)}});v.exports=s},32244:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.points.reverse(),t};v.exports=x},95874:v=>{function x(s,e){var i=s.x-e.x,h=s.y-e.y;return i*i+h*h}function t(s,e,i){var h=e.x,n=e.y,o=i.x-h,f=i.y-n;if(o!==0||f!==0){var u=((s.x-h)*o+(s.y-n)*f)/(o*o+f*f);u>1?(h=i.x,n=i.y):u>0&&(h+=o*u,n+=f*u)}return o=s.x-h,f=s.y-n,o*o+f*f}function l(s,e){for(var i=s[0],h=[i],n,o=1,f=s.length;o<f;o++)n=s[o],x(n,i)>e&&(h.push(n),i=n);return i!==n&&h.push(n),h}function c(s,e,i,h,n){for(var o=h,f,u=e+1;u<i;u++){var d=t(s[u],s[e],s[i]);d>o&&(f=u,o=d)}o>h&&(f-e>1&&c(s,e,f,h,n),n.push(s[f]),i-f>1&&c(s,f,i,h,n))}function a(s,e){var i=s.length-1,h=[s[0]];return c(s,0,i,e,h),h.push(s[i]),h}var r=function(s,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var h=s.points;if(h.length>2){var n=e*e;i||(h=l(h,n)),s.setTo(a(h,n))}return s};v.exports=r},18974:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(l,c){return l[0]=c[0],l[1]=c[1],l},t=function(l){var c,a=[],r=l.points;for(c=0;c<r.length;c++)a.push([r[c].x,r[c].y]);var s=[];for(a.length>0&&s.push(x([0,0],a[0])),c=0;c<a.length-1;c++){var e=a[c],i=a[c+1],h=e[0],n=e[1],o=i[0],f=i[1];s.push([.85*h+.15*o,.85*n+.15*f]),s.push([.15*h+.85*o,.15*n+.85*f])}return a.length>1&&s.push(x([0,0],a[a.length-1])),l.setTo(s)};v.exports=t},23490:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=l,a[r].y+=c;return t};v.exports=x},44359:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8580);l.Clone=t(19631),l.Contains=t(45604),l.ContainsPoint=t(87289),l.Earcut=t(11117),l.GetAABB=t(14045),l.GetNumberArray=t(98286),l.GetPoints=t(89294),l.Perimeter=t(5159),l.Reverse=t(32244),l.Simplify=t(95874),l.Smooth=t(18974),l.Translate=t(23490),v.exports=l},1653:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.width*t.height};v.exports=x},33943:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=x},58662:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=x},79993:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x=l-t.width/2,t.y=c-t.height/2,t};v.exports=x},81572:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a){return new l(a.x,a.y,a.width,a.height)};v.exports=c},94287:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.width<=0||t.height<=0?!1:t.x<=l&&t.x+t.width>=l&&t.y<=c&&t.y+t.height>=c};v.exports=x},28687:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94287),c=function(a,r){return l(a,r.x,r.y)};v.exports=c},73222:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.width*l.height>t.width*t.height?!1:l.x>t.x&&l.x<t.right&&l.right>t.x&&l.right<t.right&&l.y>t.y&&l.y<t.bottom&&l.bottom>t.y&&l.bottom<t.bottom};v.exports=x},29538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x,t.y,t.width,t.height)};v.exports=x},87279:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x,y:t.y}),l.push({x:t.right,y:t.y}),l.push({x:t.right,y:t.bottom}),l.push({x:t.x,y:t.bottom}),l};v.exports=x},19989:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x===l.x&&t.y===l.y&&t.width===l.width&&t.height===l.height};v.exports=x},92628:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6700),c=function(a,r){var s=l(a);return s<l(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=c},85028:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6700),c=function(a,r){var s=l(a);return s>l(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=c},71356:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=x},21687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=x},80222:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=t(83392),a=function(r,s){if(s===void 0&&(s=new l),r.length===0)return s;for(var e=Number.MAX_VALUE,i=Number.MAX_VALUE,h=c.MIN_SAFE_INTEGER,n=c.MIN_SAFE_INTEGER,o,f,u,d=0;d<r.length;d++)o=r[d],Array.isArray(o)?(f=o[0],u=o[1]):(f=o.x,u=o.y),e=Math.min(e,f),i=Math.min(i,u),h=Math.max(h,f),n=Math.max(n,u);return s.x=e,s.y=i,s.width=h-e,s.height=n-i,s};v.exports=a},75785:(v,x,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r,s,e,i){return i===void 0&&(i=new l),i.setTo(Math.min(a,s),Math.min(r,e),Math.abs(a-s),Math.abs(r-e))};v.exports=c},6700:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.height===0?NaN:t.width/t.height};v.exports=x},35242:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.x=a.centerX,r.y=a.centerY,r};v.exports=c},47698:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85876),c=t(79967),a=function(r,s,e){if(e===void 0&&(e=new c),s<=0||s>=1)return e.x=r.x,e.y=r.y,e;var i=l(r)*s;return s>.5?(i-=r.width+r.height,i<=r.width?(e.x=r.right-i,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(i-r.width))):i<=r.width?(e.x=r.x+i,e.y=r.y):(e.x=r.right,e.y=r.y+(i-r.width)),e};v.exports=a},54932:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47698),c=t(85876),a=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=c(r)/e);for(var h=0;h<s;h++){var n=h/s;i.push(l(r,n))}return i};v.exports=a},31591:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.x=a.width,r.y=a.height,r};v.exports=c},7782:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79993),c=function(a,r,s){var e=a.centerX,i=a.centerY;return a.setSize(a.width+r*2,a.height+s*2),l(a,e,i)};v.exports=c},66217:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=t(90205),a=function(r,s,e){return e===void 0&&(e=new l),c(r,s)?(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y):e.setEmpty(),e};v.exports=a},40053:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(85876),c=t(79967),a=function(r,s,e,i){if(i===void 0&&(i=[]),!s&&!e)return i;s?e=Math.round(l(r)/s):s=l(r)/e;for(var h=r.x,n=r.y,o=0,f=0;f<e;f++)switch(i.push(new c(h,n)),o){case 0:h+=s,h>=r.right&&(o=1,n+=h-r.right,h=r.right);break;case 1:n+=s,n>=r.bottom&&(o=2,h-=n-r.bottom,n=r.bottom);break;case 2:h-=s,h<=r.left&&(o=3,n-=r.left-h,h=r.left);break;case 3:n-=s,n<=r.top&&(o=0,n=r.top);break}return i};v.exports=a},86673:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){for(var c=t.x,a=t.right,r=t.y,s=t.bottom,e=0;e<l.length;e++)c=Math.min(c,l[e].x),a=Math.max(a,l[e].x),r=Math.min(r,l[e].y),s=Math.max(s,l[e].y);return t.x=c,t.y=r,t.width=a-c,t.height=s-r,t};v.exports=x},14655:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=Math.min(t.x,l.x),a=Math.max(t.right,l.right);t.x=c,t.width=a-c;var r=Math.min(t.y,l.y),s=Math.max(t.bottom,l.bottom);return t.y=r,t.height=s-r,t};v.exports=x},44755:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=Math.min(t.x,l),r=Math.max(t.right,l);t.x=a,t.width=r-a;var s=Math.min(t.y,c),e=Math.max(t.bottom,c);return t.y=s,t.height=e-s,t};v.exports=x},74466:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x+=l,t.y+=c,t};v.exports=x},55946:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x+=l.x,t.y+=l.y,t};v.exports=x},97474:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x<l.right&&t.right>l.x&&t.y<l.bottom&&t.bottom>l.y};v.exports=x},85876:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 2*(t.width+t.height)};v.exports=x},20243:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(75606),a=function(r,s,e){e===void 0&&(e=new l),s=c(s);var i=Math.sin(s),h=Math.cos(s),n=h>0?r.width/2:r.width/-2,o=i>0?r.height/2:r.height/-2;return Math.abs(n*i)<Math.abs(o*h)?o=n*i/h:n=o*h/i,e.x=n+r.centerX,e.y=o+r.centerY,e};v.exports=a},30001:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};v.exports=c},97691:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),c=t(73222),a=t(79967),r=function(s,e,i){if(i===void 0&&(i=new a),c(s,e))switch(l(0,3)){case 0:i.x=s.x+Math.random()*(e.right-s.x),i.y=s.y+Math.random()*(e.top-s.y);break;case 1:i.x=e.x+Math.random()*(s.right-e.x),i.y=e.bottom+Math.random()*(s.bottom-e.bottom);break;case 2:i.x=s.x+Math.random()*(e.x-s.x),i.y=e.y+Math.random()*(s.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(s.right-e.right),i.y=s.y+Math.random()*(e.bottom-s.y);break}return i};v.exports=r},74118:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(94287),a=t(47698),r=t(54932),s=t(52394),e=t(88829),i=t(30001),h=new l({initialize:function(o,f,u,d){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.RECTANGLE,this.x=o,this.y=f,this.width=u,this.height=d},contains:function(n,o){return c(this,n,o)},getPoint:function(n,o){return a(this,n,o)},getPoints:function(n,o,f){return r(this,n,o,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,o,f,u){return this.x=n,this.y=o,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,o){return o===void 0&&(o=n),this.x=n,this.y=o,this},setSize:function(n,o){return o===void 0&&(o=n),this.width=n,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});v.exports=h},51828:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.width===l.width&&t.height===l.height};v.exports=x},5691:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c===void 0&&(c=l),t.width*=l,t.height*=c,t};v.exports=x},58795:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=function(a,r,s){s===void 0&&(s=new l);var e=Math.min(a.x,r.x),i=Math.min(a.y,r.y),h=Math.max(a.right,r.right)-e,n=Math.max(a.bottom,r.bottom)-i;return s.setTo(e,i,h,n)};v.exports=c},66658:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118);l.Area=t(1653),l.Ceil=t(33943),l.CeilAll=t(58662),l.CenterOn=t(79993),l.Clone=t(81572),l.Contains=t(94287),l.ContainsPoint=t(28687),l.ContainsRect=t(73222),l.CopyFrom=t(29538),l.Decompose=t(87279),l.Equals=t(19989),l.FitInside=t(92628),l.FitOutside=t(85028),l.Floor=t(71356),l.FloorAll=t(21687),l.FromPoints=t(80222),l.FromXY=t(75785),l.GetAspectRatio=t(6700),l.GetCenter=t(35242),l.GetPoint=t(47698),l.GetPoints=t(54932),l.GetSize=t(31591),l.Inflate=t(7782),l.Intersection=t(66217),l.MarchingAnts=t(40053),l.MergePoints=t(86673),l.MergeRect=t(14655),l.MergeXY=t(44755),l.Offset=t(74466),l.OffsetPoint=t(55946),l.Overlaps=t(97474),l.Perimeter=t(85876),l.PerimeterPoint=t(20243),l.Random=t(30001),l.RandomOutside=t(97691),l.SameDimensions=t(51828),l.Scale=t(5691),l.Union=t(58795),v.exports=l},19108:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=t.x1,c=t.y1,a=t.x2,r=t.y2,s=t.x3,e=t.y3;return Math.abs(((s-l)*(r-c)-(a-l)*(e-c))/2)};v.exports=x},41199:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),c=function(a,r,s){var e=s*(Math.sqrt(3)/2),i=a,h=r,n=a+s/2,o=r+e,f=a-s/2,u=r+e;return new l(i,h,n,o,f,u)};v.exports=c},88730:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11117),c=t(66349),a=function(r,s,e,i,h){s===void 0&&(s=null),e===void 0&&(e=1),i===void 0&&(i=1),h===void 0&&(h=[]);for(var n=l(r,s),o,f,u,d,p,m,y,g,T,S=0;S<n.length;S+=3)o=n[S],f=n[S+1],u=n[S+2],d=r[o*2]*e,p=r[o*2+1]*i,m=r[f*2]*e,y=r[f*2+1]*i,g=r[u*2]*e,T=r[u*2+1]*i,h.push(new c(d,p,m,y,g,T));return h};v.exports=a},3635:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),c=function(a,r,s,e){e===void 0&&(e=s);var i=a,h=r,n=a,o=r-e,f=a+s,u=r;return new l(i,h,n,o,f,u)};v.exports=c},1882:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56595),c=t(9640),a=function(r,s,e,i){i===void 0&&(i=l);var h=i(r),n=s-h.x,o=e-h.y;return c(r,n,o)};v.exports=a},56595:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){return r===void 0&&(r=new l),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};v.exports=c},91835:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736);function c(r,s,e,i){return r*i-s*e}var a=function(r,s){s===void 0&&(s=new l);var e=r.x3,i=r.y3,h=r.x1-e,n=r.y1-i,o=r.x2-e,f=r.y2-i,u=2*c(h,n,o,f),d=c(n,h*h+n*n,f,o*o+f*f),p=c(h,h*h+n*n,o,o*o+f*f);return s.x=e-d/u,s.y=i+p/u,s};v.exports=a},97073:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),c=function(a,r){r===void 0&&(r=new l);var s=a.x1,e=a.y1,i=a.x2,h=a.y2,n=a.x3,o=a.y3,f=i-s,u=h-e,d=n-s,p=o-e,m=f*(s+i)+u*(e+h),y=d*(s+n)+p*(e+o),g=2*(f*(o-h)-u*(n-i)),T,S;if(Math.abs(g)<1e-6){var C=Math.min(s,i,n),w=Math.min(e,h,o);T=(Math.max(s,i,n)-C)*.5,S=(Math.max(e,h,o)-w)*.5,r.x=C+T,r.y=w+S,r.radius=Math.sqrt(T*T+S*S)}else r.x=(p*m-u*y)/g,r.y=(f*y-d*m)/g,T=r.x-s,S=r.y-e,r.radius=Math.sqrt(T*T+S*S);return r};v.exports=c},75974:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349),c=function(a){return new l(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=c},60689:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,e=t.y2-t.y1,i=l-t.x1,h=c-t.y1,n=a*a+r*r,o=a*s+r*e,f=a*i+r*h,u=s*s+e*e,d=s*i+e*h,p=n*u-o*o,m=p===0?0:1/p,y=(u*f-o*d)*m,g=(n*d-o*f)*m;return y>=0&&g>=0&&y+g<1};v.exports=x},86875:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c===void 0&&(c=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,s=t.y3-t.y1,e=t.x2-t.x1,i=t.y2-t.y1,h=r*r+s*s,n=r*e+s*i,o=e*e+i*i,f=h*o-n*n,u=f===0?0:1/f,d,p,m,y,g,T,S=t.x1,C=t.y1,w=0;w<l.length&&(m=l[w].x-S,y=l[w].y-C,g=r*m+s*y,T=e*m+i*y,d=(o*g-n*T)*u,p=(h*T-n*g)*u,!(d>=0&&p>=0&&d+p<1&&(a.push({x:l[w].x,y:l[w].y}),c)));w++);return a};v.exports=x},51532:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60689),c=function(a,r){return l(a,r.x,r.y)};v.exports=c},42538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=x},18680:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=[]),l.push({x:t.x1,y:t.y1}),l.push({x:t.x2,y:t.y2}),l.push({x:t.x3,y:t.y3}),l};v.exports=x},29977:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.x1===l.x1&&t.y1===l.y1&&t.x2===l.x2&&t.y2===l.y2&&t.x3===l.x3&&t.y3===l.y3};v.exports=x},56088:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=t(16028),a=function(r,s,e){e===void 0&&(e=new l);var i=r.getLineA(),h=r.getLineB(),n=r.getLineC();if(s<=0||s>=1)return e.x=i.x1,e.y=i.y1,e;var o=c(i),f=c(h),u=c(n),d=o+f+u,p=d*s,m=0;return p<o?(m=p/o,e.x=i.x1+(i.x2-i.x1)*m,e.y=i.y1+(i.y2-i.y1)*m):p>o+f?(p-=o+f,m=p/u,e.x=n.x1+(n.x2-n.x1)*m,e.y=n.y1+(n.y2-n.y1)*m):(p-=o,m=p/f,e.x=h.x1+(h.x2-h.x1)*m,e.y=h.y1+(h.y2-h.y1)*m),e};v.exports=a},24402:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=t(79967),a=function(r,s,e,i){i===void 0&&(i=[]);var h=r.getLineA(),n=r.getLineB(),o=r.getLineC(),f=l(h),u=l(n),d=l(o),p=f+u+d;!s&&e>0&&(s=p/e);for(var m=0;m<s;m++){var y=p*(m/s),g=0,T=new c;y<f?(g=y/f,T.x=h.x1+(h.x2-h.x1)*g,T.y=h.y1+(h.y2-h.y1)*g):y>f+u?(y-=f+u,g=y/d,T.x=o.x1+(o.x2-o.x1)*g,T.y=o.y1+(o.y2-o.y1)*g):(y-=f,g=y/u,T.x=n.x1+(n.x2-n.x1)*g,T.y=n.y1+(n.y2-n.y1)*g),i.push(T)}return i};v.exports=a},83648:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967);function c(r,s,e,i){var h=r-e,n=s-i,o=h*h+n*n;return Math.sqrt(o)}var a=function(r,s){s===void 0&&(s=new l);var e=r.x1,i=r.y1,h=r.x2,n=r.y2,o=r.x3,f=r.y3,u=c(o,f,h,n),d=c(e,i,o,f),p=c(h,n,e,i),m=u+d+p;return s.x=(e*u+h*d+o*p)/m,s.y=(i*u+n*d+f*p)/m,s};v.exports=a},9640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t.x1+=l,t.y1+=c,t.x2+=l,t.y2+=c,t.x3+=l,t.y3+=c,t};v.exports=x},95290:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16028),c=function(a){var r=a.getLineA(),s=a.getLineB(),e=a.getLineC();return l(r)+l(s)+l(e)};v.exports=c},99761:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(79967),c=function(a,r){r===void 0&&(r=new l);var s=a.x2-a.x1,e=a.y2-a.y1,i=a.x3-a.x1,h=a.y3-a.y1,n=Math.random(),o=Math.random();return n+o>=1&&(n=1-n,o=1-o),r.x=a.x1+(s*n+i*o),r.y=a.y1+(e*n+h*o),r};v.exports=c},21934:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19211),c=t(83648),a=function(r,s){var e=c(r);return l(r,e.x,e.y,s)};v.exports=a},68454:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19211),c=function(a,r,s){return l(a,r.x,r.y,s)};v.exports=c},19211:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=Math.cos(a),s=Math.sin(a),e=t.x1-l,i=t.y1-c;return t.x1=e*r-i*s+l,t.y1=e*s+i*r+c,e=t.x2-l,i=t.y2-c,t.x2=e*r-i*s+l,t.y2=e*s+i*r+c,e=t.x3-l,i=t.y3-c,t.x3=e*r-i*s+l,t.y3=e*s+i*r+c,t};v.exports=x},66349:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(60689),a=t(56088),r=t(24402),s=t(52394),e=t(88829),i=t(99761),h=new l({initialize:function(o,f,u,d,p,m){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=s.TRIANGLE,this.x1=o,this.y1=f,this.x2=u,this.y2=d,this.x3=p,this.y3=m},contains:function(n,o){return c(this,n,o)},getPoint:function(n,o){return a(this,n,o)},getPoints:function(n,o,f){return r(this,n,o,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,o,f,u,d,p){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=n,this.y1=o,this.x2=f,this.y2=u,this.x3=d,this.y3=p,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}}});v.exports=h},87619:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66349);l.Area=t(19108),l.BuildEquilateral=t(41199),l.BuildFromPolygon=t(88730),l.BuildRight=t(3635),l.CenterOn=t(1882),l.Centroid=t(56595),l.CircumCenter=t(91835),l.CircumCircle=t(97073),l.Clone=t(75974),l.Contains=t(60689),l.ContainsArray=t(86875),l.ContainsPoint=t(51532),l.CopyFrom=t(42538),l.Decompose=t(18680),l.Equals=t(29977),l.GetPoint=t(56088),l.GetPoints=t(24402),l.InCenter=t(83648),l.Perimeter=t(95290),l.Offset=t(9640),l.Random=t(99761),l.Rotate=t(21934),l.RotateAroundPoint=t(68454),l.RotateAroundXY=t(19211),v.exports=l},27395:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};v.exports=x},18104:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return function(c,a,r,s){var e=t.getPixelAlpha(a,r,s.texture.key,s.frame.name);return e&&e>=l}};v.exports=x},69898:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72687),a=t(6659),r=t(33963),s=t(97081),e=t(71064),i=t(7905),h=t(40398),n=t(37579),o=t(69360),f=t(64462),u=new l({initialize:function(p,m){this.game=p,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new e(this):null,this.mouse=m.inputMouse?new i(this):null,this.touch=m.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers,m.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var y=0;y<=this.pointersTotal;y++){var g=new h(this,y);g.smoothFactor=m.inputSmoothFactor,this.pointers.push(g)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(s.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),p.on(s.PRE_RENDER,this.preRender,this),p.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var y=0;y<m.length;y++){var g=m[y];if(g.sys.input&&g.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var m=0;m<d;m++){var y=this.pointers.length,g=new h(this,y);g.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(g),this.pointersTotal++,p.push(g)}return p},updateInputPlugins:function(d,p){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var y=0;y<m.length;y++){var g=m[y];if(g.sys.input){var T=g.sys.input.update(d,p);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var g=d.changedTouches[y],T=1;T<this.pointersTotal;T++){var S=p[T];if(!S.active){S.touchstart(g,d),this.activePointer=S,m.push(S);break}}this.updateInputPlugins(c.TOUCH_START,m)},onTouchMove:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var g=d.changedTouches[y],T=1;T<this.pointersTotal;T++){var S=p[T];if(S.active&&S.identifier===g.identifier){var C=document.elementFromPoint(g.pageX,g.pageY),w=C===this.canvas;!this.isOver&&w?this.setCanvasOver(d):this.isOver&&!w&&this.setCanvasOut(d),this.isOver&&(S.touchmove(g,d),this.activePointer=S,m.push(S));break}}this.updateInputPlugins(c.TOUCH_MOVE,m)},onTouchEnd:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var g=d.changedTouches[y],T=1;T<this.pointersTotal;T++){var S=p[T];if(S.active&&S.identifier===g.identifier){S.touchend(g,d),m.push(S);break}}this.updateInputPlugins(c.TOUCH_END,m)},onTouchCancel:function(d){for(var p=this.pointers,m=[],y=0;y<d.changedTouches.length;y++)for(var g=d.changedTouches[y],T=1;T<this.pointersTotal;T++){var S=p[T];if(S.active&&S.identifier===g.identifier){S.touchcancel(g,d),m.push(S);break}}this.updateInputPlugins(c.TOUCH_CANCEL,m)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(r.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var m=d.input;if(!m||!m.enabled||!d.willRender(p))return!1;var y=!0,g=d.parentContainer;if(g)do{if(!g.willRender(p)){y=!1;break}g=g.parentContainer}while(g);return y},hitTest:function(d,p,m,y){y===void 0&&(y=this._tempHitTest);var g=this._tempPoint,T=m.scrollX,S=m.scrollY;y.length=0;var C=d.x,w=d.y;m.getWorldPoint(C,w,g),d.worldX=g.x,d.worldY=g.y;for(var b={x:0,y:0},A=this._tempMatrix,D=this._tempMatrix2,B=0;B<p.length;B++){var N=p[B];if(this.inputCandidate(N,m)){var Y=g.x+T*N.scrollFactorX-T,H=g.y+S*N.scrollFactorY-S;N.parentContainer?(N.getWorldTransformMatrix(A,D),A.applyInverse(Y,H,b)):f(Y,H,N.x,N.y,N.rotation,N.scaleX,N.scaleY,b),this.pointWithinHitArea(N,b.x,b.y)&&y.push(N)}}return y},pointWithinHitArea:function(d,p,m){p+=d.displayOriginX,m+=d.displayOriginY;var y=d.input;return y&&y.hitAreaCallback(y.hitArea,p,m,d)?(y.localX=p,y.localY=m,!0):!1},pointWithinInteractiveObject:function(d,p,m){return d.hitArea?(p+=d.gameObject.displayOriginX,m+=d.gameObject.displayOriginY,d.localX=p,d.localY=m,d.hitAreaCallback(d.hitArea,p,m,d)):!1},transformPointer:function(d,p,m,y){var g=d.position,T=d.prevPosition;T.x=g.x,T.y=g.y;var S=this.scaleManager.transformX(p),C=this.scaleManager.transformY(m),w=d.smoothFactor;!y||w===0?(g.x=S,g.y=C):(g.x=S*w+T.x*(1-w),g.y=C*w+T.y*(1-w))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=u},12499:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(26673),c=t(65650),a=t(56694),r=t(72687),s=t(27395),e=t(18104),i=t(53996),h=t(95669),n=t(72313),o=t(33963),f=t(6659),u=t(72632),d=t(52394),p=t(63399),m=t(42911),y=t(91963),g=t(74118),T=t(94287),S=t(7599),C=t(66349),w=t(60689),b=new a({Extends:f,initialize:function(D){f.call(this),this.scene=D,this.systems=D.sys,this.settings=D.sys.settings,this.manager=D.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,D.sys.events.once(S.BOOT,this.boot,this),D.sys.events.on(S.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(S.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var A=this.systems.events;A.on(S.TRANSITION_START,this.transitionIn,this),A.on(S.TRANSITION_OUT,this.transitionOut,this),A.on(S.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(S.PRE_UPDATE,this.preUpdate,this),A.once(S.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(A){this.isActive()&&this.emit(o.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(o.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var A=this._pendingRemoval,D=this._pendingInsertion,B=A.length,N=D.length;if(!(B===0&&N===0)){for(var Y=this._list,H=0;H<B;H++){var j=A[H],J=Y.indexOf(j);J>-1&&(Y.splice(J,1),this.clear(j,!0))}this._pendingRemoval.length=0,this._list=Y.concat(D.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(A,D){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,A,D),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,N=this.manager,Y=N.pointers,H=N.pointersTotal;for(B=0;B<H;B++)Y[B].updateMotion();if(this._list.length===0)return!1;var j=this.pollRate;if(j===-1)return!1;if(j>0)if(this._pollTimer-=D,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var J=!1;for(B=0;B<H;B++){var X=0,W=Y[B];this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(W),this.getDragState(W)===2&&this.processDragThresholdEvent(W,A),X>0&&(J=!0)}return J},update:function(A,D){if(!this.isActive())return!1;for(var B=D.length,N=!1,Y=0;Y<B;Y++){var H=0,j=D[Y];switch(this._tempZones=[],this._temp=this.hitTestPointer(j),this.sortGameObjects(this._temp,j),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case r.MOUSE_DOWN:H+=this.processDragDownEvent(j),H+=this.processDownEvents(j),H+=this.processOverOutEvents(j);break;case r.MOUSE_UP:H+=this.processDragUpEvent(j),H+=this.processUpEvents(j),H+=this.processOverOutEvents(j);break;case r.TOUCH_START:H+=this.processDragDownEvent(j),H+=this.processDownEvents(j),H+=this.processOverEvents(j);break;case r.TOUCH_END:case r.TOUCH_CANCEL:H+=this.processDragUpEvent(j),H+=this.processUpEvents(j),H+=this.processOutEvents(j);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:H+=this.processDragMoveEvent(j),H+=this.processMoveEvents(j),H+=this.processOverOutEvents(j);break;case r.MOUSE_WHEEL:H+=this.processWheelEvent(j);break}H>0&&(N=!0)}return this._updatedThisFrame=!0,N},clear:function(A,D){D===void 0&&(D=!1),this.disable(A);var B=A.input;B&&(this.removeDebug(A),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,A.input=null),D||this.queueForRemoval(A);var N=this._draggable.indexOf(A);return N>-1&&this._draggable.splice(N,1),A},disable:function(A){var D=A.input;D&&(D.enabled=!1,D.dragState=0);var B=this._temp,N=this._drag,Y=this._over,H=this.manager,j=B.indexOf(A);j>-1&&B.splice(j,1);for(var J=0;J<H.pointersTotal;J++)j=N[J].indexOf(A),j>-1&&N[J].splice(j,1),j=Y[J].indexOf(A),j>-1&&(Y[J].splice(j,1),H.resetCursor(D));return this},enable:function(A,D,B,N){return N===void 0&&(N=!1),A.input?A.input.enabled=!0:this.setHitArea(A,D,B),A.input&&N&&!A.input.dropZone&&(A.input.dropZone=N),this},hitTestPointer:function(A){for(var D=this.cameras.getCamerasBelowPointer(A),B=0;B<D.length;B++){for(var N=D[B],Y=this.manager.hitTest(A,this._list,N),H=0;H<Y.length;H++){var j=Y[H];j.input.dropZone&&this._tempZones.push(j)}if(Y.length>0)return A.camera=N,Y}return A.camera=D[0],[]},processDownEvents:function(A){var D=0,B=this._temp,N=this._eventData,Y=this._eventContainer;N.cancelled=!1;for(var H=!1,j=0;j<B.length;j++){var J=B[j];if(!(!J.input||!J.input.enabled)){if(D++,J.emit(o.GAMEOBJECT_POINTER_DOWN,A,J.input.localX,J.input.localY,Y),N.cancelled||!J.input||!J.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,A,J,Y),N.cancelled||!J.input){H=!0;break}}}return!H&&this.manager&&(A.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,A,B):this.emit(o.POINTER_DOWN_OUTSIDE,A)),D},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,D){this._dragState[A.id]=D},processDragThresholdEvent:function(A,D){var B=!1,N=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&i(A.x,A.y,A.downX,A.downY)>=Y||N>0&&D>=A.downTime+N)&&(B=!0),B)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;for(var D=this._drag[A.id],B=0;B<D.length;B++){var N=D[B],Y=N.input;Y.dragState=2,Y.dragStartX=N.x,Y.dragStartY=N.y,Y.dragStartXGlobal=A.worldX,Y.dragStartYGlobal=A.worldY,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,N.emit(o.GAMEOBJECT_DRAG_START,A,Y.dragX,Y.dragY),this.emit(o.DRAG_START,A,N)}return this.setDragState(A,4),D.length},processDragDownEvent:function(A){var D=this._temp;if(this._draggable.length===0||D.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var B=[],N=0;N<D.length;N++){var Y=D[N];Y.input.draggable&&Y.input.dragState===0&&B.push(Y)}return B.length===0?(this.setDragState(A,0),0):(B.length>1&&(this.sortGameObjects(B,A),this.topOnly&&B.splice(1)),this._drag[A.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;for(var D=this._tempZones,B=this._drag[A.id],N=0;N<B.length;N++){var Y=B[N],H=Y.input,j=H.target;if(j){var J=D.indexOf(j);J===0?(Y.emit(o.GAMEOBJECT_DRAG_OVER,A,j),this.emit(o.DRAG_OVER,A,Y,j)):J>0?(Y.emit(o.GAMEOBJECT_DRAG_LEAVE,A,j),this.emit(o.DRAG_LEAVE,A,Y,j),H.target=D[0],j=H.target,Y.emit(o.GAMEOBJECT_DRAG_ENTER,A,j),this.emit(o.DRAG_ENTER,A,Y,j)):(Y.emit(o.GAMEOBJECT_DRAG_LEAVE,A,j),this.emit(o.DRAG_LEAVE,A,Y,j),D[0]?(H.target=D[0],j=H.target,Y.emit(o.GAMEOBJECT_DRAG_ENTER,A,j),this.emit(o.DRAG_ENTER,A,Y,j)):H.target=null)}else!j&&D[0]&&(H.target=D[0],j=H.target,Y.emit(o.GAMEOBJECT_DRAG_ENTER,A,j),this.emit(o.DRAG_ENTER,A,Y,j));var X,W;if(!Y.parentContainer)X=A.worldX-H.dragX,W=A.worldY-H.dragY;else{var L=A.worldX-H.dragStartXGlobal,G=A.worldY-H.dragStartYGlobal,z=Y.getParentRotation(),k=L*Math.cos(z)+G*Math.sin(z),K=G*Math.cos(z)-L*Math.sin(z);k*=1/Y.parentContainer.scaleX,K*=1/Y.parentContainer.scaleY,X=k+H.dragStartX,W=K+H.dragStartY}Y.emit(o.GAMEOBJECT_DRAG,A,X,W),this.emit(o.DRAG,A,Y,X,W)}return B.length},processDragUpEvent:function(A){for(var D=this._drag[A.id],B=0;B<D.length;B++){var N=D[B],Y=N.input;if(Y&&Y.dragState===2){Y.dragState=0,Y.dragX=Y.localX-N.displayOriginX,Y.dragY=Y.localY-N.displayOriginY;var H=!1,j=Y.target;j&&(N.emit(o.GAMEOBJECT_DROP,A,j),this.emit(o.DROP,A,N,j),Y.target=null,H=!0),N.input&&N.input.enabled&&(N.emit(o.GAMEOBJECT_DRAG_END,A,Y.dragX,Y.dragY,H),this.emit(o.DRAG_END,A,N,H))}}return this.setDragState(A,0),D.splice(0),0},processMoveEvents:function(A){var D=0,B=this._temp,N=this._eventData,Y=this._eventContainer;N.cancelled=!1;for(var H=!1,j=0;j<B.length;j++){var J=B[j];if(!(!J.input||!J.input.enabled)){if(D++,J.emit(o.GAMEOBJECT_POINTER_MOVE,A,J.input.localX,J.input.localY,Y),N.cancelled||!J.input||!J.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,A,J,Y),N.cancelled||!J.input||!J.input.enabled){H=!0;break}if(this.topOnly)break}}return H||this.emit(o.POINTER_MOVE,A,B),D},processWheelEvent:function(A){var D=0,B=this._temp,N=this._eventData,Y=this._eventContainer;N.cancelled=!1;for(var H=!1,j=A.deltaX,J=A.deltaY,X=A.deltaZ,W=0;W<B.length;W++){var L=B[W];if(!(!L.input||!L.input.enabled)){if(D++,L.emit(o.GAMEOBJECT_POINTER_WHEEL,A,j,J,X,Y),N.cancelled||!L.input||!L.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,A,L,j,J,X,Y),N.cancelled||!L.input||!L.input.enabled){H=!0;break}}}return H||this.emit(o.POINTER_WHEEL,A,B,j,J,X),D},processOverEvents:function(A){var D=this._temp,B=0,N=D.length,Y=[];if(N>0){var H=this.manager,j=this._eventData,J=this._eventContainer;j.cancelled=!1;for(var X=!1,W=0;W<N;W++){var L=D[W];if(!(!L.input||!L.input.enabled)){if(Y.push(L),H.setCursor(L.input),L.emit(o.GAMEOBJECT_POINTER_OVER,A,L.input.localX,L.input.localY,J),B++,j.cancelled||!L.input||!L.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_OVER,A,L,J),j.cancelled||!L.input||!L.input.enabled){X=!0;break}}}X||this.emit(o.POINTER_OVER,A,Y)}return this._over[A.id]=Y,B},processOutEvents:function(A){var D=this._over[A.id],B=0,N=D.length;if(N>0){var Y=this.manager,H=this._eventData,j=this._eventContainer;H.cancelled=!1;var J=!1;this.sortGameObjects(D,A);for(var X=0;X<N;X++){var W=D[X];if(W=D[X],!(!W.input||!W.input.enabled)){if(Y.resetCursor(W.input),W.emit(o.GAMEOBJECT_POINTER_OUT,A,j),B++,H.cancelled||!W.input||!W.input.enabled){J=!0;break}if(this.emit(o.GAMEOBJECT_OUT,A,W,j),H.cancelled||!W.input||!W.input.enabled){J=!0;break}J||this.emit(o.POINTER_OUT,A,D)}}this._over[A.id]=[]}return B},processOverOutEvents:function(A){var D=this._temp,B,N,Y=[],H=[],j=[],J=this._over[A.id],X=this._drag[A.id],W=this.manager;for(B=0;B<J.length;B++)N=J[B],D.indexOf(N)===-1&&X.indexOf(N)===-1?Y.push(N):j.push(N);for(B=0;B<D.length;B++)N=D[B],J.indexOf(N)===-1&&H.push(N);var L=Y.length,G=0,z=this._eventData,k=this._eventContainer;z.cancelled=!1;var K=!1;if(L>0){for(this.sortGameObjects(Y,A),B=0;B<L;B++)if(N=Y[B],!(!N.input||!N.input.enabled)){if(W.resetCursor(N.input),N.emit(o.GAMEOBJECT_POINTER_OUT,A,k),G++,z.cancelled||!N.input||!N.input.enabled){K=!0;break}if(this.emit(o.GAMEOBJECT_OUT,A,N,k),z.cancelled||!N.input||!N.input.enabled){K=!0;break}}K||this.emit(o.POINTER_OUT,A,Y)}if(L=H.length,z.cancelled=!1,K=!1,L>0){for(this.sortGameObjects(H,A),B=0;B<L;B++)if(N=H[B],!(!N.input||!N.input.enabled)){if(W.setCursor(N.input),N.emit(o.GAMEOBJECT_POINTER_OVER,A,N.input.localX,N.input.localY,k),G++,z.cancelled||!N.input||!N.input.enabled){K=!0;break}if(this.emit(o.GAMEOBJECT_OVER,A,N,k),z.cancelled||!N.input||!N.input.enabled){K=!0;break}}K||this.emit(o.POINTER_OVER,A,H)}return J=j.concat(H),this._over[A.id]=this.sortGameObjects(J,A),G},processUpEvents:function(A){var D=this._temp,B=this._eventData,N=this._eventContainer;B.cancelled=!1;for(var Y=!1,H=0;H<D.length;H++){var j=D[H];if(!(!j.input||!j.input.enabled)){if(j.emit(o.GAMEOBJECT_POINTER_UP,A,j.input.localX,j.input.localY,N),B.cancelled||!j.input||!j.input.enabled){Y=!0;break}if(this.emit(o.GAMEOBJECT_UP,A,j,N),B.cancelled||!j.input||!j.input.enabled){Y=!0;break}}}return!Y&&this.manager&&(A.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,A,D):this.emit(o.POINTER_UP_OUTSIDE,A)),D.length},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,D){D===void 0&&(D=!0),Array.isArray(A)||(A=[A]);for(var B=0;B<A.length;B++){var N=A[B];N.input.draggable=D;var Y=this._draggable.indexOf(N);D&&Y===-1?this._draggable.push(N):!D&&Y>-1&&this._draggable.splice(Y,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var D=this.systems.textures;return e(D,A)},setHitArea:function(A,D,B){if(D===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var N=!1,Y=!1,H=!1,j=!1,J=!1,X=!0;if(m(D)){var W=D;D=u(W,"hitArea",null),B=u(W,"hitAreaCallback",null),N=u(W,"draggable",!1),Y=u(W,"dropZone",!1),H=u(W,"cursor",!1),j=u(W,"useHandCursor",!1),J=u(W,"pixelPerfect",!1);var L=u(W,"alphaTolerance",1);J&&(D={},B=this.makePixelPerfect(L)),(!D||!B)&&(this.setHitAreaFromTexture(A),X=!1)}else typeof D=="function"&&!B&&(B=D,D={});for(var G=0;G<A.length;G++){var z=A[G];if(J&&z.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var k=z.input?z.input:s(z,D,B);k.customHitArea=X,k.dropZone=Y,k.cursor=j?"pointer":H,z.input=k,N&&this.setDraggable(z),this.queueForInsertion(z)}return this},setHitAreaCircle:function(A,D,B,N,Y){Y===void 0&&(Y=c);var H=new l(D,B,N);return this.setHitArea(A,H,Y)},setHitAreaEllipse:function(A,D,B,N,Y,H){H===void 0&&(H=n);var j=new h(D,B,N,Y);return this.setHitArea(A,j,H)},setHitAreaFromTexture:function(A,D){D===void 0&&(D=T),Array.isArray(A)||(A=[A]);for(var B=0;B<A.length;B++){var N=A[B],Y=N.frame,H=0,j=0;if(N.width?(H=N.width,j=N.height):Y&&(H=Y.realWidth,j=Y.realHeight),N.type==="Container"&&(H===0||j===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}H!==0&&j!==0&&(N.input=s(N,new g(0,0,H,j),D),this.queueForInsertion(N))}return this},setHitAreaRectangle:function(A,D,B,N,Y,H){H===void 0&&(H=T);var j=new g(D,B,N,Y);return this.setHitArea(A,j,H)},setHitAreaTriangle:function(A,D,B,N,Y,H,j,J){J===void 0&&(J=w);var X=new C(D,B,N,Y,H,j);return this.setHitArea(A,X,J)},enableDebug:function(A,D){D===void 0&&(D=65280);var B=A.input;if(!B||!B.hitArea)return this;var N=B.hitArea,Y=N.type,H=B.hitAreaDebug,j=this.systems.add,J=this.systems.updateList;H&&(J.remove(H),H.destroy(),H=null);var X=0,W=0;switch(Y){case d.CIRCLE:H=j.arc(0,0,N.radius),X=N.x-N.radius,W=N.y-N.radius;break;case d.ELLIPSE:H=j.ellipse(0,0,N.width,N.height),X=N.x-N.width/2,W=N.y-N.height/2;break;case d.LINE:H=j.line(0,0,N.x1,N.y1,N.x2,N.y2);break;case d.POLYGON:H=j.polygon(0,0,N.points);break;case d.RECTANGLE:H=j.rectangle(0,0,N.width,N.height),X=N.x,W=N.y;break;case d.TRIANGLE:H=j.triangle(0,0,N.x1,N.y1,N.x2,N.y2,N.x3,N.y3);break}return H&&(H.isFilled=!1,H.strokeColor=D,H.preUpdate=function(){H.setStrokeStyle(1/A.scale,H.strokeColor),H.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var L=A.x,G=A.y,z=A.rotation,k=A.scaleX,K=A.scaleY;if(A.parentContainer){var $=A.getWorldTransformMatrix();L=$.tx,G=$.ty,z=$.rotation,k=$.scaleX,K=$.scaleY}H.setRotation(z),H.setScale(k,K),H.setPosition(L+X*k,G+W*K),H.setScrollFactor(A.scrollFactorX,A.scrollFactorY),H.setDepth(A.depth)},J.add(H),B.hitAreaDebug=H),this},removeDebug:function(A){var D=A.input;if(D&&D.hitAreaDebug){var B=D.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),D.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A,D){if(A.length<2||!D.camera)return A;var B=D.camera.renderList;return A.sort(function(N,Y){var H=Math.max(B.indexOf(N),0),j=Math.max(B.indexOf(Y),0);return j-H})},sortDropZones:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(A,D){if(!A.parentContainer&&!D.parentContainer)return this.displayList.getIndex(D)-this.displayList.getIndex(A);if(A.parentContainer===D.parentContainer)return D.parentContainer.getIndex(D)-A.parentContainer.getIndex(A);if(A.parentContainer===D)return-1;if(D.parentContainer===A)return 1;for(var B=A.getIndexList(),N=D.getIndexList(),Y=Math.min(B.length,N.length),H=0;H<Y;H++){var j=B[H],J=N[H];if(j!==J)return J-j}return N.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var D=this.manager;D.canvas.style.cursor=D.defaultCursor;var B=this.systems.events;B.off(S.TRANSITION_START,this.transitionIn,this),B.off(S.TRANSITION_OUT,this.transitionOut,this),B.off(S.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(S.PRE_UPDATE,this.preUpdate,this),D.events.off(o.GAME_OUT,this.onGameOut,this),D.events.off(o.GAME_OVER,this.onGameOver,this),B.off(S.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,D=0;D<A.length;D++)A[D].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(S.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",b,"input"),v.exports=b},63399:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),c={},a={};a.register=function(r,s,e,i,h){c[r]={plugin:s,mapping:e,settingsKey:i,configKey:h}},a.getPlugin=function(r){return c[r]},a.install=function(r){var s=r.scene.sys,e=s.settings.input,i=s.game.config;for(var h in c){var n=c[h].plugin,o=c[h].mapping,f=c[h].settingsKey,u=c[h].configKey;l(e,f,i[u])&&(r[o]=new n(r))}},a.remove=function(r){c.hasOwnProperty(r)&&delete c[r]},v.exports=a},40398:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(90447),c=t(56694),a=t(53996),r=t(88456),s=t(44521),e=t(93736),i=t(36580),h=new c({initialize:function(o,f){this.manager=o,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var o=n.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(n,o){return n.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var n=this.position.x,o=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(n===f&&o===u)){var d=s(this.motionFactor,f,n),p=s(this.motionFactor,u,o);r(d,n,.1)&&(d=n),r(p,o,.1)&&(p=o),this.midPoint.set(d,p);var m=n-d,y=o-p;this.velocity.set(m,y),this.angle=l(d,p,n,o),this.distance=Math.sqrt(m*m+y*y)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),i.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,o){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,o){this.event=o,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,o){n===void 0&&(n=10),o===void 0&&(o=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,p=this.position.y,m=0;m<n;m++){var y=1/n*m;o[m]={x:s(y,f,d),y:s(y,u,p)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=h},72687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=x},14874:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},54168:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},526:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},81623:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},94472:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},9304:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},34265:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},50151:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},98134:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},56773:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},45824:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},39578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},72072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},82569:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},70833:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},81442:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},32936:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},99658:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},60515:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},55254:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},34782:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},41769:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},65588:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},61640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},49342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},82662:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},13058:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},52426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},78072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},1545:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},67137:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},27678:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},22257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},90379:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},88909:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},36548:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},18483:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},22355:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},7997:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},66318:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},94812:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},37310:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},24196:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},27053:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},29413:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},25165:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},33963:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s){this.pad=r,this.events=r.events,this.index=s,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=c},21274:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(43200),a=new l({initialize:function(s,e){this.pad=s,this.events=s.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var s=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,s,this,r),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,s,this,r),this.pad.emit(c.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},75956:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70848),c=t(21274),a=t(56694),r=t(6659),s=t(93736),e=new a({Extends:r,initialize:function(h,n){r.call(this),this.manager=h,this.pad=n,this.id=n.id,this.index=n.index;for(var o=[],f=0;f<n.buttons.length;f++)o.push(new c(this,f));this.buttons=o;var u=[];for(f=0;f<n.axes.length;f++)u.push(new l(this,f));this.axes=u,this.vibration=n.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var p={value:0};this._HAxisLeft=u[0]?u[0]:p,this._VAxisLeft=u[1]?u[1]:p,this._HAxisRight=u[2]?u[2]:p,this._VAxisRight=u[3]?u[3]:p,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(i){return this.axes[i].getValue()},setAxisThreshold:function(i){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=i},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(i){return this.buttons[i].value},isButtonDown:function(i){return this.buttons[i].pressed},update:function(i){if(!(i.timestamp<this._created)){var h,n=this.buttons,o=i.buttons,f=n.length;for(h=0;h<f;h++)n[h].update(o[h].value);var u=this.axes,d=i.axes;for(f=u.length,h=0;h<f;h++)u[h].update(d[h]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},1379:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(43200),r=t(75956),s=t(10850),e=t(63399),i=t(33963),h=new l({Extends:c,initialize:function(o){c.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(i.BOOT,this.boot,this),o.pluginEvents.on(i.START,this.start,this)},boot:function(){var n=this.scene.sys.game,o=this.settings.input,f=n.config;this.enabled=s(o,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=s(o,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,o=this.target,f=function(u){u.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(u))};this.onGamepadHandler=f,o.addEventListener("gamepadconnected",f,!1),o.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(i.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(i.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var o=this.gamepads,f=0;f<n.length;f++){var u=n[f];if(u){var d=u.id,p=u.index,m=o[p];if(m)m.id!==d?(m.destroy(),o[p]=new r(this,u)):m.update(u);else{var y=new r(this,u);o[p]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var n=[],o=this.gamepads,f=0;f<o.length;f++)o[f]&&n.push(o[f]);return n},getPad:function(n){for(var o=this.gamepads,f=0;f<o.length;f++)if(o[f]&&o[f].index===n)return o[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var o=this.queue.splice(0,n),f=0;f<n;f++){var u=o[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(a.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),v.exports=h},33171:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},36635:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},85724:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},55832:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},772:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},33608:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},43200:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72687),c=t(98611),a={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};a=c(!1,a,l),v.exports=a},71064:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),c=t(56694),a=t(97081),r=t(33963),s=t(11873),e=t(72283),i=new c({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(r.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!f&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(r.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!f&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var n=this.captures,o=0;o<h.length;o++){var f=h[o];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var n=this.captures,o=0;o<h.length;o++){var f=h[o];typeof f=="string"&&(f=s[f.toUpperCase()]),l(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=i},89666:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(94030),r=t(97081),s=t(10850),e=t(33963),i=t(63399),h=t(50165),n=t(11873),o=t(95625),f=t(48044),u=t(7599),d=t(84314),p=new l({Extends:c,initialize:function(y){c.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(e.BOOT,this.boot,this),y.pluginEvents.on(e.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=s(m,"keyboard",!0);var y=s(m,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(m,y,g){y===void 0&&(y=!0),g===void 0&&(g=!1);var T={};if(typeof m=="string"){m=m.split(",");for(var S=0;S<m.length;S++){var C=m[S].trim();C&&(T[C]=this.addKey(C,y,g))}}else for(var w in m)T[w]=this.addKey(m[w],y,g);return T},addKey:function(m,y,g){y===void 0&&(y=!0),g===void 0&&(g=!1);var T=this.keys;if(m instanceof h){var S=T.indexOf(m);return S>-1?T[S]=m:T[m.keyCode]=m,y&&this.addCapture(m.keyCode),m.setEmitOnRepeat(g),m}return typeof m=="string"&&(m=n[m.toUpperCase()]),T[m]||(T[m]=new h(this,m),y&&this.addCapture(m),T[m].setEmitOnRepeat(g)),T[m]},removeKey:function(m,y,g){y===void 0&&(y=!1),g===void 0&&(g=!1);var T=this.keys,S;if(m instanceof h){var C=T.indexOf(m);C>-1&&(S=this.keys[C],this.keys[C]=void 0)}else typeof m=="string"&&(m=n[m.toUpperCase()]);return T[m]&&(S=T[m],T[m]=void 0),S&&(S.plugin=null,g&&this.removeCapture(S.keyCode),y&&S.destroy()),this},removeAllKeys:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!1);for(var g=this.keys,T=0;T<g.length;T++){var S=g[T];S&&(g[T]=void 0,y&&this.removeCapture(S.keyCode),m&&S.destroy())}return this},createCombo:function(m,y){return new o(this,m,y)},checkDown:function(m,y){if(y===void 0&&(y=0),this.enabled&&m.isDown){var g=d(this.time-m.timeDown,y);if(g>m._tick)return m._tick=g,!0}return!1},update:function(){var m=this.manager.queue,y=m.length;if(!(!this.isActive()||y===0))for(var g=this.keys,T=0;T<y;T++){var S=m[T],C=S.keyCode,w=g[C],b=!1;S.cancelled===void 0&&(S.cancelled=0,S.stopImmediatePropagation=function(){S.cancelled=1},S.stopPropagation=function(){S.cancelled=-1}),S.cancelled!==-1&&(C===this.prevCode&&S.timeStamp===this.prevTime&&S.type===this.prevType||(this.prevCode=C,this.prevTime=S.timeStamp,this.prevType=S.type,S.type==="keydown"?(w&&(b=w.isDown,w.onDown(S)),!S.cancelled&&(!w||!b)&&(f[C]&&this.emit(a.KEY_DOWN+f[C],S),S.cancelled||this.emit(a.ANY_KEY_DOWN,S))):(w&&w.onUp(S),S.cancelled||(f[C]&&this.emit(a.KEY_UP+f[C],S),S.cancelled||this.emit(a.ANY_KEY_UP,S))),S.cancelled===1&&(S.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,y=0;y<m.length;y++)m[y]&&m[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});i.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),v.exports=p},60258:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l.timeLastMatched=t.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};v.exports=x},95625:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(94030),a=t(72632),r=t(2544),s=t(88754),e=new l({initialize:function(h,n,o){if(o===void 0&&(o={}),n.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var u=n[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var d=this,p=function(m){if(!(d.matched||!d.enabled)){var y=r(m,d);y&&(d.manager.emit(c.COMBO_MATCH,d,m),d.resetOnMatch?s(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},2544:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60258),c=function(a,r){if(r.matched)return!0;var s=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var i=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=i&&(e=!0,s=l(a,r))}else e=!0,s=l(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),s&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),s};v.exports=c},88754:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=x},5044:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},40813:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},89319:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},43267:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},78595:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},30056:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},81939:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},94030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=50);var c=t.plugin.game.loop.time-t.timeDown;return t.isDown&&c<l};v.exports=x},42460:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=x},53162:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=x},50165:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(94030),r=new l({Extends:c,initialize:function(e,i){c.call(this),this.plugin=e,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=r},11873:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=x},48044:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(11873),c={};for(var a in l)c[l[a]]=a;v.exports=c},70331:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=50);var c=t.plugin.game.loop.time-t.timeUp;return t.isUp&&c<l};v.exports=x},7905:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(90185),a=t(33963),r=t(72283),s=new l({initialize:function(i){this.manager=i,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,i.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var i=this,h=this.manager,n=h.canvas,o=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseMove(u),i.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){o&&window.focus(),!u.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseDown(u),i.preventDefaultDown&&u.target===n&&u.preventDefault())},this.onMouseDownWindow=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&u.target!==n&&h.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&(h.onMouseUp(u),i.preventDefaultUp&&u.target===n&&u.preventDefault())},this.onMouseUpWindow=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&u.target!==n&&h.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&h.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&h.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&i.enabled&&h&&h.enabled&&h.onMouseWheel(u),i.preventDefaultWheel&&u.target===n&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(u){var d=i.target;i.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,h.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},11343:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(7905)}},37579:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(33963),a=t(72283),r=new l({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var e=this,i=this.manager,h=i.canvas,n=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchStart(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==h&&i.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchEnd(d),e.capture&&d.cancelable&&d.target===h&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==h&&i.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onTouchCancel(d)};var o=this.capture,f={passive:!0},u={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,o?u:f),s.addEventListener("touchmove",this.onTouchMove,o?u:f),s.addEventListener("touchend",this.onTouchEnd,o?u:f),s.addEventListener("touchcancel",this.onTouchCancel,o?u:f),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},77423:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(37579)}},98035:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(683),r=t(72632),s=t(30750),e=t(43531),i=t(88490),h=t(33868),n=new l({initialize:function(f,u){if(this.loader=f,this.cache=r(u,"cache",!1),this.type=r(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=r(u,"url");p===void 0?p=f.path+d+"."+r(u,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=f.path+p),this.url=p,this.src="",this.xhrSettings=h(r(u,"responseType",void 0)),r(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(u,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=i(this,this.loader.xhr))},onLoad:function(o,f){var u=o.responseURL&&this.loader.localSchemes.some(function(m){return o.responseURL.indexOf(m)===0}),d=u&&f.target.status===0,p=!(f.target&&f.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(p=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==c.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var f=this.key,u=this.type;this.loader.emit(a.FILE_COMPLETE,f,u,o),this.loader.emit(a.FILE_KEY_COMPLETE+u+"-"+f,f,u,o),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(o,f,u){if(typeof URL=="function")o.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(f)}},n.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},v.exports=n},76846:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={install:function(l){for(var c in x)l[c]=x[c]},register:function(l,c){x[l]=c},destroy:function(){x={}}};v.exports=t},30750:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:l+t.url:!1};v.exports=x},67285:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(58403),r=t(6659),s=t(683),e=t(76846),i=t(72632),h=t(10850),n=t(91963),o=t(7599),f=t(33868),u=new l({Extends:r,initialize:function(p){r.call(this);var m=p.sys.game.config,y=p.sys.settings.loader;this.scene=p,this.systems=p.sys,this.cacheManager=p.sys.cache,this.textureManager=p.sys.textures,this.sceneManager=p.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(i(y,"baseURL",m.loaderBaseURL)),this.setPath(i(y,"path",m.loaderPath)),this.setPrefix(i(y,"prefix",m.loaderPrefix)),this.maxParallelDownloads=i(y,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=f(i(y,"responseType",m.loaderResponseType),i(y,"async",m.loaderAsync),i(y,"user",m.loaderUser),i(y,"password",m.loaderPassword),i(y,"timeout",m.loaderTimeout),i(y,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=i(y,"crossOrigin",m.loaderCrossOrigin),this.imageLoadType=i(y,"imageLoadType",m.loaderImageLoadType),this.localSchemes=i(y,"localScheme",m.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,p.sys.events.once(o.BOOT,this.boot,this),p.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var m=d[p];this.keyExists(m)||(this.list.set(m),this.emit(s.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var p=d.hasCacheConflict();return p||this.list.iterate(function(m){if(m.type===d.type&&m.key===d.key)return p=!0,!1}),!p&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===d.type&&m.key===d.key)return p=!0,!1}),this.queue.iterate(function(m){if(m.type===d.type&&m.key===d.key)return p=!0,!1})),p},addPack:function(d,p){if(typeof p=="string"){var m=h(d,p);m&&(d={packKey:m})}var y=0,g=this.baseURL,T=this.path,S=this.prefix;for(var C in d)if(Object.prototype.hasOwnProperty.call(d,C)){var w=d[C],b=i(w,"baseURL",g),A=i(w,"path",T),D=i(w,"prefix",S),B=i(w,"files",null),N=i(w,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(b),this.setPath(A),this.setPrefix(D);for(var Y=0;Y<B.length;Y++){var H=B[Y],j=H.hasOwnProperty("type")?H.type:N;this[j]&&(this[j](H),y++)}}}return this.setBaseURL(g),this.setPath(T),this.setPrefix(S),y>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===c.FILE_POPULATED||d.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,p){this.inflight&&(this.inflight.delete(d),this.updateProgress(),p?(this.totalComplete++,this.queue.set(d),this.emit(s.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(s.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===c.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===c.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,p){return this.save(JSON.stringify(d),p)},save:function(d,p,m){p===void 0&&(p="file.json"),m===void 0&&(m="application/json");var y=new Blob([d],{type:m}),g=URL.createObjectURL(y),T=document.createElement("a");return T.download=p,T.textContent="Download "+p,T.href=g,T.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,p=this.systems.settings.loader;this.setBaseURL(i(p,"baseURL",d.loaderBaseURL)),this.setPath(i(p,"path",d.loaderPath)),this.setPrefix(i(p,"prefix",d.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",u,"load"),v.exports=u},43531:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=t(33868),a=function(r,s){var e=r===void 0?c():l({},r);if(s)for(var i in s)s[i]!==void 0&&(e[i]=s[i]);return e};v.exports=a},45176:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(683),r=new l({initialize:function(e,i,h,n){var o=[];n.forEach(function(u){u&&o.push(u)}),this.loader=e,this.type=i,this.key=h,this.multiKeyIndex=e.multiKeyIndex++,this.files=o,this.state=c.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<o.length;f++)o[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var e=this.files.indexOf(s);e!==-1&&this.pending--},onFileFailed:function(s){var e=this.files.indexOf(s);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var s=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,s,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+s,s,e),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=r},88490:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43531),c=function(a,r){var s=l(r,a.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",a.src,s.async,s.user,s.password),e.responseType=a.xhrSettings.responseType,e.timeout=s.timeout,s.headers)for(var i in s.headers)e.setRequestHeader(i,s.headers[i]);return s.header&&s.headerValue&&e.setRequestHeader(s.header,s.headerValue),s.requestedWith&&e.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&e.overrideMimeType(s.overrideMimeType),s.withCredentials&&(e.withCredentials=!0),e.onload=a.onLoad.bind(a,e),e.onerror=a.onError.bind(a,e),e.onprogress=a.onProgress.bind(a),e.send(),e};v.exports=c},33868:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s){return t===void 0&&(t=""),l===void 0&&(l=!0),c===void 0&&(c=""),a===void 0&&(a=""),r===void 0&&(r=0),s===void 0&&(s=!1),{responseType:t,async:l,user:c,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};v.exports=x},12117:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=x},7398:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},52187:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},36627:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},81925:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},29774:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},20943:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},74693:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},71176:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},88984:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},72753:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},683:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(70806),r=t(683),s=new l({Extends:a,initialize:function(i,h,n,o,f){a.call(this,i,h,n,o,f),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(e,i,h,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,i,n,h));return this}),v.exports=s},31648:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),h=new l({Extends:i,initialize:function(o,f,u,d,p,m){var y,g;if(s(f)){var T=f;f=a(T,"key"),y=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new e(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else y=new r(o,f,u,p),g=new e(o,f,d,m);y.linkFile?i.call(this,o,"atlasjson",f,[y,g,y.linkFile]):i.call(this,o,"atlasjson",f,[y,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),o.addToCache(),this.complete=!0}}});c.register("aseprite",function(n,o,f,u,d){var p;if(Array.isArray(n))for(var m=0;m<n.length;m++)p=new h(this,n[m]),this.addFile(p.files);else p=new h(this,n,o,f,u,d),this.addFile(p.files);return this}),v.exports=h},73152:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),h=new l({Extends:i,initialize:function(o,f,u,d,p,m){var y,g;if(s(f)){var T=f;f=a(T,"key"),y=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new e(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else y=new r(o,f,u,p),g=new e(o,f,d,m);y.linkFile?i.call(this,o,"atlasjson",f,[y,g,y.linkFile]):i.call(this,o,"atlasjson",f,[y,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),this.complete=!0}}});c.register("atlas",function(n,o,f,u,d){var p;if(Array.isArray(n))for(var m=0;m<n.length;m++)p=new h(this,n[m]),this.addFile(p.files);else p=new h(this,n,o,f,u,d),this.addFile(p.files);return this}),v.exports=h},24616:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(15297),h=new l({Extends:e,initialize:function(o,f,u,d,p,m){var y,g;if(s(f)){var T=f;f=a(T,"key"),y=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new i(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else y=new r(o,f,u,p),g=new i(o,f,d,m);y.linkFile?e.call(this,o,"atlasxml",f,[y,g,y.linkFile]):e.call(this,o,"atlasxml",f,[y,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,o.data,f),this.complete=!0}}});c.register("atlasXML",function(n,o,f,u,d){var p;if(Array.isArray(n))for(var m=0;m<n.length;m++)p=new h(this,n[m]),this.addFile(p.files);else p=new h(this,n,o,f,u,d),this.addFile(p.files);return this}),v.exports=h},67448:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(30929),i=t(42911),h=new l({Extends:a,initialize:function(o,f,u,d,p){if(i(f)){var m=f;f=s(m,"key"),d=s(m,"xhrSettings"),p=s(m,"context",p)}var y={type:"audio",cache:o.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:p}};a.call(this,o,y)},onProcess:function(){this.state=c.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){n.data=o,n.onProcessComplete()},function(o){console.error("Error decoding audio: "+n.key+" - ",o?o.message:null),n.onProcessError()}),this.config.context=null}});h.create=function(n,o,f,u,d){var p=n.systems.game,m=p.config.audio,y=p.device.audio;i(o)&&(f=s(o,"url",[]),u=s(o,"config",{}));var g=h.getAudioURL(p,f);return g?y.webAudio&&!m.disableWebAudio?new h(n,o,g,d,p.sound.context):new e(n,o,g,u):(console.warn('No audio URLs for "%s" matched this device',o),null)},h.getAudioURL=function(n,o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var u=s(o[f],"url",o[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=s(o[f],"type",d?d[1]:"").toLowerCase(),n.device.audio[d])return{url:u,type:d}}return null},r.register("audio",function(n,o,f,u){var d=this.systems.game,p=d.config.audio,m=d.device.audio;if(p.noAudio||!m.webAudio&&!m.audioData)return this;var y;if(Array.isArray(n))for(var g=0;g<n.length;g++)y=h.create(this,n[g]),y&&this.addFile(y);else y=h.create(this,n,o,f,u),y&&this.addFile(y);return this}),v.exports=h},66109:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67448),c=t(56694),a=t(76846),r=t(72632),s=t(42911),e=t(70806),i=t(45176),h=new c({Extends:i,initialize:function(o,f,u,d,p,m,y){if(s(f)){var g=f;f=r(g,"key"),u=r(g,"jsonURL"),d=r(g,"audioURL"),p=r(g,"audioConfig"),m=r(g,"audioXhrSettings"),y=r(g,"jsonXhrSettings")}var T;if(!d)T=new e(o,f,u,y),i.call(this,o,"audiosprite",f,[T]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=m;else{var S=l.create(o,f,d,p,m);S&&(T=new e(o,f,u,y),i.call(this,o,"audiosprite",f,[S,T]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,u=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),p=l.create(this.loader,n.key,f,u,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1];n.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(n,o,f,u,d,p){var m=this.systems.game,y=m.config.audio,g=m.device.audio;if(y&&y.noAudio||!g.webAudio&&!g.audioData)return this;var T;if(Array.isArray(n))for(var S=0;S<n.length;S++)T=new h(this,n[S]),T.files&&this.addFile(T.files);else T=new h(this,n,o,f,u,d,p),T.files&&this.addFile(T.files);return this})},40612:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d){var p="bin";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"xhrSettings"),p=s(m,"extension",p),d=s(m,"dataType",d)}var y={type:"binary",cache:n.cacheManager.binary,extension:p,responseType:"arraybuffer",key:o,url:f,xhrSettings:u,config:{dataType:d}};a.call(this,n,y)},onProcess:function(){this.state=c.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(h,n,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new i(this,h[u]));else this.addFile(new i(this,h,n,f,o));return this}),v.exports=i},54565:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(31476),h=t(15297),n=new l({Extends:e,initialize:function(f,u,d,p,m,y){var g,T;if(s(u)){var S=u;u=a(S,"key"),g=new r(f,{key:u,url:a(S,"textureURL"),extension:a(S,"textureExtension","png"),normalMap:a(S,"normalMap"),xhrSettings:a(S,"textureXhrSettings")}),T=new h(f,{key:u,url:a(S,"fontDataURL"),extension:a(S,"fontDataExtension","xml"),xhrSettings:a(S,"fontDataXhrSettings")})}else g=new r(f,u,d,m),T=new h(f,u,p,y);g.linkFile?e.call(this,f,"bitmapfont",u,[g,T,g.linkFile]):e.call(this,f,"bitmapfont",u,[g,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1];o.addToCache();var u=o.cache.get(o.key),d=i(f.data,o.cache.getFrame(o.key),0,0,u);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(o,f,u,d,p){var m;if(Array.isArray(o))for(var y=0;y<o.length;y++)m=new n(this,o[y]),this.addFile(m.files);else m=new n(this,o,f,u,d,p),this.addFile(m.files);return this}),v.exports=n},99898:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u){var d="css";if(e(o)){var p=o;o=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var m={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,n,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(h,n,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new i(this,h[f]));else this.addFile(new i(this,h,n,o));return this}),v.exports=i},47375:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73152),c=t(40612),a=t(56694),r=t(76846),s=t(72632),e=t(42927),i=t(42911),h=t(70806),n=t(67409),o=t(30657),f=t(80802),u=t(45176),d=t(24904),p=new a({Extends:u,initialize:function(y,g,T,S){if(T.multiAtlasURL){var C=new h(y,{key:g,url:T.multiAtlasURL,xhrSettings:S,config:T});u.call(this,y,"texture",g,[C])}else{var w=T.textureURL.substr(T.textureURL.length-3);T.type||(T.type=w.toLowerCase()==="ktx"?"KTX":"PVR");var b=new c(y,{key:g,url:T.textureURL,extension:w,xhrSettings:S,config:T});if(T.atlasURL){var A=new h(y,{key:g,url:T.atlasURL,xhrSettings:S,config:T});u.call(this,y,"texture",g,[b,A])}else u.call(this,y,"texture",g,[b])}this.config=T},onFileComplete:function(m){var y=this.files.indexOf(m);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(m.type==="json"&&m.data.hasOwnProperty("textures")){var g=m.data.textures,T=this.config,S=this.loader,C=S.baseURL,w=S.path,b=S.prefix,A=s(T,"multiBaseURL",this.baseURL),D=s(T,"multiPath",this.path),B=s(T,"prefix",this.prefix),N=s(T,"textureXhrSettings");A&&S.setBaseURL(A),D&&S.setPath(D),B&&S.setPrefix(B);for(var Y=0;Y<g.length;Y++){var H=g[Y].image,j="CMA"+this.multiKeyIndex+"_"+H,J=new c(S,j,H,N);if(this.addToMultiFile(J),S.addFile(J),g[Y].normalMap){var X=new c(S,j,g[Y].normalMap,N);X.type="normalMap",J.setLink(X),this.addToMultiFile(X),S.addFile(X)}}S.setBaseURL(C),S.setPath(w),S.setPrefix(b)}}},addToCache:function(){if(this.isReadyToProcess()){var m=this.config;if(m.multiAtlasURL)this.addMultiToCache();else{var y=this.loader.systems.renderer,g=this.loader.textureManager,T,S=this.files[0],C=this.files[1];if(m.type==="PVR"?T=d(S.data):m.type==="KTX"&&(T=n(S.data)),T&&y.supportsCompressedTexture(m.format,T.internalFormat)){T.format=y.getCompressedTextureName(m.format,T.internalFormat);var w=C&&C.data?C.data:null;g.addCompressedTexture(S.key,T,w)}}this.complete=!0}},addMultiToCache:function(){for(var m=this.config,y=this.files[0],g=[],T=[],S=[],C=this.loader.systems.renderer,w=this.loader.textureManager,b,A=1;A<this.files.length;A++){var D=this.files[A];if(D.type!=="normalMap")for(var B=D.key.indexOf("_"),N=D.key.substr(B+1),Y=D.data,H=0;H<y.data.textures.length;H++){var j=y.data.textures[H];if(j.image===N){m.type==="PVR"?b=d(Y):m.type==="KTX"&&(b=n(Y)),b&&C.supportsCompressedTexture(m.format,b.internalFormat)&&(b.format=C.getCompressedTextureName(m.format,b.internalFormat),T.push(b),g.push(j),D.linkFile&&S.push(D.linkFile.data));break}}}S.length===0&&(S=void 0),w.addAtlasJSONArray(this.key,T,g,S),this.complete=!0}});r.register("texture",function(m,y,g){var T=this.systems.renderer,S=function(w,b,A,D){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(i(b)){var N=b;b=s(N,"key"),A=s(N,"url"),D=s(N,"xhrSettings")}var Y=!1;for(var H in A)if(T.supportsCompressedTexture(H)){var j=A[H];typeof j=="string"?B.textureURL=j:B=o(j,B),B.format=H.toUpperCase(),Y=!0;break}if(!Y)console.warn("No supported compressed texture format or IMG fallback",b);else if(B.format==="IMG"){var J,X;B.multiAtlasURL?(X=new f(w,b,B.multiAtlasURL,B.multiPath,B.multiBaseURL,D),J=X.files):B.atlasURL?(X=new l(w,b,B.textureURL,B.atlasURL,D),J=X.files):J=new e(w,b,B.textureURL,D),w.addFile(J)}else{var W=new p(w,b,B,D);w.addFile(W.files)}};if(Array.isArray(m))for(var C=0;C<m.length;C++)S(this,m[C]);else S(this,m,y,g);return this}),v.exports=p},46568:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(31053),h=new l({Extends:a,initialize:function(o,f,u,d,p){var m="glsl";if(e(f)){var y=f;f=s(y,"key"),u=s(y,"url"),d=s(y,"shaderType","fragment"),p=s(y,"xhrSettings"),m=s(y,"extension",m)}else d===void 0&&(d="fragment");var g={type:"glsl",cache:o.cacheManager.shader,extension:m,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:p};a.call(this,o,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),o=this.extractBlock(n,0);if(o)for(;o;){var f=this.getShaderName(o.header),u=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),p=o.shader;if(this.cache.has(f)){var m=this.cache.get(f);u==="fragment"?m.fragmentSrc=p:m.vertexSrc=p,m.uniforms||(m.uniforms=d)}else u==="fragment"?this.cache.add(f,new i(f,p,"",d)):this.cache.add(f,new i(f,"",p,d));o=this.extractBlock(n,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new i(this.key,this.data)):this.cache.add(this.key,new i(this.key,"",this.data))},getShaderName:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var o={},f=0;f<n.length;f++){var u=n[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var p=u.substring(8,d);try{o[p]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return o},extractBlock:function(n,o){for(var f=-1,u=-1,d=-1,p=!1,m=!1,y=[],g=[],T=o;T<n.length;T++){var S=n[T].trim();if(S==="---")if(f===-1)f=T,p=!0;else if(p)u=T,p=!1,m=!0;else{m=!1;break}else p?y.push(S):m&&(g.push(S),d=T)}return!p&&u!==-1?{header:y,shader:g.join(`
`),offset:d}:null}});r.register("glsl",function(n,o,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new h(this,n[d]));else this.addFile(new h(this,n,o,f,u));return this}),v.exports=h},30929:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(683),a=t(98035),r=t(72632),s=t(30750),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u){if(e(o)){var d=o;o=r(d,"key"),u=r(d,"config",u)}var p={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:o,url:f.url,config:u};a.call(this,n,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var n=this.data[h];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var n=h.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<h;n++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+n).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(n=0;n<this.data.length;n++)o=this.data[n],o.src=s(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=i},77459:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u){var d="html";if(e(o)){var p=o;o=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var m={type:"text",cache:n.cacheManager.html,extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,n,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(h,n,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new i(this,h[f]));else this.addFile(new i(this,h,n,o));return this}),v.exports=i},9755:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d,p){u===void 0&&(u=512),d===void 0&&(d=512);var m="html";if(e(o)){var y=o;o=s(y,"key"),f=s(y,"url"),p=s(y,"xhrSettings"),m=s(y,"extension",m),u=s(y,"width",u),d=s(y,"height",d)}var g={type:"html",cache:n.textureManager,extension:m,responseType:"text",key:o,url:f,xhrSettings:p,config:{width:u,height:d}};a.call(this,n,g)},onProcess:function(){this.state=c.FILE_PROCESSING;var h=this.config.width,n=this.config.height,o=[];o.push('<svg width="'+h+'px" height="'+n+'px" viewBox="0 0 '+h+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var f=[o.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=c.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(u.data),u.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(h,n,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,n,o,f,u));return this}),v.exports=i},42927:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(30750),h=new l({Extends:a,initialize:function n(o,f,u,d,p){var m="png",y;if(e(f)){var g=f;f=s(g,"key"),u=s(g,"url"),y=s(g,"normalMap"),d=s(g,"xhrSettings"),m=s(g,"extension",m),p=s(g,"frameConfig")}Array.isArray(u)&&(y=u[1],u=u[0]);var T={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:f,url:u,xhrSettings:d,config:p};if(a.call(this,o,T),y){var S=new n(o,this.key,y,d,p);S.type="normalMap",this.setLink(S),o.addFile(S)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){a.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(n.data),n.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=c.FILE_PROCESSING,n===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=c.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src}},addToCache:function(){var n=this.linkFile;n?n.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(n,o,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,o,f));return this}),v.exports=h},70806:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(10850),i=t(42911),h=new l({Extends:a,initialize:function(o,f,u,d,p){var m="json";if(i(f)){var y=f;f=s(y,"key"),u=s(y,"url"),d=s(y,"xhrSettings"),m=s(y,"extension",m),p=s(y,"dataKey",p)}var g={type:"json",cache:o.cacheManager.json,extension:m,responseType:"text",key:f,url:u,xhrSettings:d,config:p};a.call(this,o,g),i(u)&&(p?this.data=e(u,p):this.data=u,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var o=this.config;typeof o=="string"?this.data=e(n,o,n):this.data=n}this.onProcessComplete()}});r.register("json",function(n,o,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new h(this,n[d]));else this.addFile(new h(this,n,o,u,f));return this}),v.exports=h},80802:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),h=new l({Extends:i,initialize:function(o,f,u,d,p,m,y){if(s(f)){var g=f;f=a(g,"key"),a(g,"url",!1)?u=a(g,"url"):u=a(g,"atlasURL"),m=a(g,"xhrSettings"),d=a(g,"path"),p=a(g,"baseURL"),y=a(g,"textureXhrSettings")}var T=new e(o,f,u,m);i.call(this,o,"multiatlas",f,[T]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=y},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,u=this.config,d=this.loader,p=d.baseURL,m=d.path,y=d.prefix,g=a(u,"baseURL",this.baseURL),T=a(u,"path",this.path),S=a(u,"prefix",this.prefix),C=a(u,"textureXhrSettings");d.setBaseURL(g),d.setPath(T),d.setPrefix(S);for(var w=0;w<f.length;w++){var b=f[w].image,A="MA"+this.multiKeyIndex+"_"+b,D=new r(d,A,b,C);if(this.addToMultiFile(D),d.addFile(D),f[w].normalMap){var B=new r(d,A,f[w].normalMap,C);B.type="normalMap",D.setLink(B),this.addToMultiFile(B),d.addFile(B)}}d.setBaseURL(p),d.setPath(m),d.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],o=[],f=[],u=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var m=p.key.indexOf("_"),y=p.key.substr(m+1),g=p.data,T=0;T<n.data.textures.length;T++){var S=n.data.textures[T];if(S.image===y){f.push(g),o.push(S),p.linkFile&&u.push(p.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,o,u),this.complete=!0}}});c.register("multiatlas",function(n,o,f,u,d){var p;if(Array.isArray(n))for(var m=0;m<n.length;m++)p=new h(this,n[m]),this.addFile(p.files);else p=new h(this,n,o,f,u,d),this.addFile(p.files);return this}),v.exports=h},39034:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42911),s=t(45176),e=t(55188),i=new l({Extends:s,initialize:function(n,o,f,u){var d="js",p=[];if(r(o)){var m=o;o=a(m,"key"),f=a(m,"url"),u=a(m,"xhrSettings"),d=a(m,"extension",d)}Array.isArray(f)||(f=[f]);for(var y=0;y<f.length;y++){var g=new e(n,{key:o+"_"+y.toString(),url:f[y],extension:d,xhrSettings:u});g.onProcess=function(){this.onProcessComplete()},p.push(g)}s.call(this,n,"scripts",o,p)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var n=this.files[h];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});c.register("scripts",function(h,n,o){var f;if(Array.isArray(h))for(var u=0;u<h.length;u++)f=new i(this,h[u]),this.addFile(f.files);else f=new i(this,h,n,o),this.addFile(f.files);return this}),v.exports=i},85527:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42911),s=t(45176),e=t(27291),i=t(76799),h=t(86897),n=new l({Extends:s,initialize:function(f,u,d,p,m,y){var g,T,S=f.cacheManager.obj;if(r(u)){var C=u;u=a(C,"key"),g=new h(f,{key:u,type:"obj",cache:S,url:a(C,"url"),extension:a(C,"extension","obj"),xhrSettings:a(C,"xhrSettings"),config:{flipUV:a(C,"flipUV",m)}}),p=a(C,"matURL"),p&&(T=new h(f,{key:u,type:"mat",cache:S,url:p,extension:a(C,"matExtension","mat"),xhrSettings:a(C,"xhrSettings")}))}else g=new h(f,{key:u,url:d,type:"obj",cache:S,extension:"obj",xhrSettings:y,config:{flipUV:m}}),p&&(T=new h(f,{key:u,url:p,type:"mat",cache:S,extension:"mat",xhrSettings:y}));s.call(this,f,"obj",u,[g,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1],u=e(o.data,o.config.flipUV);f&&(u.materials=i(f.data)),o.cache.add(o.key,u),this.complete=!0}}});c.register("obj",function(o,f,u,d,p){var m;if(Array.isArray(o))for(var y=0;y<o.length;y++)m=new n(this,o[y]),this.addFile(m.files);else m=new n(this,o,f,u,d,p),this.addFile(m.files);return this}),v.exports=n},3616:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(76846),r=t(70806),s=new l({Extends:r,initialize:function(i,h,n,o,f){r.call(this,i,h,n,o,f),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,i,h,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,i,n,h));return this}),v.exports=s},12217:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d,p){var m="js";if(e(o)){var y=o;o=s(y,"key"),f=s(y,"url"),p=s(y,"xhrSettings"),m=s(y,"extension",m),u=s(y,"start"),d=s(y,"mapping")}var g={type:"plugin",cache:!1,extension:m,responseType:"text",key:o,url:f,xhrSettings:p,config:{start:u,mapping:d}};a.call(this,n,g),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,n=this.config,o=s(n,"start",!1),f=s(n,"mapping",null);if(this.state===c.FILE_POPULATED)h.install(this.key,this.data,o,f);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=h.install(this.key,window[this.key],o,f);(o||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});r.register("plugin",function(h,n,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,n,o,f,u));return this}),v.exports=i},4474:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d){var p="svg";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"svgConfig",{}),d=s(m,"xhrSettings"),p=s(m,"extension",p)}var y={type:"svg",cache:n.textureManager,extension:p,responseType:"text",key:o,url:f,xhrSettings:d,config:{width:s(u,"width"),height:s(u,"height"),scale:s(u,"scale")}};a.call(this,n,y)},onProcess:function(){this.state=c.FILE_PROCESSING;var h=this.xhrLoader.responseText,n=[h],o=this.config.width,f=this.config.height,u=this.config.scale;t:if(o&&f||u){var d=null,p=new DOMParser;d=p.parseFromString(h,"text/xml");var m=d.getElementsByTagName("svg")[0],y=m.hasAttribute("viewBox"),g=parseFloat(m.getAttribute("width")),T=parseFloat(m.getAttribute("height"));if(!y&&g&&T)m.setAttribute("viewBox","0  0 "+g+" "+T);else if(y&&!g&&!T){var S=m.getAttribute("viewBox").split(/\s+|,/);g=S[2],T=S[3]}if(u)if(g&&T)o=g*u,f=T*u;else break t;m.setAttribute("width",o.toString()+"px"),m.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(m)]}try{var C=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var w=this,b=!1;this.data.onload=function(){b||a.revokeObjectURL(w.data),w.onProcessComplete()},this.data.onerror=function(){b?w.onProcessError():(b=!0,a.revokeObjectURL(w.data),w.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},a.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(h,n,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new i(this,h[u]));else this.addFile(new i(this,h,n,o,f));return this}),v.exports=i},95171:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u){var d="js";if(e(o)){var p=o;o=s(p,"key"),f=s(p,"url"),u=s(p,"xhrSettings"),d=s(p,"extension",d)}var m={type:"text",extension:d,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,n,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(h)),this.complete=!0}});r.register("sceneFile",function(h,n,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new i(this,h[f]));else this.addFile(new i(this,h,n,o));return this}),v.exports=i},82458:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d,p){var m="js";if(e(o)){var y=o;o=s(y,"key"),f=s(y,"url"),p=s(y,"xhrSettings"),m=s(y,"extension",m),u=s(y,"systemKey"),d=s(y,"sceneKey")}var g={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:o,url:f,xhrSettings:p,config:{systemKey:u,sceneKey:d}};a.call(this,n,g),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,n=this.config,o=this.key,f=s(n,"systemKey",o),u=s(n,"sceneKey",o);this.state===c.FILE_POPULATED?h.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(h,n,o,f,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new i(this,h[d]));else this.addFile(new i(this,h,n,o,f,u));return this}),v.exports=i},55188:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u,d){var p="js";if(e(o)){var m=o;o=s(m,"key"),f=s(m,"url"),u=s(m,"type","script"),d=s(m,"xhrSettings"),p=s(m,"extension",p)}else u===void 0&&(u="script");var y={type:u,cache:!1,extension:p,responseType:"text",key:o,url:f,xhrSettings:d};a.call(this,n,y)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(h,n,o,f){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new i(this,h[u]));else this.addFile(new i(this,h,n,o,f));return this}),v.exports=i},33536:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(76846),r=t(42927),s=new l({Extends:r,initialize:function(i,h,n,o,f){r.call(this,i,h,n,f,o),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,i,h,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new s(this,e[o]));else this.addFile(new s(this,e,i,h,n));return this}),v.exports=s},86897:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new l({Extends:a,initialize:function(n,o,f,u){var d="text",p="txt",m=n.cacheManager.text;if(e(o)){var y=o;o=s(y,"key"),f=s(y,"url"),u=s(y,"xhrSettings"),p=s(y,"extension",p),d=s(y,"type",d),m=s(y,"cache",m)}var g={type:d,cache:m,extension:p,responseType:"text",key:o,url:f,xhrSettings:u};a.call(this,n,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(h,n,o){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new i(this,h[f]));else this.addFile(new i(this,h,n,o));return this}),v.exports=i},58673:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(93560),h=new l({Extends:a,initialize:function(o,f,u,d){var p="csv";if(e(f)){var m=f;f=s(m,"key"),u=s(m,"url"),d=s(m,"xhrSettings"),p=s(m,"extension",p)}var y={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:p,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,o,y),this.tilemapFormat=i.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});r.register("tilemapCSV",function(n,o,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,o,f));return this}),v.exports=h},98896:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(70806),r=t(93560),s=new l({Extends:a,initialize:function(i,h,n,o){a.call(this,i,h,n,o),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapImpact",function(e,i,h){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,h));return this}),v.exports=s},50563:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(70806),r=t(93560),s=new l({Extends:a,initialize:function(i,h,n,o){a.call(this,i,h,n,o),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapTiledJSON",function(e,i,h){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,h));return this}),v.exports=s},82857:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(76846),a=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(86897),h=new l({Extends:e,initialize:function(o,f,u,d,p,m){var y,g;if(s(f)){var T=f;f=a(T,"key"),y=new r(o,{key:f,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),g=new i(o,{key:f,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else y=new r(o,f,u,p),g=new i(o,f,d,m);y.linkFile?e.call(this,o,"unityatlas",f,[y,g,y.linkFile]):e.call(this,o,"unityatlas",f,[y,g])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,o.data,f),this.complete=!0}}});c.register("unityAtlas",function(n,o,f,u,d){var p;if(Array.isArray(n))for(var m=0;m<n.length;m++)p=new h(this,n[m]),this.addFile(p.files);else p=new h(this,n,o,f,u,d),this.addFile(p.files);return this}),v.exports=h},22833:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(30750),e=t(72632),i=t(42911),h=new l({Extends:a,initialize:function(o,f,u,d){if(d===void 0&&(d=!1),i(f)){var p=f;f=e(p,"key"),u=e(p,"url",[]),d=e(p,"noAudio",!1)}var m=o.systems.game.device.video.getVideoURL(u);m||console.warn("VideoFile: No supported format for "+f);var y={type:"video",cache:o.cacheManager.video,extension:m.type,key:f,url:m.url,config:{noAudio:d}};a.call(this,o,y)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(n,o,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,o,f));return this}),v.exports=h},15297:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12117),a=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(89200),h=new l({Extends:a,initialize:function(o,f,u,d){var p="xml";if(e(f)){var m=f;f=s(m,"key"),u=s(m,"url"),d=s(m,"xhrSettings"),p=s(m,"extension",p)}var y={type:"xml",cache:o.cacheManager.xml,extension:p,responseType:"text",key:f,url:u,xhrSettings:d};a.call(this,o,y)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=i(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(n,o,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new h(this,n[u]));else this.addFile(new h(this,n,o,f));return this}),v.exports=h},34034:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12117),c=t(98611),a={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};a=c(!1,a,l),v.exports=a},26042:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=0,c=0;c<t.length;c++)l+=+t[c];return l/t.length};v.exports=x},22824:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(8034),c=function(a,r){return l(a)/l(r)/l(a-r)};v.exports=c},17489:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return Math.floor(Math.random()*(l-t+1)+t)};v.exports=x},14976:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){var s=(a-l)*.5,e=(r-c)*.5,i=t*t,h=t*i;return(2*c-2*a+s+e)*h+(-3*c+3*a-2*s-e)*i+s*t+c};v.exports=x},89129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){l===void 0&&(l=0),c===void 0&&(c=10);var a=Math.pow(c,-l);return Math.ceil(t*a)/a};v.exports=x},82897:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return Math.max(l,Math.min(c,t))};v.exports=x},75606:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=function(a){return a*l.DEG_TO_RAD};v.exports=c},767:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return Math.abs(t-l)};v.exports=x},9849:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(16650),r=t(72283),s=new a,e=new c({initialize:function i(h,n,o,f){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=i.DefaultOrder),this._x=h,this._y=n,this._z=o,this._order=f,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback(this)}},set:function(i,h,n,o){return o===void 0&&(o=this._order),this._x=i,this._y=h,this._z=n,this._order=o,this.onChangeCallback(this),this},copy:function(i){return this.set(i.x,i.y,i.z,i.order)},setFromQuaternion:function(i,h,n){return h===void 0&&(h=this._order),n===void 0&&(n=!1),s.fromQuat(i),this.setFromRotationMatrix(s,h,n)},setFromRotationMatrix:function(i,h,n){h===void 0&&(h=this._order),n===void 0&&(n=!1);var o=i.val,f=o[0],u=o[4],d=o[8],p=o[1],m=o[5],y=o[9],g=o[2],T=o[6],S=o[10],C=0,w=0,b=0,A=.99999;switch(h){case"XYZ":{w=Math.asin(l(d,-1,1)),Math.abs(d)<A?(C=Math.atan2(-y,S),b=Math.atan2(-u,f)):C=Math.atan2(T,m);break}case"YXZ":{C=Math.asin(-l(y,-1,1)),Math.abs(y)<A?(w=Math.atan2(d,S),b=Math.atan2(p,m)):w=Math.atan2(-g,f);break}case"ZXY":{C=Math.asin(l(T,-1,1)),Math.abs(T)<A?(w=Math.atan2(-g,S),b=Math.atan2(-u,m)):b=Math.atan2(p,f);break}case"ZYX":{w=Math.asin(-l(g,-1,1)),Math.abs(g)<A?(C=Math.atan2(T,S),b=Math.atan2(p,f)):b=Math.atan2(-u,m);break}case"YZX":{b=Math.asin(l(p,-1,1)),Math.abs(p)<A?(C=Math.atan2(-y,m),w=Math.atan2(-g,f)):w=Math.atan2(d,S);break}case"XZY":{b=Math.asin(-l(u,-1,1)),Math.abs(u)<A?(C=Math.atan2(T,m),w=Math.atan2(d,f)):C=Math.atan2(-y,S);break}}return this._x=C,this._y=w,this._z=b,this._order=h,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},8034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(t===0)return 1;for(var l=t;--t;)l*=t;return l};v.exports=x},61616:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return Math.random()*(l-t)+t};v.exports=x},60679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){l===void 0&&(l=0),c===void 0&&(c=10);var a=Math.pow(c,-l);return Math.floor(t*a)/a};v.exports=x},91806:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=function(a,r,s){return a=l(a,0,1),(s-r)*a+r};v.exports=c},79366:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t/l/1e3};v.exports=x},43776:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=x},58442:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=x},42798:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return(l-t)*c+t};v.exports=x},61072:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c===void 0&&(c=0),t.clone().lerp(l,c)};v.exports=x},5341:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new c(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,s=a.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},fromMat4:function(a){var r=a.val,s=this.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],s=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=s,a[7]=e,this},invert:function(){var a=this.val,r=a[0],s=a[1],e=a[2],i=a[3],h=a[4],n=a[5],o=a[6],f=a[7],u=a[8],d=u*h-n*f,p=-u*i+n*o,m=f*i-h*o,y=r*d+s*p+e*m;return y?(y=1/y,a[0]=d*y,a[1]=(-u*s+e*f)*y,a[2]=(n*s-e*h)*y,a[3]=p*y,a[4]=(u*r-e*o)*y,a[5]=(-n*r+e*i)*y,a[6]=m*y,a[7]=(-f*r+s*o)*y,a[8]=(h*r-s*i)*y,this):null},adjoint:function(){var a=this.val,r=a[0],s=a[1],e=a[2],i=a[3],h=a[4],n=a[5],o=a[6],f=a[7],u=a[8];return a[0]=h*u-n*f,a[1]=e*f-s*u,a[2]=s*n-e*h,a[3]=n*o-i*u,a[4]=r*u-e*o,a[5]=e*i-r*n,a[6]=i*f-h*o,a[7]=s*o-r*f,a[8]=r*h-s*i,this},determinant:function(){var a=this.val,r=a[0],s=a[1],e=a[2],i=a[3],h=a[4],n=a[5],o=a[6],f=a[7],u=a[8];return r*(u*h-n*f)+s*(-u*i+n*o)+e*(f*i-h*o)},multiply:function(a){var r=this.val,s=r[0],e=r[1],i=r[2],h=r[3],n=r[4],o=r[5],f=r[6],u=r[7],d=r[8],p=a.val,m=p[0],y=p[1],g=p[2],T=p[3],S=p[4],C=p[5],w=p[6],b=p[7],A=p[8];return r[0]=m*s+y*h+g*f,r[1]=m*e+y*n+g*u,r[2]=m*i+y*o+g*d,r[3]=T*s+S*h+C*f,r[4]=T*e+S*n+C*u,r[5]=T*i+S*o+C*d,r[6]=w*s+b*h+A*f,r[7]=w*e+b*n+A*u,r[8]=w*i+b*o+A*d,this},translate:function(a){var r=this.val,s=a.x,e=a.y;return r[6]=s*r[0]+e*r[3]+r[6],r[7]=s*r[1]+e*r[4]+r[7],r[8]=s*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,s=r[0],e=r[1],i=r[2],h=r[3],n=r[4],o=r[5],f=Math.sin(a),u=Math.cos(a);return r[0]=u*s+f*h,r[1]=u*e+f*n,r[2]=u*i+f*o,r[3]=u*h-f*s,r[4]=u*n-f*e,r[5]=u*o-f*i,this},scale:function(a){var r=this.val,s=a.x,e=a.y;return r[0]=s*r[0],r[1]=s*r[1],r[2]=s*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,s=a.y,e=a.z,i=a.w,h=r+r,n=s+s,o=e+e,f=r*h,u=r*n,d=r*o,p=s*n,m=s*o,y=e*o,g=i*h,T=i*n,S=i*o,C=this.val;return C[0]=1-(p+y),C[3]=u+S,C[6]=d-T,C[1]=u-S,C[4]=1-(f+y),C[7]=m+g,C[2]=d+T,C[5]=m-g,C[8]=1-(f+p),this},normalFromMat4:function(a){var r=a.val,s=this.val,e=r[0],i=r[1],h=r[2],n=r[3],o=r[4],f=r[5],u=r[6],d=r[7],p=r[8],m=r[9],y=r[10],g=r[11],T=r[12],S=r[13],C=r[14],w=r[15],b=e*f-i*o,A=e*u-h*o,D=e*d-n*o,B=i*u-h*f,N=i*d-n*f,Y=h*d-n*u,H=p*S-m*T,j=p*C-y*T,J=p*w-g*T,X=m*C-y*S,W=m*w-g*S,L=y*w-g*C,G=b*L-A*W+D*X+B*J-N*j+Y*H;return G?(G=1/G,s[0]=(f*L-u*W+d*X)*G,s[1]=(u*J-o*L-d*j)*G,s[2]=(o*W-f*J+d*H)*G,s[3]=(h*W-i*L-n*X)*G,s[4]=(e*L-h*J+n*j)*G,s[5]=(i*J-e*W-n*H)*G,s[6]=(S*Y-C*N+w*B)*G,s[7]=(C*D-T*Y-w*A)*G,s[8]=(T*N-S*D+w*b)*G,this):null}});v.exports=c},16650:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(70015),a=1e-6,r=new l({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new r(this)},set:function(o){return this.copy(o)},setValues:function(o,f,u,d,p,m,y,g,T,S,C,w,b,A,D,B){var N=this.val;return N[0]=o,N[1]=f,N[2]=u,N[3]=d,N[4]=p,N[5]=m,N[6]=y,N[7]=g,N[8]=T,N[9]=S,N[10]=C,N[11]=w,N[12]=b,N[13]=A,N[14]=D,N[15]=B,this},copy:function(o){var f=o.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,f,u){var d=s.fromQuat(u),p=d.val,m=f.x,y=f.y,g=f.z;return this.setValues(p[0]*m,p[1]*m,p[2]*m,0,p[4]*y,p[5]*y,p[6]*y,0,p[8]*g,p[9]*g,p[10]*g,0,o.x,o.y,o.z,1)},xyz:function(o,f,u){this.identity();var d=this.val;return d[12]=o,d[13]=f,d[14]=u,this},scaling:function(o,f,u){this.zero();var d=this.val;return d[0]=o,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,f=o[1],u=o[2],d=o[3],p=o[6],m=o[7],y=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=f,o[6]=o[9],o[7]=o[13],o[8]=u,o[9]=p,o[11]=o[14],o[12]=d,o[13]=m,o[14]=y,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,f=o[0],u=o[1],d=o[2],p=o[3],m=o[4],y=o[5],g=o[6],T=o[7],S=o[8],C=o[9],w=o[10],b=o[11],A=o[12],D=o[13],B=o[14],N=o[15],Y=f*y-u*m,H=f*g-d*m,j=f*T-p*m,J=u*g-d*y,X=u*T-p*y,W=d*T-p*g,L=S*D-C*A,G=S*B-w*A,z=S*N-b*A,k=C*B-w*D,K=C*N-b*D,$=w*N-b*B,Q=Y*$-H*K+j*k+J*z-X*G+W*L;return Q?(Q=1/Q,this.setValues((y*$-g*K+T*k)*Q,(d*K-u*$-p*k)*Q,(D*W-B*X+N*J)*Q,(w*X-C*W-b*J)*Q,(g*z-m*$-T*G)*Q,(f*$-d*z+p*G)*Q,(B*j-A*W-N*H)*Q,(S*W-w*j+b*H)*Q,(m*K-y*z+T*L)*Q,(u*z-f*K-p*L)*Q,(A*X-D*j+N*Y)*Q,(C*j-S*X-b*Y)*Q,(y*G-m*k-g*L)*Q,(f*k-u*G+d*L)*Q,(D*H-A*J-B*Y)*Q,(S*J-C*H+w*Y)*Q)):this},adjoint:function(){var o=this.val,f=o[0],u=o[1],d=o[2],p=o[3],m=o[4],y=o[5],g=o[6],T=o[7],S=o[8],C=o[9],w=o[10],b=o[11],A=o[12],D=o[13],B=o[14],N=o[15];return this.setValues(y*(w*N-b*B)-C*(g*N-T*B)+D*(g*b-T*w),-(u*(w*N-b*B)-C*(d*N-p*B)+D*(d*b-p*w)),u*(g*N-T*B)-y*(d*N-p*B)+D*(d*T-p*g),-(u*(g*b-T*w)-y*(d*b-p*w)+C*(d*T-p*g)),-(m*(w*N-b*B)-S*(g*N-T*B)+A*(g*b-T*w)),f*(w*N-b*B)-S*(d*N-p*B)+A*(d*b-p*w),-(f*(g*N-T*B)-m*(d*N-p*B)+A*(d*T-p*g)),f*(g*b-T*w)-m*(d*b-p*w)+S*(d*T-p*g),m*(C*N-b*D)-S*(y*N-T*D)+A*(y*b-T*C),-(f*(C*N-b*D)-S*(u*N-p*D)+A*(u*b-p*C)),f*(y*N-T*D)-m*(u*N-p*D)+A*(u*T-p*y),-(f*(y*b-T*C)-m*(u*b-p*C)+S*(u*T-p*y)),-(m*(C*B-w*D)-S*(y*B-g*D)+A*(y*w-g*C)),f*(C*B-w*D)-S*(u*B-d*D)+A*(u*w-d*C),-(f*(y*B-g*D)-m*(u*B-d*D)+A*(u*g-d*y)),f*(y*w-g*C)-m*(u*w-d*C)+S*(u*g-d*y))},determinant:function(){var o=this.val,f=o[0],u=o[1],d=o[2],p=o[3],m=o[4],y=o[5],g=o[6],T=o[7],S=o[8],C=o[9],w=o[10],b=o[11],A=o[12],D=o[13],B=o[14],N=o[15],Y=f*y-u*m,H=f*g-d*m,j=f*T-p*m,J=u*g-d*y,X=u*T-p*y,W=d*T-p*g,L=S*D-C*A,G=S*B-w*A,z=S*N-b*A,k=C*B-w*D,K=C*N-b*D,$=w*N-b*B;return Y*$-H*K+j*k+J*z-X*G+W*L},multiply:function(o){var f=this.val,u=f[0],d=f[1],p=f[2],m=f[3],y=f[4],g=f[5],T=f[6],S=f[7],C=f[8],w=f[9],b=f[10],A=f[11],D=f[12],B=f[13],N=f[14],Y=f[15],H=o.val,j=H[0],J=H[1],X=H[2],W=H[3];return f[0]=j*u+J*y+X*C+W*D,f[1]=j*d+J*g+X*w+W*B,f[2]=j*p+J*T+X*b+W*N,f[3]=j*m+J*S+X*A+W*Y,j=H[4],J=H[5],X=H[6],W=H[7],f[4]=j*u+J*y+X*C+W*D,f[5]=j*d+J*g+X*w+W*B,f[6]=j*p+J*T+X*b+W*N,f[7]=j*m+J*S+X*A+W*Y,j=H[8],J=H[9],X=H[10],W=H[11],f[8]=j*u+J*y+X*C+W*D,f[9]=j*d+J*g+X*w+W*B,f[10]=j*p+J*T+X*b+W*N,f[11]=j*m+J*S+X*A+W*Y,j=H[12],J=H[13],X=H[14],W=H[15],f[12]=j*u+J*y+X*C+W*D,f[13]=j*d+J*g+X*w+W*B,f[14]=j*p+J*T+X*b+W*N,f[15]=j*m+J*S+X*A+W*Y,this},multiplyLocal:function(o){var f=this.val,u=o.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,f){var u=o.val,d=f.val,p=u[0],m=u[4],y=u[8],g=u[12],T=u[1],S=u[5],C=u[9],w=u[13],b=u[2],A=u[6],D=u[10],B=u[14],N=u[3],Y=u[7],H=u[11],j=u[15],J=d[0],X=d[4],W=d[8],L=d[12],G=d[1],z=d[5],k=d[9],K=d[13],$=d[2],Q=d[6],_=d[10],tt=d[14],nt=d[3],st=d[7],at=d[11],rt=d[15];return this.setValues(p*J+m*G+y*$+g*nt,T*J+S*G+C*$+w*nt,b*J+A*G+D*$+B*nt,N*J+Y*G+H*$+j*nt,p*X+m*z+y*Q+g*st,T*X+S*z+C*Q+w*st,b*X+A*z+D*Q+B*st,N*X+Y*z+H*Q+j*st,p*W+m*k+y*_+g*at,T*W+S*k+C*_+w*at,b*W+A*k+D*_+B*at,N*W+Y*k+H*_+j*at,p*L+m*K+y*tt+g*rt,T*L+S*K+C*tt+w*rt,b*L+A*K+D*tt+B*rt,N*L+Y*K+H*tt+j*rt)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,f,u){var d=this.val;return d[12]=d[0]*o+d[4]*f+d[8]*u+d[12],d[13]=d[1]*o+d[5]*f+d[9]*u+d[13],d[14]=d[2]*o+d[6]*f+d[10]*u+d[14],d[15]=d[3]*o+d[7]*f+d[11]*u+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,f,u){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(o,f){var u=Math.cos(f),d=Math.sin(f),p=1-u,m=o.x,y=o.y,g=o.z,T=p*m,S=p*y;return this.setValues(T*m+u,T*y-d*g,T*g+d*y,0,T*y+d*g,S*y+u,S*g-d*m,0,T*g-d*y,S*g+d*m,p*g*g+u,0,0,0,0,1)},rotate:function(o,f){var u=this.val,d=f.x,p=f.y,m=f.z,y=Math.sqrt(d*d+p*p+m*m);if(Math.abs(y)<a)return this;y=1/y,d*=y,p*=y,m*=y;var g=Math.sin(o),T=Math.cos(o),S=1-T,C=u[0],w=u[1],b=u[2],A=u[3],D=u[4],B=u[5],N=u[6],Y=u[7],H=u[8],j=u[9],J=u[10],X=u[11],W=u[12],L=u[13],G=u[14],z=u[15],k=d*d*S+T,K=p*d*S+m*g,$=m*d*S-p*g,Q=d*p*S-m*g,_=p*p*S+T,tt=m*p*S+d*g,nt=d*m*S+p*g,st=p*m*S-d*g,at=m*m*S+T;return this.setValues(C*k+D*K+H*$,w*k+B*K+j*$,b*k+N*K+J*$,A*k+Y*K+X*$,C*Q+D*_+H*tt,w*Q+B*_+j*tt,b*Q+N*_+J*tt,A*Q+Y*_+X*tt,C*nt+D*st+H*at,w*nt+B*st+j*at,b*nt+N*st+J*at,A*nt+Y*st+X*at,W,L,G,z)},rotateX:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),p=f[4],m=f[5],y=f[6],g=f[7],T=f[8],S=f[9],C=f[10],w=f[11];return f[4]=p*d+T*u,f[5]=m*d+S*u,f[6]=y*d+C*u,f[7]=g*d+w*u,f[8]=T*d-p*u,f[9]=S*d-m*u,f[10]=C*d-y*u,f[11]=w*d-g*u,this},rotateY:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),p=f[0],m=f[1],y=f[2],g=f[3],T=f[8],S=f[9],C=f[10],w=f[11];return f[0]=p*d-T*u,f[1]=m*d-S*u,f[2]=y*d-C*u,f[3]=g*d-w*u,f[8]=p*u+T*d,f[9]=m*u+S*d,f[10]=y*u+C*d,f[11]=g*u+w*d,this},rotateZ:function(o){var f=this.val,u=Math.sin(o),d=Math.cos(o),p=f[0],m=f[1],y=f[2],g=f[3],T=f[4],S=f[5],C=f[6],w=f[7];return f[0]=p*d+T*u,f[1]=m*d+S*u,f[2]=y*d+C*u,f[3]=g*d+w*u,f[4]=T*d-p*u,f[5]=S*d-m*u,f[6]=C*d-y*u,f[7]=w*d-g*u,this},fromRotationTranslation:function(o,f){var u=o.x,d=o.y,p=o.z,m=o.w,y=u+u,g=d+d,T=p+p,S=u*y,C=u*g,w=u*T,b=d*g,A=d*T,D=p*T,B=m*y,N=m*g,Y=m*T;return this.setValues(1-(b+D),C+Y,w-N,0,C-Y,1-(S+D),A+B,0,w+N,A-B,1-(S+b),0,f.x,f.y,f.z,1)},fromQuat:function(o){var f=o.x,u=o.y,d=o.z,p=o.w,m=f+f,y=u+u,g=d+d,T=f*m,S=f*y,C=f*g,w=u*y,b=u*g,A=d*g,D=p*m,B=p*y,N=p*g;return this.setValues(1-(w+A),S+N,C-B,0,S-N,1-(T+A),b+D,0,C+B,b-D,1-(T+w),0,0,0,0,1)},frustum:function(o,f,u,d,p,m){var y=1/(f-o),g=1/(d-u),T=1/(p-m);return this.setValues(p*2*y,0,0,0,0,p*2*g,0,0,(f+o)*y,(d+u)*g,(m+p)*T,-1,0,0,m*p*2*T,0)},perspective:function(o,f,u,d){var p=1/Math.tan(o/2),m=1/(u-d);return this.setValues(p/f,0,0,0,0,p,0,0,0,0,(d+u)*m,-1,0,0,2*d*u*m,0)},perspectiveLH:function(o,f,u,d){return this.setValues(2*u/o,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(o,f,u,d,p,m){var y=o-f,g=u-d,T=p-m;return y=y===0?y:1/y,g=g===0?g:1/g,T=T===0?T:1/T,this.setValues(-2*y,0,0,0,0,-2*g,0,0,0,0,2*T,0,(o+f)*y,(d+u)*g,(m+p)*T,1)},lookAtRH:function(o,f,u){var d=this.val;return n.subVectors(o,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),i.crossVectors(u,n),i.getLengthSquared()===0&&(Math.abs(u.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),i.crossVectors(u,n)),i.normalize(),h.crossVectors(n,i),d[0]=i.x,d[1]=i.y,d[2]=i.z,d[4]=h.x,d[5]=h.y,d[6]=h.z,d[8]=n.x,d[9]=n.y,d[10]=n.z,this},lookAt:function(o,f,u){var d=o.x,p=o.y,m=o.z,y=u.x,g=u.y,T=u.z,S=f.x,C=f.y,w=f.z;if(Math.abs(d-S)<a&&Math.abs(p-C)<a&&Math.abs(m-w)<a)return this.identity();var b=d-S,A=p-C,D=m-w,B=1/Math.sqrt(b*b+A*A+D*D);b*=B,A*=B,D*=B;var N=g*D-T*A,Y=T*b-y*D,H=y*A-g*b;B=Math.sqrt(N*N+Y*Y+H*H),B?(B=1/B,N*=B,Y*=B,H*=B):(N=0,Y=0,H=0);var j=A*H-D*Y,J=D*N-b*H,X=b*Y-A*N;return B=Math.sqrt(j*j+J*J+X*X),B?(B=1/B,j*=B,J*=B,X*=B):(j=0,J=0,X=0),this.setValues(N,j,b,0,Y,J,A,0,H,X,D,0,-(N*d+Y*p+H*m),-(j*d+J*p+X*m),-(b*d+A*p+D*m),1)},yawPitchRoll:function(o,f,u){this.zero(),s.zero(),e.zero();var d=this.val,p=s.val,m=e.val,y=Math.sin(u),g=Math.cos(u);return d[10]=1,d[15]=1,d[0]=g,d[1]=y,d[4]=-y,d[5]=g,y=Math.sin(f),g=Math.cos(f),p[0]=1,p[15]=1,p[5]=g,p[10]=g,p[9]=-y,p[6]=y,y=Math.sin(o),g=Math.cos(o),m[5]=1,m[15]=1,m[0]=g,m[2]=-y,m[8]=y,m[10]=g,this.multiplyLocal(s),this.multiplyLocal(e),this},setWorldMatrix:function(o,f,u,d,p){return this.yawPitchRoll(o.y,o.x,o.z),s.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(e),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(o,f){var u=this.val,d=o.val,p=u[0],m=u[1],y=u[2],g=u[3],T=u[4],S=u[5],C=u[6],w=u[7],b=u[8],A=u[9],D=u[10],B=u[11],N=u[12],Y=u[13],H=u[14],j=u[15],J=d[0],X=d[1],W=d[2],L=d[3],G=d[4],z=d[5],k=d[6],K=d[7],$=d[8],Q=d[9],_=d[10],tt=d[11],nt=d[12],st=d[13],at=d[14],rt=d[15];return f.setValues(J*p+X*T+W*b+L*N,X*m+X*S+W*A+L*Y,W*y+X*C+W*D+L*H,L*g+X*w+W*B+L*j,G*p+z*T+k*b+K*N,G*m+z*S+k*A+K*Y,G*y+z*C+k*D+K*H,G*g+z*w+k*B+K*j,$*p+Q*T+_*b+tt*N,$*m+Q*S+_*A+tt*Y,$*y+Q*C+_*D+tt*H,$*g+Q*w+_*B+tt*j,nt*p+st*T+at*b+rt*N,nt*m+st*S+at*A+rt*Y,nt*y+st*C+at*D+rt*H,nt*g+st*w+at*B+rt*j)},fromRotationXYTranslation:function(o,f,u){var d=f.x,p=f.y,m=f.z,y=Math.sin(o.x),g=Math.cos(o.x),T=Math.sin(o.y),S=Math.cos(o.y),C=d,w=p,b=m,A=-y,D=0-A*T,B=0-g*T,N=A*S,Y=g*S;return u||(C=S*d+T*m,w=D*d+g*p+N*m,b=B*d+y*p+Y*m),this.setValues(S,D,B,0,0,g,y,0,T,N,Y,0,C,w,b,1)},getMaxScaleOnAxis:function(){var o=this.val,f=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],u=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(f,u,d))}}),s=new r,e=new r,i=new c,h=new c,n=new c;v.exports=r},69635:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return Math.min(t+l,c)};v.exports=x},37394:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=t.length;if(l===0)return 0;t.sort(function(a,r){return a-r});var c=Math.floor(l/2);return l%2===0?(t[c]+t[c-1])/2:t[c]};v.exports=x},17259:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return Math.max(t-l,c)};v.exports=x},61820:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){c===void 0&&(c=l+1);var r=(t-l)/(c-l);return r>1?a!==void 0?(r=(a-t)/(a-c),r<0&&(r=0)):r=1:r<0&&(r=0),r};v.exports=x},75003:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(5341),a=t(72283),r=t(70015),s=1e-6,e=new Int8Array([1,2,0]),i=new Float32Array([0,0,0]),h=new r(1,0,0),n=new r(0,1,0),o=new r,f=new c,u=new l({initialize:function(p,m,y,g){this.onChangeCallback=a,this.set(p,m,y,g)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,m,y,g){return g===void 0&&(g=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=m||0,this._w=y||0),g&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,m=this.z,y=this.w;return Math.sqrt(d*d+p*p+m*m+y*y)},lengthSq:function(){var d=this.x,p=this.y,m=this.z,y=this.w;return d*d+p*p+m*m+y*y},normalize:function(){var d=this.x,p=this.y,m=this.z,y=this.w,g=d*d+p*p+m*m+y*y;return g>0&&(g=1/Math.sqrt(g),this._x=d*g,this._y=p*g,this._z=m*g,this._w=y*g),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var m=this.x,y=this.y,g=this.z,T=this.w;return this.set(m+p*(d.x-m),y+p*(d.y-y),g+p*(d.z-g),T+p*(d.w-T))},rotationTo:function(d,p){var m=d.x*p.x+d.y*p.y+d.z*p.z;return m<-.999999?(o.copy(h).cross(d).length()<s&&o.copy(n).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):m>.999999?this.set(0,0,0,1):(o.copy(d).cross(p),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+m,this.normalize())},setAxes:function(d,p,m){var y=f.val;return y[0]=p.x,y[3]=p.y,y[6]=p.z,y[1]=m.x,y[4]=m.y,y[7]=m.z,y[2]=-d.x,y[5]=-d.y,y[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var m=Math.sin(p);return this.set(m*d.x,m*d.y,m*d.z,Math.cos(p))},multiply:function(d){var p=this.x,m=this.y,y=this.z,g=this.w,T=d.x,S=d.y,C=d.z,w=d.w;return this.set(p*w+g*T+m*C-y*S,m*w+g*S+y*T-p*C,y*w+g*C+p*S-m*T,g*w-p*T-m*S-y*C)},slerp:function(d,p){var m=this.x,y=this.y,g=this.z,T=this.w,S=d.x,C=d.y,w=d.z,b=d.w,A=m*S+y*C+g*w+T*b;A<0&&(A=-A,S=-S,C=-C,w=-w,b=-b);var D=1-p,B=p;if(1-A>s){var N=Math.acos(A),Y=Math.sin(N);D=Math.sin((1-p)*N)/Y,B=Math.sin(p*N)/Y}return this.set(D*m+B*S,D*y+B*C,D*g+B*w,D*T+B*b)},invert:function(){var d=this.x,p=this.y,m=this.z,y=this.w,g=d*d+p*p+m*m+y*y,T=g?1/g:0;return this.set(-d*T,-p*T,-m*T,y*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(p*S+g*T,m*S+y*T,y*S-m*T,g*S-p*T)},rotateY:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(p*S-y*T,m*S+g*T,y*S+p*T,g*S-m*T)},rotateZ:function(d){d*=.5;var p=this.x,m=this.y,y=this.z,g=this.w,T=Math.sin(d),S=Math.cos(d);return this.set(p*S+m*T,m*S-p*T,y*S+g*T,g*S-y*T)},calculateW:function(){var d=this.x,p=this.y,m=this.z;return this.w=-Math.sqrt(1-d*d-p*p-m*m),this},setFromEuler:function(d,p){var m=d.x/2,y=d.y/2,g=d.z/2,T=Math.cos(m),S=Math.cos(y),C=Math.cos(g),w=Math.sin(m),b=Math.sin(y),A=Math.sin(g);switch(d.order){case"XYZ":{this.set(w*S*C+T*b*A,T*b*C-w*S*A,T*S*A+w*b*C,T*S*C-w*b*A,p);break}case"YXZ":{this.set(w*S*C+T*b*A,T*b*C-w*S*A,T*S*A-w*b*C,T*S*C+w*b*A,p);break}case"ZXY":{this.set(w*S*C-T*b*A,T*b*C+w*S*A,T*S*A+w*b*C,T*S*C-w*b*A,p);break}case"ZYX":{this.set(w*S*C-T*b*A,T*b*C+w*S*A,T*S*A-w*b*C,T*S*C+w*b*A,p);break}case"YZX":{this.set(w*S*C+T*b*A,T*b*C+w*S*A,T*S*A-w*b*C,T*S*C-w*b*A,p);break}case"XZY":{this.set(w*S*C-T*b*A,T*b*C-w*S*A,T*S*A+w*b*C,T*S*C+w*b*A,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,m=p[0],y=p[4],g=p[8],T=p[1],S=p[5],C=p[9],w=p[2],b=p[6],A=p[10],D=m+S+A,B;return D>0?(B=.5/Math.sqrt(D+1),this.set((b-C)*B,(g-w)*B,(T-y)*B,.25/B)):m>S&&m>A?(B=2*Math.sqrt(1+m-S-A),this.set(.25*B,(y+T)/B,(g+w)/B,(b-C)/B)):S>A?(B=2*Math.sqrt(1+S-m-A),this.set((y+T)/B,.25*B,(C+b)/B,(g-w)/B)):(B=2*Math.sqrt(1+A-m-S),this.set((g+w)/B,(C+b)/B,.25*B,(T-y)/B)),this},fromMat3:function(d){var p=d.val,m=p[0]+p[4]+p[8],y;if(m>0)y=Math.sqrt(m+1),this.w=.5*y,y=.5/y,this._x=(p[7]-p[5])*y,this._y=(p[2]-p[6])*y,this._z=(p[3]-p[1])*y;else{var g=0;p[4]>p[0]&&(g=1),p[8]>p[g*3+g]&&(g=2);var T=e[g],S=e[T];y=Math.sqrt(p[g*3+g]-p[T*3+T]-p[S*3+S]+1),i[g]=.5*y,y=.5/y,i[T]=(p[T*3+g]+p[g*3+T])*y,i[S]=(p[S*3+g]+p[g*3+S])*y,this._x=i[0],this._y=i[1],this._z=i[2],this._w=(p[S*3+T]-p[T*3+S])*y}return this.onChangeCallback(this),this}});v.exports=u},23701:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=function(a){return a*l.RAD_TO_DEG};v.exports=c},16906:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=1);var c=Math.random()*2*Math.PI;return t.x=Math.cos(c)*l,t.y=Math.sin(c)*l,t};v.exports=x},52417:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=1);var c=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*l;return t.x=Math.cos(c)*r,t.y=Math.sin(c)*r,t.z=a*l,t};v.exports=x},17915:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1),t.x=(Math.random()*2-1)*l,t.y=(Math.random()*2-1)*l,t.z=(Math.random()*2-1)*l,t.w=(Math.random()*2-1)*l,t};v.exports=x},52257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.x,a=t.y;return t.x=c*Math.cos(l)-a*Math.sin(l),t.y=c*Math.sin(l)+a*Math.cos(l),t};v.exports=x},2386:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=Math.cos(a),s=Math.sin(a),e=t.x-l,i=t.y-c;return t.x=e*r-i*s+l,t.y=e*s+i*r+c,t};v.exports=x},72395:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){var s=a+Math.atan2(t.y-c,t.x-l);return t.x=l+r*Math.cos(s),t.y=c+r*Math.sin(s),t};v.exports=x},41061:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){return t.x=l+r*Math.cos(a),t.y=c+r*Math.sin(a),t};v.exports=x},93709:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(70015),c=t(16650),a=t(75003),r=new c,s=new a,e=new l,i=function(h,n,o){return s.setAxisAngle(n,o),r.fromRotationTranslation(s,e.set(0,0,0)),h.transformMat4(r)};v.exports=i},67233:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=x},64333:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){l===void 0&&(l=0),c===void 0&&(c=10);var a=Math.pow(c,-l);return Math.round(t*a)/a};v.exports=x},59533:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l===void 0&&(l=1),c===void 0&&(c=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],s=[],e=0;e<t;e++)c-=l*a,l+=c*a,r[e]=c,s[e]=l;return{sin:s,cos:r,length:t}};v.exports=x},5514:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t<=l?0:t>=c?1:(t=(t-l)/(c-l),t*t*(3-2*t))};v.exports=x},87736:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t=Math.max(0,Math.min(1,(t-l)/(c-l))),t*t*t*(t*(t*6-15)+10)};v.exports=x},55805:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e){e===void 0&&(e=new l);var i=0,h=0,n=r*s;return a>0&&a<=n&&(a>r-1?(h=Math.floor(a/r),i=a-h*r):i=a),e.set(i,h)};v.exports=c},64462:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i,h,n,o){o===void 0&&(o=new l);var f=Math.sin(i),u=Math.cos(i),d=u*h,p=f*h,m=-f*n,y=u*n,g=1/(d*y+m*-p);return o.x=y*g*a+-m*g*r+(e*m-s*y)*g,o.y=d*g*r+-p*g*a+(-e*d+s*p)*g,o};v.exports=c},93736:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(88456),a=new l({initialize:function(s,e){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(e===void 0&&(e=s),this.x=s||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,s){return s===void 0&&(s=r),this.x=r,this.y=s,this},setTo:function(r,s){return this.set(r,s)},setToPolar:function(r,s){return s==null&&(s=1),this.x=Math.cos(r)*s,this.y=Math.sin(r)*s,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,s){return c(this.x,r.x,s)&&c(this.y,r.y,s)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var s=r.x-this.x,e=r.y-this.y;return Math.sqrt(s*s+e*e)},distanceSq:function(r){var s=r.x-this.x,e=r.y-this.y;return s*s+e*e},length:function(){var r=this.x,s=this.y;return Math.sqrt(r*r+s*s)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,s=this.y;return r*r+s*s},normalize:function(){var r=this.x,s=this.y,e=r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=s*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,s){s===void 0&&(s=0);var e=this.x,i=this.y;return this.x=e+s*(r.x-e),this.y=i+s*(r.y-i),this},transformMat3:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[3]*e+i[6],this.y=i[1]*s+i[4]*e+i[7],this},transformMat4:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[4]*e+i[12],this.y=i[1]*s+i[5]*e+i[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var s=this.length();return s&&s>r&&this.scale(r/s),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var s=Math.cos(r),e=Math.sin(r);return this.set(s*this.x-e*this.y,e*this.x+s*this.y)},project:function(r){var s=this.dot(r)/r.dot(r);return this.copy(r).scale(s)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},70015:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=s||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},crossVectors:function(a,r){var s=a.x,e=a.y,i=a.z,h=r.x,n=r.y,o=r.z;return this.x=e*o-i*n,this.y=i*h-s*o,this.z=s*n-e*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,s){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=s||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+s*s+e*e)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0;return r*r+s*s+e*e},length:function(){var a=this.x,r=this.y,s=this.z;return Math.sqrt(a*a+r*r+s*s)},lengthSq:function(){var a=this.x,r=this.y,s=this.z;return a*a+r*r+s*s},normalize:function(){var a=this.x,r=this.y,s=this.z,e=a*a+r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=s*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,s=this.y,e=this.z,i=a.x,h=a.y,n=a.z;return this.x=s*n-e*h,this.y=e*i-r*n,this.z=r*h-s*i,this},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z;return this.x=s+r*(a.x-s),this.y=e+r*(a.y-e),this.z=i+r*(a.z-i),this},applyMatrix3:function(a){var r=this.x,s=this.y,e=this.z,i=a.val;return this.x=i[0]*r+i[3]*s+i[6]*e,this.y=i[1]*r+i[4]*s+i[7]*e,this.z=i[2]*r+i[5]*s+i[8]*e,this},applyMatrix4:function(a){var r=this.x,s=this.y,e=this.z,i=a.val,h=1/(i[3]*r+i[7]*s+i[11]*e+i[15]);return this.x=(i[0]*r+i[4]*s+i[8]*e+i[12])*h,this.y=(i[1]*r+i[5]*s+i[9]*e+i[13])*h,this.z=(i[2]*r+i[6]*s+i[10]*e+i[14])*h,this},transformMat3:function(a){var r=this.x,s=this.y,e=this.z,i=a.val;return this.x=r*i[0]+s*i[3]+e*i[6],this.y=r*i[1]+s*i[4]+e*i[7],this.z=r*i[2]+s*i[5]+e*i[8],this},transformMat4:function(a){var r=this.x,s=this.y,e=this.z,i=a.val;return this.x=i[0]*r+i[4]*s+i[8]*e+i[12],this.y=i[1]*r+i[5]*s+i[9]*e+i[13],this.z=i[2]*r+i[6]*s+i[10]*e+i[14],this},transformCoordinates:function(a){var r=this.x,s=this.y,e=this.z,i=a.val,h=r*i[0]+s*i[4]+e*i[8]+i[12],n=r*i[1]+s*i[5]+e*i[9]+i[13],o=r*i[2]+s*i[6]+e*i[10]+i[14],f=r*i[3]+s*i[7]+e*i[11]+i[15];return this.x=h/f,this.y=n/f,this.z=o/f,this},transformQuat:function(a){var r=this.x,s=this.y,e=this.z,i=a.x,h=a.y,n=a.z,o=a.w,f=o*r+h*e-n*s,u=o*s+n*r-i*e,d=o*e+i*s-h*r,p=-i*r-h*s-n*e;return this.x=f*o+p*-i+u*-n-d*-h,this.y=u*o+p*-h+d*-i-f*-n,this.z=d*o+p*-n+f*-h-u*-i,this},project:function(a){var r=this.x,s=this.y,e=this.z,i=a.val,h=i[0],n=i[1],o=i[2],f=i[3],u=i[4],d=i[5],p=i[6],m=i[7],y=i[8],g=i[9],T=i[10],S=i[11],C=i[12],w=i[13],b=i[14],A=i[15],D=1/(r*f+s*m+e*S+A);return this.x=(r*h+s*u+e*y+C)*D,this.y=(r*n+s*d+e*g+w)*D,this.z=(r*o+s*p+e*T+b)*D,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var s=a.x,e=a.y,i=a.z,h=a.w,n=this.x-s,o=h-this.y-1-e,f=this.z;return this.x=2*n/i-1,this.y=2*o/h-1,this.z=2*f-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),v.exports=c},51729:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=s||0,this.z=e||0,this.w=i||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,s,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=s||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,s=this.z,e=this.w;return Math.sqrt(a*a+r*r+s*s+e*e)},lengthSq:function(){var a=this.x,r=this.y,s=this.z,e=this.w;return a*a+r*r+s*s+e*e},normalize:function(){var a=this.x,r=this.y,s=this.z,e=this.w,i=a*a+r*r+s*s+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i,this.z=s*i,this.w=e*i),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z,h=this.w;return this.x=s+r*(a.x-s),this.y=e+r*(a.y-e),this.z=i+r*(a.z-i),this.w=h+r*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,i=a.w-this.w||0;return Math.sqrt(r*r+s*s+e*e+i*i)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,e=a.z-this.z||0,i=a.w-this.w||0;return r*r+s*s+e*e+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,s=this.y,e=this.z,i=this.w,h=a.val;return this.x=h[0]*r+h[4]*s+h[8]*e+h[12]*i,this.y=h[1]*r+h[5]*s+h[9]*e+h[13]*i,this.z=h[2]*r+h[6]*s+h[10]*e+h[14]*i,this.w=h[3]*r+h[7]*s+h[11]*e+h[15]*i,this},transformQuat:function(a){var r=this.x,s=this.y,e=this.z,i=a.x,h=a.y,n=a.z,o=a.w,f=o*r+h*e-n*s,u=o*s+n*r-i*e,d=o*e+i*s-h*r,p=-i*r-h*s-n*e;return this.x=f*o+p*-i+u*-n-d*-h,this.y=u*o+p*-h+d*-i-f*-n,this.z=d*o+p*-n+f*-h-u*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,v.exports=c},9557:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return Math.abs(t-l)<=c};v.exports=x},1071:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(t>=l&&t<=c)return t;var a=c-l;return l+((t-l)%a+a)%a};v.exports=x},90447:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return Math.atan2(a-l,c-t)};v.exports=x},94240:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)};v.exports=x},84066:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return Math.atan2(l.x-t.x,l.y-t.y)};v.exports=x},9678:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return Math.atan2(c-t,a-l)};v.exports=x},76861:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=function(a){return a>Math.PI&&(a-=l.PI2),Math.abs(((a+l.TAU)%l.PI2-l.PI2)%l.PI2)};v.exports=c},37570:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=x},87597:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61616),c=function(){return l(-Math.PI,Math.PI)};v.exports=c},74493:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61616),c=function(){return l(-180,180)};v.exports=c},19049:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(37570),c=function(a){return l(a+Math.PI)};v.exports=c},90612:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=function(a,r,s){return s===void 0&&(s=.05),a===r||(Math.abs(r-a)<=s||Math.abs(r-a)>=l.PI2-s?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=l.PI2:r-=l.PI2),r>a?a+=s:r<a&&(a-=s))),a};v.exports=c},93954:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=l-t;if(c===0)return 0;var a=Math.floor((c- -180)/360);return c-a*360};v.exports=x},35786:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),c=function(a){return l(a,-Math.PI,Math.PI)};v.exports=c},62138:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(1071),c=function(a){return l(a,-180,180)};v.exports=c},22153:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=x},53996:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=t-c,s=l-a;return Math.sqrt(r*r+s*s)};v.exports=x},92951:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.x-l.x,a=t.y-l.y;return Math.sqrt(c*c+a*a)};v.exports=x},12161:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.x-l.x,a=t.y-l.y;return c*c+a*a};v.exports=x},38057:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return Math.max(Math.abs(t-c),Math.abs(l-a))};v.exports=x},33297:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(c-t,r)+Math.pow(a-l,r))};v.exports=x},90366:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return Math.abs(t-c)+Math.abs(l-a)};v.exports=x},35032:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=t-c,s=l-a;return r*r+s*s};v.exports=x},10130:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25265),c=t(57428),a=t(73214),r=t(71778),s=t(36468),e=t(88258),i=t(52910),h=t(67799),n=t(74083),o=t(92284),f=t(28035),u=t(8754);v.exports={Power0:i,Power1:h.Out,Power2:r.Out,Power3:n.Out,Power4:o.Out,Linear:i,Quad:h.Out,Cubic:r.Out,Quart:n.Out,Quint:o.Out,Sine:f.Out,Expo:e.Out,Circ:a.Out,Elastic:s.Out,Back:l.Out,Bounce:c.Out,Stepped:u,"Quad.easeIn":h.In,"Cubic.easeIn":r.In,"Quart.easeIn":n.In,"Quint.easeIn":o.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":s.In,"Back.easeIn":l.In,"Bounce.easeIn":c.In,"Quad.easeOut":h.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":n.Out,"Quint.easeOut":o.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":s.Out,"Back.easeOut":l.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":c.InOut}},25860:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1.70158),t*t*((l+1)*t-l)};v.exports=x},45264:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=1.70158);var c=l*1.525;return(t*=2)<1?.5*(t*t*((c+1)*t-c)):.5*((t-=2)*t*((c+1)*t+c)+2)};v.exports=x},36699:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1.70158),--t*t*((l+1)*t+l)+1};v.exports=x},25265:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=x},24799:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=!1;return t<.5?(t=1-t*2,l=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,l?(1-t)*.5:t*.5+.5};v.exports=x},60819:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=x},57428:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.sqrt(1-t*t)};v.exports=x},7280:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=x},18058:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.sqrt(1- --t*t)};v.exports=x},73214:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t};v.exports=x},63180:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=x},16518:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t+1};v.exports=x},71778:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===void 0&&(l=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return l<1?l=1:a=c*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c))};v.exports=x},50325:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===void 0&&(l=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return l<1?l=1:a=c*Math.asin(1/l)/(2*Math.PI),(t*=2)<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)):l*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)*.5+1};v.exports=x},84074:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===void 0&&(l=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return l<1?l=1:a=c*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/c)+1};v.exports=x},36468:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=x},10357:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=x},14894:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1-Math.pow(2,-10*t)};v.exports=x},88258:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t};v.exports=x},52910:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(43927)},77471:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t};v.exports=x},83863:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=x},44383:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*(2-t)};v.exports=x},67799:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t};v.exports=x},55248:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=x},23135:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return 1- --t*t*t*t};v.exports=x},74083:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t*t*t*t*t};v.exports=x},98759:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=x},26670:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return--t*t*t*t*t+1};v.exports=x},92284:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=x},66333:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=x},37255:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=x},28035:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1),t<=0?0:t>=1?1:((l*t|0)+1)*(1/l)};v.exports=x},8754:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(52770)},17247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1e-4),Math.ceil(t-l)};v.exports=x},88456:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c===void 0&&(c=1e-4),Math.abs(t-l)<c};v.exports=x},61824:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===void 0&&(l=1e-4),Math.floor(t+l)};v.exports=x},41935:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c===void 0&&(c=1e-4),t>l-c};v.exports=x},54726:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return c===void 0&&(c=1e-4),t<l+c};v.exports=x},52778:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(83392),c=t(98611),a={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};a=c(!1,a,l),v.exports=a},63210:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(22824),c=function(a,r){for(var s=0,e=a.length-1,i=0;i<=e;i++)s+=Math.pow(1-r,e-i)*Math.pow(r,i)*a[i]*l(e,i);return s};v.exports=c},88332:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14976),c=function(a,r){var s=a.length-1,e=s*r,i=Math.floor(e);return a[0]===a[s]?(r<0&&(i=Math.floor(e=s*(1+r))),l(e-i,a[(i-1+s)%s],a[i],a[(i+1)%s],a[(i+2)%s])):r<0?a[0]-(l(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[s]-(l(e-s,a[s],a[s],a[s-1],a[s-1])-a[s]):l(e-i,a[i?i-1:0],a[i],a[s<i+1?s:i+1],a[s<i+2?s:i+2])};v.exports=c},34631:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(r,s){var e=1-r;return e*e*e*s}function t(r,s){var e=1-r;return 3*e*e*r*s}function l(r,s){return 3*(1-r)*r*r*s}function c(r,s){return r*r*r*s}var a=function(r,s,e,i,h){return x(r,s)+t(r,e)+l(r,i)+c(r,h)};v.exports=a},47614:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42798),c=function(a,r){var s=a.length-1,e=s*r,i=Math.floor(e);return r<0?l(a[0],a[1],e):r>1?l(a[s],a[s-1],s-e):l(a[i],a[i+1>s?s:i+1],e-i)};v.exports=c},16252:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,r){var s=1-a;return s*s*r}function t(a,r){return 2*(1-a)*a*r}function l(a,r){return a*a*r}var c=function(a,r,s,e){return x(a,r)+t(a,s)+l(a,e)};v.exports=c},44521:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5514),c=function(a,r,s){return r+(s-r)*l(a,0,1)};v.exports=c},45507:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(87736),c=function(a,r,s){return r+(s-r)*l(a,0,1)};v.exports=c},48528:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=Math.log(t)/.6931471805599453;return 1<<Math.ceil(l)};v.exports=x},28621:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t>0&&(t&t-1)===0&&l>0&&(l&l-1)===0};v.exports=x},2018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t>0&&(t&t-1)===0};v.exports=x},73773:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,s=this.n;a=a.toString();for(var e=0;e<a.length;e++)s+=a.charCodeAt(e),r=.02519603282416938*s,s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var s=a[r];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-1)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,s=r;s>0;s--){var e=Math.floor(this.frac()*(s+1)),i=a[e];a[e]=a[s],a[s]=i}return a}});v.exports=c},82127:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return c===void 0&&(c=0),l===0?t:(t-=c,t=l*Math.ceil(t/l),a?(c+t)/l:c+t)};v.exports=x},84314:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return c===void 0&&(c=0),l===0?t:(t-=c,t=l*Math.floor(t/l),a?(c+t)/l:c+t)};v.exports=x},88462:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){return c===void 0&&(c=0),l===0?t:(t-=c,t=l*Math.round(t/l),a?(c+t)/l:c+t)};v.exports=x},23679:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var l=t(86459),c=t(98611),a={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};a.Sound=t(56751),a=c(!1,a,l),v.exports=a,t.g.Phaser=a},62832:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(7864),a=t(1539),r=new l({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,h,n,o){a.call(this,e,i,h,n,o),this.body=null}});v.exports=r},66150:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(75606),a=t(53996),r=t(35032),s=t(99523),e=t(72632),i=t(30657),h=t(2732),n=t(15147),o=t(91963),f=t(7599),u=t(93736),d=t(85233),p=new l({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,y.sys.events.once(f.BOOT,this.boot,this),y.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new s(this.world));var m=this.systems.events;e(this.config,"customUpdate",!1)||m.on(f.UPDATE,this.world.update,this.world),m.on(f.POST_UPDATE,this.world.postUpdate,this.world),m.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,y=this.systems.settings.physics,g=i(e(y,"arcade",{}),e(m,"arcade",{}));return g},overlap:function(m,y,g,T,S){return g===void 0&&(g=null),T===void 0&&(T=null),S===void 0&&(S=g),this.world.collideObjects(m,y,g,T,S,!0)},collide:function(m,y,g,T,S){return g===void 0&&(g=null),T===void 0&&(T=null),S===void 0&&(S=g),this.world.collideObjects(m,y,g,T,S,!1)},collideTiles:function(m,y,g,T,S){return this.world.collideTiles(m,y,g,T,S)},overlapTiles:function(m,y,g,T,S){return this.world.overlapTiles(m,y,g,T,S)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,y,g,T,S,C){T===void 0&&(T=60);var w=Math.atan2(g-m.y,y-m.x);return m.body.acceleration.setToPolar(w,T),S!==void 0&&C!==void 0&&m.body.maxVelocity.set(S,C),w},accelerateToObject:function(m,y,g,T,S){return this.accelerateTo(m,y.x,y.y,g,T,S)},closest:function(m,y){y||(y=this.world.bodies.entries);for(var g=Number.MAX_VALUE,T=null,S=m.x,C=m.y,w=y.length,b=0;b<w;b++){var A=y[b],D=A.body||A;if(!(m===A||m===D||m===D.gameObject||m===D.center)){var B=r(S,C,D.center.x,D.center.y);B<g&&(T=A,g=B)}}return T},furthest:function(m,y){y||(y=this.world.bodies.entries);for(var g=-1,T=null,S=m.x,C=m.y,w=y.length,b=0;b<w;b++){var A=y[b],D=A.body||A;if(!(m===A||m===D||m===D.gameObject||m===D.center)){var B=r(S,C,D.center.x,D.center.y);B>g&&(T=A,g=B)}}return T},moveTo:function(m,y,g,T,S){T===void 0&&(T=60),S===void 0&&(S=0);var C=Math.atan2(g-m.y,y-m.x);return S>0&&(T=a(m.x,m.y,y,g)/(S/1e3)),m.body.velocity.setToPolar(C,T),C},moveToObject:function(m,y,g,T){return this.moveTo(m,y.x,y.y,g,T)},velocityFromAngle:function(m,y,g){return y===void 0&&(y=60),g===void 0&&(g=new u),g.setToPolar(c(m),y)},velocityFromRotation:function(m,y,g){return y===void 0&&(y=60),g===void 0&&(g=new u),g.setToPolar(m,y)},overlapRect:function(m,y,g,T,S,C){return n(this.world,m,y,g,T,S,C)},overlapCirc:function(m,y,g,T,S){return h(this.world,m,y,g,T,S)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(f.UPDATE,this.world.update,this.world),m.off(f.POST_UPDATE,this.world.postUpdate,this.world),m.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",p,"arcadePhysics"),v.exports=p},25084:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(7864),a=t(13747),r=new l({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,h,n,o){a.call(this,e,i,h,n,o),this.body=null}});v.exports=r},97602:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(47401),a=t(27037),r=t(23701),s=t(74118),e=t(94287),i=t(93736),h=new l({initialize:function(o,f){var u=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=f!==void 0;m&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),m||(f=p),this.world=o,this.gameObject=m?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=u,this.height=d,this.sourceWidth=u,this.sourceHeight=d,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(u/2),this.halfHeight=Math.abs(d/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var n=this.gameObject,o=this.transform;if(n.parentContainer){var f=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=f.tx,o.y=f.ty,o.rotation=r(f.rotation),o.scaleX=f.scaleX,o.scaleY=f.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY}else o.x=n.x,o.y=n.y,o.rotation=n.angle,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY;var u=!1;if(this.syncBounds){var d=n.getBounds(this._bounds);this.width=d.width,this.height=d.height,u=!0}else{var p=Math.abs(o.scaleX),m=Math.abs(o.scaleY);(this._sx!==p||this._sy!==m)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*m,this._sx=p,this._sy=m,u=!0)}u&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var o=this.wasTouching,f=this.touching,u=this.blocked;n?(o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1):(o.none=f.none,o.up=f.up,o.down=f.down,o.left=f.left,o.right=f.right),f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1,u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,o){n&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(o)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var o=this.velocity.x,f=this.velocity.y;this.newVelocity.set(o*n,f*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(f,o),this.speed=Math.sqrt(o*o+f*f),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(a.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y,f=this.gameObject;if(this.moves){var u=this.deltaMax.x,d=this.deltaMax.y;u!==0&&n!==0&&(n<0&&n<-u?n=-u:n>0&&n>u&&(n=u)),d!==0&&o!==0&&(o<0&&o<-d?o=-d:o>0&&o>d&&(o=d)),f&&(f.x+=n,f.y+=o)}n<0?this.facing=c.FACING_LEFT:n>0&&(this.facing=c.FACING_RIGHT),o<0?this.facing=c.FACING_UP:o>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&f&&(f.angle+=this.deltaZ()),this._tx=n,this._ty=o},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,o=this.customBoundsRectangle,f=this.world.checkCollision,u=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return n.x<o.x&&f.left?(n.x=o.x,this.velocity.x*=u,this.blocked.left=!0,p=!0):this.right>o.right&&f.right&&(n.x=o.right-this.width,this.velocity.x*=u,this.blocked.right=!0,p=!0),n.y<o.y&&f.up?(n.y=o.y,this.velocity.y*=d,this.blocked.up=!0,p=!0):this.bottom>o.bottom&&f.down&&(n.y=o.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1,this.updateCenter()),p},setOffset:function(n,o){return o===void 0&&(o=n),this.offset.set(n,o),this},setGameObject:function(n,o){return o===void 0&&(o=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=n,n.body&&(n.body=this),this.setSize(),this.world.add(this),this.enable=o,this},setSize:function(n,o,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&(!n&&u.frame&&(n=u.frame.realWidth),!o&&u.frame&&(o=u.frame.realHeight)),this.sourceWidth=n,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&u&&u.getCenter){var d=(u.width-n)/2,p=(u.height-o)/2;this.offset.set(d,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,o,f){return o===void 0&&(o=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,f),this.updateCenter()):this.isCircle=!1,this},reset:function(n,o){this.stop();var f=this.gameObject;f&&(f.setPosition(n,o),this.rotation=f.angle,this.preRotation=f.angle);var u=this.position;f&&f.getTopLeft?f.getTopLeft(u):u.set(n,o),this.prev.copy(u),this.prevFrame.copy(u),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,o){if(!this.isCircle)return e(this,n,o);if(this.radius>0&&n>=this.left&&n<=this.right&&o>=this.top&&o<=this.bottom){var f=(this.center.x-n)*(this.center.x-n),u=(this.center.y-o)*(this.center.y-o);return f+u<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var o=this.position,f=o.x+this.halfWidth,u=o.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(f,u,this.width/2):(this.checkCollision.up&&n.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&n.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&n.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&n.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(f,u,f+this.velocity.x/2,u+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,o,f,u){n===void 0&&(n=!0),this.collideWorldBounds=n;var d=o!==void 0,p=f!==void 0;return(d||p)&&(this.worldBounce||(this.worldBounce=new i),d&&(this.worldBounce.x=o),p&&(this.worldBounce.y=f)),u!==void 0&&(this.onWorldBounds=u),this},setVelocity:function(n,o){return this.velocity.set(n,o),n=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(n*n+o*o),this},setVelocityX:function(n){return this.setVelocity(n,this.velocity.y)},setVelocityY:function(n){return this.setVelocity(this.velocity.x,n)},setMaxVelocity:function(n,o){return this.maxVelocity.set(n,o),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,o){return this.bounce.set(n,o),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,o){return this.acceleration.set(n,o),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,o){return this.drag.set(n,o),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,o){return this.gravity.set(n,o),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,o){return this.friction.set(n,o),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,o,f,u){this.x+=n,this.updateCenter(),o!==null&&(this.velocity.x=o);var d=this.blocked;f&&(d.left=!0,d.none=!1),u&&(d.right=!0,d.none=!1)},processY:function(n,o,f,u){this.y+=n,this.updateCenter(),o!==null&&(this.velocity.y=o);var d=this.blocked;f&&(d.up=!0,d.none=!1),u&&(d.down=!0,d.none=!1)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=h},3909:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i,h,n,o){this.world=r,this.name="",this.active=!0,this.overlapOnly=s,this.object1=e,this.object2=i,this.collideCallback=h,this.processCallback=n,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=c},99523:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62832),c=t(25084),a=t(97602),r=t(56694),s=t(47401),e=t(10481),i=t(66634),h=t(46346),n=new r({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(o,f,u,d,p){return this.world.addCollider(o,f,u,d,p)},overlap:function(o,f,u,d,p){return this.world.addOverlap(o,f,u,d,p)},existing:function(o,f){var u=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(o,u),o},staticImage:function(o,f,u,d){var p=new l(this.scene,o,f,u,d);return this.sys.displayList.add(p),this.world.enableBody(p,s.STATIC_BODY),p},image:function(o,f,u,d){var p=new l(this.scene,o,f,u,d);return this.sys.displayList.add(p),this.world.enableBody(p,s.DYNAMIC_BODY),p},staticSprite:function(o,f,u,d){var p=new c(this.scene,o,f,u,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,s.STATIC_BODY),p},sprite:function(o,f,u,d){var p=new c(this.scene,o,f,u,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,s.DYNAMIC_BODY),p},staticGroup:function(o,f){return this.sys.updateList.add(new h(this.world,this.world.scene,o,f))},group:function(o,f){return this.sys.updateList.add(new e(this.world,this.world.scene,o,f))},body:function(o,f,u,d){var p=new a(this.world);return p.position.set(o,f),u&&d&&p.setSize(u,d),this.world.add(p,s.DYNAMIC_BODY),p},staticBody:function(o,f,u,d){var p=new i(this.world);return p.position.set(o,f),u&&d&&p.setSize(u,d),this.world.add(p,s.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=n},75671:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),c=function(a,r,s,e){var i=0,h=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(i=a.right-r.x,i>h&&!s||a.checkCollision.right===!1||r.checkCollision.left===!1?i=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(i=a.x-r.width-r.x,-i>h&&!s||a.checkCollision.left===!1||r.checkCollision.right===!1?i=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=i,r.overlapX=i,i};v.exports=c},66185:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),c=function(a,r,s,e){var i=0,h=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(i=a.bottom-r.y,i>h&&!s||a.checkCollision.down===!1||r.checkCollision.up===!1?i=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(i=a.y-r.bottom,-i>h&&!s||a.checkCollision.up===!1||r.checkCollision.down===!1?i=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===l.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===l.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=i,r.overlapY=i,i};v.exports=c},10481:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25084),c=t(56694),a=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new c({Extends:s,initialize:function(n,o,f,u){if(!f&&!u)u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(f))u=f,f=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&e(f[0])){u=f[0];var d=this;f.forEach(function(p){p.internalCreateCallback=d.createCallbackHandler,p.internalRemoveCallback=d.removeCallbackHandler}),f=null}else u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,u.classType=r(u,"classType",l),this.physicsType=a.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(u,"collideWorldBounds",!1),setBoundsRectangle:r(u,"customBoundsRectangle",null),setAccelerationX:r(u,"accelerationX",0),setAccelerationY:r(u,"accelerationY",0),setAllowDrag:r(u,"allowDrag",!0),setAllowGravity:r(u,"allowGravity",!0),setAllowRotation:r(u,"allowRotation",!0),setDamping:r(u,"useDamping",!1),setBounceX:r(u,"bounceX",0),setBounceY:r(u,"bounceY",0),setDragX:r(u,"dragX",0),setDragY:r(u,"dragY",0),setEnable:r(u,"enable",!0),setGravityX:r(u,"gravityX",0),setGravityY:r(u,"gravityY",0),setFrictionX:r(u,"frictionX",0),setFrictionY:r(u,"frictionY",0),setMaxSpeed:r(u,"maxSpeed",-1),setMaxVelocityX:r(u,"maxVelocityX",1e4),setMaxVelocityY:r(u,"maxVelocityY",1e4),setVelocityX:r(u,"velocityX",0),setVelocityY:r(u,"velocityY",0),setAngularVelocity:r(u,"angularVelocity",0),setAngularAcceleration:r(u,"angularAcceleration",0),setAngularDrag:r(u,"angularDrag",0),setMass:r(u,"mass",1),setImmovable:r(u,"immovable",!1)},s.call(this,o,f,u),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,a.DYNAMIC_BODY);var n=h.body;for(var o in this.defaults)n[o](this.defaults[o])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,n,o){o===void 0&&(o=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.set(h+u*o,n+u*o);return this},setVelocityX:function(h,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.x=h+f*n;return this},setVelocityY:function(h,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.y=h+f*n;return this}});v.exports=i},22916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,l,c,a,r,s,e,i,h,n,o,f,u,d,p,m,y=function(b,A,D){x=b,t=A;var B=x.velocity.x,N=t.velocity.x;return l=x.pushable,i=x._dx<0,h=x._dx>0,n=x._dx===0,d=Math.abs(x.right-t.x)<=Math.abs(t.right-x.x),s=N-B*x.bounce.x,c=t.pushable,o=t._dx<0,f=t._dx>0,u=t._dx===0,p=!d,e=B-N*t.bounce.x,m=Math.abs(D),g()},g=function(){return h&&d&&t.blocked.right?(x.processX(-m,s,!1,!0),1):i&&p&&t.blocked.left?(x.processX(m,s,!0),1):f&&p&&x.blocked.right?(t.processX(-m,e,!1,!0),2):o&&d&&x.blocked.left?(t.processX(m,e,!0),2):0},T=function(){var b=x.velocity.x,A=t.velocity.x,D=Math.sqrt(A*A*t.mass/x.mass)*(A>0?1:-1),B=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),N=(D+B)*.5;return D-=N,B-=N,a=N+D*x.bounce.x,r=N+B*t.bounce.x,i&&p?S(0):o&&d?S(1):h&&d?S(2):f&&p?S(3):!1},S=function(b){if(l&&c)m*=.5,b===0||b===3?(x.processX(m,a),t.processX(-m,r)):(x.processX(-m,a),t.processX(m,r));else if(l&&!c)b===0||b===3?x.processX(m,s,!0):x.processX(-m,s,!1,!0);else if(!l&&c)b===0||b===3?t.processX(-m,e,!1,!0):t.processX(m,e,!0);else{var A=m*.5;b===0?u?(x.processX(m,0,!0),t.processX(0,null,!1,!0)):f?(x.processX(A,0,!0),t.processX(-A,0,!1,!0)):(x.processX(A,t.velocity.x,!0),t.processX(-A,null,!1,!0)):b===1?n?(x.processX(0,null,!1,!0),t.processX(m,0,!0)):h?(x.processX(-A,0,!1,!0),t.processX(A,0,!0)):(x.processX(-A,null,!1,!0),t.processX(A,x.velocity.x,!0)):b===2?u?(x.processX(-m,0,!1,!0),t.processX(0,null,!0)):o?(x.processX(-A,0,!1,!0),t.processX(A,0,!0)):(x.processX(-A,t.velocity.x,!1,!0),t.processX(A,null,!0)):b===3&&(n?(x.processX(0,null,!0),t.processX(-m,0,!1,!0)):i?(x.processX(A,0,!0),t.processX(-A,0,!1,!0)):(x.processX(A,t.velocity.y,!0),t.processX(-A,null,!1,!0)))}return!0},C=function(b){b===1?t.velocity.x=0:d?t.processX(m,e,!0):t.processX(-m,e,!1,!0),x.moves&&(t.y+=(x.y-x.prev.y)*x.friction.y,t._dy=t.y-t.prev.y)},w=function(b){b===2?x.velocity.x=0:p?x.processX(m,s,!0):x.processX(-m,s,!1,!0),t.moves&&(x.y+=(t.y-t.prev.y)*t.friction.y,x._dy=x.y-x.prev.y)};v.exports={BlockCheck:g,Check:T,Set:y,Run:S,RunImmovableBody1:C,RunImmovableBody2:w}},67050:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,t,l,c,a,r,s,e,i,h,n,o,f,u,d,p,m,y=function(b,A,D){x=b,t=A;var B=x.velocity.y,N=t.velocity.y;return l=x.pushable,i=x._dy<0,h=x._dy>0,n=x._dy===0,d=Math.abs(x.bottom-t.y)<=Math.abs(t.bottom-x.y),s=N-B*x.bounce.y,c=t.pushable,o=t._dy<0,f=t._dy>0,u=t._dy===0,p=!d,e=B-N*t.bounce.y,m=Math.abs(D),g()},g=function(){return h&&d&&t.blocked.down?(x.processY(-m,s,!1,!0),1):i&&p&&t.blocked.up?(x.processY(m,s,!0),1):f&&p&&x.blocked.down?(t.processY(-m,e,!1,!0),2):o&&d&&x.blocked.up?(t.processY(m,e,!0),2):0},T=function(){var b=x.velocity.y,A=t.velocity.y,D=Math.sqrt(A*A*t.mass/x.mass)*(A>0?1:-1),B=Math.sqrt(b*b*x.mass/t.mass)*(b>0?1:-1),N=(D+B)*.5;return D-=N,B-=N,a=N+D*x.bounce.y,r=N+B*t.bounce.y,i&&p?S(0):o&&d?S(1):h&&d?S(2):f&&p?S(3):!1},S=function(b){if(l&&c)m*=.5,b===0||b===3?(x.processY(m,a),t.processY(-m,r)):(x.processY(-m,a),t.processY(m,r));else if(l&&!c)b===0||b===3?x.processY(m,s,!0):x.processY(-m,s,!1,!0);else if(!l&&c)b===0||b===3?t.processY(-m,e,!1,!0):t.processY(m,e,!0);else{var A=m*.5;b===0?u?(x.processY(m,0,!0),t.processY(0,null,!1,!0)):f?(x.processY(A,0,!0),t.processY(-A,0,!1,!0)):(x.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)):b===1?n?(x.processY(0,null,!1,!0),t.processY(m,0,!0)):h?(x.processY(-A,0,!1,!0),t.processY(A,0,!0)):(x.processY(-A,null,!1,!0),t.processY(A,x.velocity.y,!0)):b===2?u?(x.processY(-m,0,!1,!0),t.processY(0,null,!0)):o?(x.processY(-A,0,!1,!0),t.processY(A,0,!0)):(x.processY(-A,t.velocity.y,!1,!0),t.processY(A,null,!0)):b===3&&(n?(x.processY(0,null,!0),t.processY(-m,0,!1,!0)):i?(x.processY(A,0,!0),t.processY(-A,0,!1,!0)):(x.processY(A,t.velocity.y,!0),t.processY(-A,null,!1,!0)))}return!0},C=function(b){b===1?t.velocity.y=0:d?t.processY(m,e,!0):t.processY(-m,e,!1,!0),x.moves&&(t.x+=(x.x-x.prev.x)*x.friction.x,t._dx=t.x-t.prev.x)},w=function(b){b===2?x.velocity.y=0:p?x.processY(m,s,!0):x.processY(-m,s,!1,!0),t.moves&&(x.x+=(t.x-t.prev.x)*t.friction.x,x._dx=x.x-x.prev.x)};v.exports={BlockCheck:g,Check:T,Set:y,Run:S,RunImmovableBody1:C,RunImmovableBody2:w}},61777:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75671),c=t(22916),a=function(r,s,e,i,h){h===void 0&&(h=l(r,s,e,i));var n=r.immovable,o=s.immovable;if(e||h===0||n&&o||r.customSeparateX||s.customSeparateX)return h!==0||r.embedded&&s.embedded;var f=c.Set(r,s,h);return!n&&!o?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):o&&c.RunImmovableBody2(f),!0)};v.exports=a},25299:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66185),c=t(67050),a=function(r,s,e,i,h){h===void 0&&(h=l(r,s,e,i));var n=r.immovable,o=s.immovable;if(e||h===0||n&&o||r.customSeparateY||s.customSeparateY)return h!==0||r.embedded&&s.embedded;var f=c.Set(r,s,h);return!n&&!o?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):o&&c.RunImmovableBody2(f),!0)};v.exports=a},66634:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65650),c=t(56694),a=t(47401),r=t(94287),s=t(93736),e=new c({initialize:function(h,n){var o=64,f=64,u={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},d=n!==void 0;d&&n.displayWidth&&(o=n.displayWidth,f=n.displayHeight),d||(n=u),this.world=h,this.gameObject=d?n:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(n.x-o*n.originX,n.y-f*n.originY),this.width=o,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=a.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(i,h){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,h){return h===void 0&&(h=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,h,n){n===void 0&&(n=!0);var o=this.gameObject;if(!i&&o.frame&&(i=o.frame.realWidth),!h&&o.frame&&(h=o.frame.realHeight),this.world.staticTree.remove(this),this.width=i,this.height=h,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(h/2),n&&o.getCenter){var f=o.displayWidth/2,u=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,u-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,h,n){return h===void 0&&(h=this.offset.x),n===void 0&&(n=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,h){var n=this.gameObject;i===void 0&&(i=n.x),h===void 0&&(h=n.y),this.world.staticTree.remove(this),n.setPosition(i,h),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,h){return this.isCircle?l(this,i,h):r(this,i,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var h=this.position,n=h.x+this.halfWidth,o=h.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(n,o,this.width/2):i.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=e},46346:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25084),c=t(56694),a=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new c({Extends:s,initialize:function(n,o,f,u){!f&&!u?u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:e(f)?(u=f,f=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler,u.createMultipleCallback=this.createMultipleCallbackHandler,u.classType=r(u,"classType",l)):Array.isArray(f)&&e(f[0])?(u=f,f=null,u.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",l)})):u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=a.STATIC_BODY,s.call(this,o,f,u),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,a.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,n=0;n<h.length;n++)h[n].body.reset();return this}});v.exports=i},85233:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94240),c=t(97602),a=t(82897),r=t(56694),s=t(3909),e=t(47401),i=t(53996),h=t(92951),n=t(6659),o=t(27037),f=t(88456),u=t(41935),d=t(54726),p=t(75671),m=t(66185),y=t(44662),g=t(10850),T=t(83392),S=t(74623),C=t(25163),w=t(74118),b=t(68687),A=t(27354),D=t(61777),B=t(25299),N=t(58403),Y=t(66634),H=t(28808),j=t(69360),J=t(93736),X=t(1071),W=new r({Extends:n,initialize:function(G,z){n.call(this),this.scene=G,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new S,this.gravity=new J(g(z,"gravity.x",0),g(z,"gravity.y",0)),this.bounds=new w(g(z,"x",0),g(z,"y",0),g(z,"width",G.sys.scale.width),g(z,"height",G.sys.scale.height)),this.checkCollision={up:g(z,"checkCollision.up",!0),down:g(z,"checkCollision.down",!0),left:g(z,"checkCollision.left",!0),right:g(z,"checkCollision.right",!0)},this.fps=g(z,"fps",60),this.fixedStep=g(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(z,"timeScale",1),this.OVERLAP_BIAS=g(z,"overlapBias",4),this.TILE_BIAS=g(z,"tileBias",16),this.forceX=g(z,"forceX",!1),this.isPaused=g(z,"isPaused",!1),this._total=0,this.drawDebug=g(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(z,"debugShowBody",!0),debugShowStaticBody:g(z,"debugShowStaticBody",!0),debugShowVelocity:g(z,"debugShowVelocity",!0),bodyDebugColor:g(z,"debugBodyColor",16711935),staticBodyDebugColor:g(z,"debugStaticBodyColor",255),velocityDebugColor:g(z,"debugVelocityColor",65280)},this.maxEntries=g(z,"maxEntries",16),this.useTree=g(z,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new j,this._tempMatrix2=new j,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(L,G){G===void 0&&(G=e.DYNAMIC_BODY),Array.isArray(L)||(L=[L]);for(var z=0;z<L.length;z++){var k=L[z];if(k.isParent)for(var K=k.getChildren(),$=0;$<K.length;$++){var Q=K[$];Q.isParent?this.enable(Q,G):this.enableBody(Q,G)}else this.enableBody(k,G)}},enableBody:function(L,G){return G===void 0&&(G=e.DYNAMIC_BODY),L.hasTransformComponent&&(L.body||(G===e.DYNAMIC_BODY?L.body=new c(this,L):G===e.STATIC_BODY&&(L.body=new Y(this,L))),this.add(L.body)),L},add:function(L){return L.physicsType===e.DYNAMIC_BODY?this.bodies.set(L):L.physicsType===e.STATIC_BODY&&(this.staticBodies.set(L),this.staticTree.insert(L)),L.enable=!0,L},disable:function(L){Array.isArray(L)||(L=[L]);for(var G=0;G<L.length;G++){var z=L[G];if(z.isParent)for(var k=z.getChildren(),K=0;K<k.length;K++){var $=k[K];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(z.body)}},disableBody:function(L){this.remove(L),L.enable=!1},remove:function(L){L.physicsType===e.DYNAMIC_BODY?(this.tree.remove(L),this.bodies.delete(L)):L.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(L),this.staticTree.remove(L))},createDebugGraphic:function(){var L=this.scene.sys.add.graphics({x:0,y:0});return L.setDepth(Number.MAX_VALUE),this.debugGraphic=L,this.drawDebug=!0,L},setBounds:function(L,G,z,k,K,$,Q,_){return this.bounds.setTo(L,G,z,k),K!==void 0&&this.setBoundsCollision(K,$,Q,_),this},setBoundsCollision:function(L,G,z,k){return L===void 0&&(L=!0),G===void 0&&(G=!0),z===void 0&&(z=!0),k===void 0&&(k=!0),this.checkCollision.left=L,this.checkCollision.right=G,this.checkCollision.up=z,this.checkCollision.down=k,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(L,G,z,k,K){z===void 0&&(z=null),k===void 0&&(k=null),K===void 0&&(K=z);var $=new s(this,!1,L,G,z,k,K);return this.colliders.add($),$},addOverlap:function(L,G,z,k,K){z===void 0&&(z=null),k===void 0&&(k=null),K===void 0&&(K=z);var $=new s(this,!0,L,G,z,k,K);return this.colliders.add($),$},removeCollider:function(L){return this.colliders.remove(L),this},setFPS:function(L){return this.fps=L,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(L,G){if(!(this.isPaused||this.bodies.size===0)){var z,k=this._frameTime,K=this._frameTimeMS*this.timeScale;this._elapsed+=G;var $,Q=this.bodies.entries,_=this._elapsed>=K;for(this.fixedStep||(k=G*.001,_=!0,this._elapsed=0),z=0;z<Q.length;z++)$=Q[z],$.enable&&$.preUpdate(_,k);if(_){this._elapsed-=K,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var tt=this.colliders.update();for(z=0;z<tt.length;z++){var nt=tt[z];nt.active&&nt.update()}this.emit(o.WORLD_STEP,k)}for(;this._elapsed>=K;)this._elapsed-=K,this.step(k)}},step:function(L){var G,z,k=this.bodies.entries,K=k.length;for(G=0;G<K;G++)z=k[G],z.enable&&z.update(L);this.useTree&&(this.tree.clear(),this.tree.load(k));var $=this.colliders.update();for(G=0;G<$.length;G++){var Q=$[G];Q.active&&Q.update()}this.emit(o.WORLD_STEP,L),this.stepsLastFrame++},postUpdate:function(){var L,G,z=this.bodies.entries,k=z.length,K=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,L=0;L<k;L++)G=z[L],G.enable&&G.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),L=0;L<k;L++)G=z[L],G.willDrawDebug()&&G.drawDebug(Q);for(z=$.entries,k=z.length,L=0;L<k;L++)G=z[L],G.willDrawDebug()&&G.drawDebug(Q)}var _=this.pendingDestroy;if(_.size>0){var tt=this.tree,nt=this.staticTree;for(z=_.entries,k=z.length,L=0;L<k;L++)G=z[L],G.physicsType===e.DYNAMIC_BODY?(tt.remove(G),K.delete(G)):G.physicsType===e.STATIC_BODY&&(nt.remove(G),$.delete(G)),G.world=void 0,G.gameObject=void 0;_.clear()}},updateMotion:function(L,G){L.allowRotation&&this.computeAngularVelocity(L,G),this.computeVelocity(L,G)},computeAngularVelocity:function(L,G){var z=L.angularVelocity,k=L.angularAcceleration,K=L.angularDrag,$=L.maxAngular;k?z+=k*G:L.allowDrag&&K&&(K*=G,u(z-K,0,.1)?z-=K:d(z+K,0,.1)?z+=K:z=0),z=a(z,-$,$);var Q=z-L.angularVelocity;L.angularVelocity+=Q,L.rotation+=L.angularVelocity*G},computeVelocity:function(L,G){var z=L.velocity.x,k=L.acceleration.x,K=L.drag.x,$=L.maxVelocity.x,Q=L.velocity.y,_=L.acceleration.y,tt=L.drag.y,nt=L.maxVelocity.y,st=L.speed,at=L.maxSpeed,rt=L.allowDrag,dt=L.useDamping;L.allowGravity&&(z+=(this.gravity.x+L.gravity.x)*G,Q+=(this.gravity.y+L.gravity.y)*G),k?z+=k*G:rt&&K&&(dt?(K=Math.pow(K,G),z*=K,st=Math.sqrt(z*z+Q*Q),f(st,0,.001)&&(z=0)):(K*=G,u(z-K,0,.01)?z-=K:d(z+K,0,.01)?z+=K:z=0)),_?Q+=_*G:rt&&tt&&(dt?(tt=Math.pow(tt,G),Q*=tt,st=Math.sqrt(z*z+Q*Q),f(st,0,.001)&&(Q=0)):(tt*=G,u(Q-tt,0,.01)?Q-=tt:d(Q+tt,0,.01)?Q+=tt:Q=0)),z=a(z,-$,$),Q=a(Q,-nt,nt),L.velocity.set(z,Q),at>-1&&L.velocity.length()>at&&(L.velocity.normalize().scale(at),st=at),L.speed=st},separate:function(L,G,z,k,K){var $,Q,_=!1,tt=!0;if(!L.enable||!G.enable||L.checkCollision.none||G.checkCollision.none||!this.intersects(L,G)||z&&z.call(k,L.gameObject,G.gameObject)===!1)return _;if(L.isCircle||G.isCircle){var nt=this.separateCircle(L,G,K);nt.result?(_=!0,tt=!1):($=nt.x,Q=nt.y,tt=!0)}if(tt){var st=!1,at=!1,rt=this.OVERLAP_BIAS;K?(st=D(L,G,K,rt,$),at=B(L,G,K,rt,Q)):this.forceX||Math.abs(this.gravity.y+L.gravity.y)<Math.abs(this.gravity.x+L.gravity.x)?(st=D(L,G,K,rt,$),this.intersects(L,G)&&(at=B(L,G,K,rt,Q))):(at=B(L,G,K,rt,Q),this.intersects(L,G)&&(st=D(L,G,K,rt,$))),_=st||at}return _&&(K?(L.onOverlap||G.onOverlap)&&this.emit(o.OVERLAP,L.gameObject,G.gameObject,L,G):(L.onCollide||G.onCollide)&&this.emit(o.COLLIDE,L.gameObject,G.gameObject,L,G)),_},separateCircle:function(L,G,z){p(L,G,!1,0),m(L,G,!1,0);var k=L.isCircle,K=G.isCircle,$=L.center,Q=G.center,_=L.immovable,tt=G.immovable,nt=L.velocity,st=G.velocity,at=0,rt=!0;if(k!==K){rt=!1;var dt=$.x,mt=$.y,Tt=L.halfWidth,St=G.position.x,ft=G.position.y,vt=G.right,et=G.bottom;K&&(dt=Q.x,mt=Q.y,Tt=G.halfWidth,St=L.position.x,ft=L.position.y,vt=L.right,et=L.bottom),mt<ft?dt<St?at=i(dt,mt,St,ft)-Tt:dt>vt&&(at=i(dt,mt,vt,ft)-Tt):mt>et&&(dt<St?at=i(dt,mt,St,et)-Tt:dt>vt&&(at=i(dt,mt,vt,et)-Tt)),at*=-1}else at=L.halfWidth+G.halfWidth-h($,Q);L.overlapR=at,G.overlapR=at;var ot=l($,Q),ut=(at+T.EPSILON)*Math.cos(ot),ct=(at+T.EPSILON)*Math.sin(ot),xt={overlap:at,result:!1,x:ut,y:ct};if(z&&(!rt||rt&&at!==0))return xt.result=!0,xt;if(!rt&&at===0||_&&tt||L.customSeparateX||G.customSeparateX)return xt.x=void 0,xt.y=void 0,xt;var wt=!L.pushable&&!G.pushable;if(rt){var pt=$.x-Q.x,Ct=$.y-Q.y,yt=Math.sqrt(Math.pow(pt,2)+Math.pow(Ct,2)),Pt=(Q.x-$.x)/yt||0,At=(Q.y-$.y)/yt||0,It=2*(nt.x*Pt+nt.y*At-st.x*Pt-st.y*At)/(L.mass+G.mass);(_||tt)&&(It*=2),_||(nt.x=nt.x-It/L.mass*Pt,nt.y=nt.y-It/L.mass*At,nt.multiply(L.bounce)),tt||(st.x=st.x+It/G.mass*Pt,st.y=st.y+It/G.mass*At,st.multiply(G.bounce)),!_&&!tt&&(ut*=.5,ct*=.5),_||(L.x-=ut,L.y-=ct,L.updateCenter()),tt||(G.x+=ut,G.y+=ct,G.updateCenter()),xt.result=!0}else!_||L.pushable||wt?(L.x-=ut,L.y-=ct,L.updateCenter()):(!tt||G.pushable||wt)&&(G.x+=ut,G.y+=ct,G.updateCenter()),xt.x=void 0,xt.y=void 0;return xt},intersects:function(L,G){return L===G?!1:!L.isCircle&&!G.isCircle?!(L.right<=G.left||L.bottom<=G.top||L.left>=G.right||L.top>=G.bottom):L.isCircle?G.isCircle?h(L.center,G.center)<=L.halfWidth+G.halfWidth:this.circleBodyIntersects(L,G):this.circleBodyIntersects(G,L)},circleBodyIntersects:function(L,G){var z=a(L.center.x,G.left,G.right),k=a(L.center.y,G.top,G.bottom),K=(L.center.x-z)*(L.center.x-z),$=(L.center.y-k)*(L.center.y-k);return K+$<=L.halfWidth*L.halfWidth},overlap:function(L,G,z,k,K){return z===void 0&&(z=null),k===void 0&&(k=null),K===void 0&&(K=z),this.collideObjects(L,G,z,k,K,!0)},collide:function(L,G,z,k,K){return z===void 0&&(z=null),k===void 0&&(k=null),K===void 0&&(K=z),this.collideObjects(L,G,z,k,K,!1)},collideObjects:function(L,G,z,k,K,$){var Q,_;L.isParent&&(L.physicsType===void 0||G===void 0||L===G)&&(L=L.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var tt=Array.isArray(L),nt=Array.isArray(G);if(this._total=0,!tt&&!nt)this.collideHandler(L,G,z,k,K,$);else if(!tt&&nt)for(Q=0;Q<G.length;Q++)this.collideHandler(L,G[Q],z,k,K,$);else if(tt&&!nt)if(G)for(Q=0;Q<L.length;Q++)this.collideHandler(L[Q],G,z,k,K,$);else for(Q=0;Q<L.length;Q++){var st=L[Q];for(_=Q+1;_<L.length;_++)Q!==_&&this.collideHandler(st,L[_],z,k,K,$)}else for(Q=0;Q<L.length;Q++)for(_=0;_<G.length;_++)this.collideHandler(L[Q],G[_],z,k,K,$);return this._total>0},collideHandler:function(L,G,z,k,K,$){if(G===void 0&&L.isParent)return this.collideGroupVsGroup(L,L,z,k,K,$);if(!L||!G)return!1;if(L.body||L.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(L,G,z,k,K,$);if(G.isParent)return this.collideSpriteVsGroup(L,G,z,k,K,$);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(L,G,z,k,K,$)}else if(L.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,L,z,k,K,$);if(G.isParent)return this.collideGroupVsGroup(L,G,z,k,K,$);if(G.isTilemap)return this.collideGroupVsTilemapLayer(L,G,z,k,K,$)}else if(L.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,L,z,k,K,$);if(G.isParent)return this.collideGroupVsTilemapLayer(G,L,z,k,K,$)}},collideSpriteVsSprite:function(L,G,z,k,K,$){var Q=L.isBody?L:L.body,_=G.isBody?G:G.body;return!Q||!_?!1:(this.separate(Q,_,k,K,$)&&(z&&z.call(K,L,G),this._total++),!0)},collideSpriteVsGroup:function(L,G,z,k,K,$){var Q=L.isBody?L:L.body;if(!(G.length===0||!Q||!Q.enable||Q.checkCollision.none)){var _,tt,nt;if(this.useTree||G.physicsType===e.STATIC_BODY){var st=this.treeMinMax;st.minX=Q.left,st.minY=Q.top,st.maxX=Q.right,st.maxY=Q.bottom;var at=G.physicsType===e.DYNAMIC_BODY?this.tree.search(st):this.staticTree.search(st);for(tt=at.length,_=0;_<tt;_++)nt=at[_],!(Q===nt||!nt.enable||nt.checkCollision.none||!G.contains(nt.gameObject))&&this.separate(Q,nt,k,K,$)&&(z&&z.call(K,Q.gameObject,nt.gameObject),this._total++)}else{var rt=G.getChildren(),dt=G.children.entries.indexOf(L);for(tt=rt.length,_=0;_<tt;_++)nt=rt[_].body,!(!nt||_===dt||!nt.enable)&&this.separate(Q,nt,k,K,$)&&(z&&z.call(K,Q.gameObject,nt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(L,G,z,k,K,$){var Q=L.getChildren();if(Q.length===0)return!1;for(var _=!1,tt=0;tt<Q.length;tt++)(Q[tt].body||Q[tt].isBody)&&this.collideSpriteVsTilemapLayer(Q[tt],G,z,k,K,$)&&(_=!0);return _},collideTiles:function(L,G,z,k,K){return G.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,G,z,k,K,!1,!1)},overlapTiles:function(L,G,z,k,K){return G.length===0||L.body&&!L.body.enable||L.isBody&&!L.enable?!1:this.collideSpriteVsTilesHandler(L,G,z,k,K,!0,!1)},collideSpriteVsTilemapLayer:function(L,G,z,k,K,$){var Q=L.isBody?L:L.body;if(!Q.enable||Q.checkCollision.none)return!1;var _=Q.x,tt=Q.y,nt=Q.width,st=Q.height,at=G.layer;if(at.tileWidth>at.baseTileWidth){var rt=(at.tileWidth-at.baseTileWidth)*G.scaleX;_-=rt,nt+=rt}if(at.tileHeight>at.baseTileHeight){var dt=(at.tileHeight-at.baseTileHeight)*G.scaleY;st+=dt}var mt=$?null:this.tileFilterOptions,Tt=y(_,tt,nt,st,mt,G.scene.cameras.main,G.layer);return Tt.length===0?!1:this.collideSpriteVsTilesHandler(L,Tt,z,k,K,$,!0)},collideSpriteVsTilesHandler:function(L,G,z,k,K,$,Q){for(var _=L.isBody?L:L.body,tt,nt={left:0,right:0,top:0,bottom:0},st,at=!1,rt=0;rt<G.length;rt++){tt=G[rt],st=tt.tilemapLayer;var dt=st.tileToWorldXY(tt.x,tt.y);nt.left=dt.x,nt.top=dt.y,tt.baseHeight!==tt.height&&(nt.top-=(tt.height-tt.baseHeight)*st.scaleY),nt.right=nt.left+tt.width*st.scaleX,nt.bottom=nt.top+tt.height*st.scaleY,H(nt,_)&&(!k||k.call(K,L,tt))&&C(tt,L)&&($||A(rt,_,tt,nt,st,this.TILE_BIAS,Q))&&(this._total++,at=!0,z&&z.call(K,L,tt),$&&_.onOverlap?this.emit(o.TILE_OVERLAP,L,tt,_):_.onCollide&&this.emit(o.TILE_COLLIDE,L,tt,_))}return at},collideGroupVsGroup:function(L,G,z,k,K,$){if(!(L.length===0||G.length===0))for(var Q=L.getChildren(),_=0;_<Q.length;_++)this.collideSpriteVsGroup(Q[_],G,z,k,K,$)},wrap:function(L,G){L.body?this.wrapObject(L,G):L.getChildren?this.wrapArray(L.getChildren(),G):Array.isArray(L)?this.wrapArray(L,G):this.wrapObject(L,G)},wrapArray:function(L,G){for(var z=0;z<L.length;z++)this.wrapObject(L[z],G)},wrapObject:function(L,G){G===void 0&&(G=0),L.x=X(L.x,this.bounds.left-G,this.bounds.right+G),L.y=X(L.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=W},5321:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(t,l){return this.body.acceleration.set(t,l),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=x},29257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=x},62122:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t,l){return this.body.bounce.set(t,l),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,l,c,a){return this.body.setCollideWorldBounds(t,l,c,a),this}};v.exports=x},99803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(t,l,c){return this.debugShowBody=t,this.debugShowVelocity=l,this.debugBodyColor=c,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=x},87145:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(t,l){return this.body.drag.set(t,l),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=x},96174:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={enableBody:function(t,l,c,a,r){return t&&this.body.reset(l,c),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,l){return t===void 0&&(t=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=x},51702:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,l){return this.body.friction.set(t,l),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=x},25578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(t,l){return this.body.gravity.set(t,l),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=x},72029:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=x},34566:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(t){return this.body.mass=t,this}};v.exports=x},2732:(v,x,t)=>{var l=t(15147),c=t(26673),a=t(22184),r=t(26535),s=function(e,i,h,n,o,f){var u=l(e,i-n,h-n,2*n,2*n,o,f);if(u.length===0)return u;for(var d=new c(i,h,n),p=new c,m=[],y=0;y<u.length;y++){var g=u[y];g.isCircle?(p.setTo(g.center.x,g.center.y,g.halfWidth),a(d,p)&&m.push(g)):r(d,g)&&m.push(g)}return m};v.exports=s},15147:v=>{var x=function(t,l,c,a,r,s,e){s===void 0&&(s=!0),e===void 0&&(e=!1);var i=[],h=[],n=t.treeMinMax;if(n.minX=l,n.minY=c,n.maxX=l+a,n.maxY=c+r,e&&(h=t.staticTree.search(n)),s&&t.useTree)i=t.tree.search(n);else if(s){var o=t.bodies,f={position:{x:l,y:c},left:l,top:c,right:l+a,bottom:c+r,isCircle:!1},u=t.intersects;o.iterate(function(d){u(d,f)&&i.push(d)})}return h.concat(i)};v.exports=x},57527:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=x},77687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(t,l){return this.body.setOffset(t,l),this},setSize:function(t,l,c){return this.body.setSize(t,l,c),this},setBodySize:function(t,l,c){return this.body.setSize(t,l,c),this},setCircle:function(t,l,c){return this.body.setCircle(t,l,c),this}};v.exports=x},66536:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(t,l){return this.body.setVelocity(t,l),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,l){return this.body.maxVelocity.set(t,l),this}};v.exports=x},7864:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=x},22346:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},95092:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},15775:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},74142:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},22825:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},10851:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},7543:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},1487:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},27037:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47401),c=t(98611),a={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};a=c(!1,a,l),v.exports=a},25163:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,l,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,l,t):!0};v.exports=x},98209:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l<0?(t.blocked.none=!1,t.blocked.left=!0):l>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=l,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=x},72792:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l<0?(t.blocked.none=!1,t.blocked.up=!0):l>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=l,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=x},27354:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14405),c=t(52926),a=t(28808),r=function(s,e,i,h,n,o,f){var u=h.left,d=h.top,p=h.right,m=h.bottom,y=i.faceLeft||i.faceRight,g=i.faceTop||i.faceBottom;if(f||(y=!0,g=!0),!y&&!g)return!1;var T=0,S=0,C=0,w=1;if(e.deltaAbsX()>e.deltaAbsY()?C=-1:e.deltaAbsX()<e.deltaAbsY()&&(w=-1),e.deltaX()!==0&&e.deltaY()!==0&&y&&g&&(C=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-u)),w=Math.min(Math.abs(e.position.y-m),Math.abs(e.bottom-d))),C<w){if(y&&(T=l(e,i,u,p,o,f),T!==0&&!a(h,e)))return!0;g&&(S=c(e,i,d,m,o,f))}else{if(g&&(S=c(e,i,d,m,o,f),S!==0&&!a(h,e)))return!0;y&&(T=l(e,i,u,p,o,f))}return T!==0||S!==0};v.exports=r},14405:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98209),c=function(a,r,s,e,i,h){var n=0,o=r.faceLeft,f=r.faceRight,u=r.collideLeft,d=r.collideRight;return h||(o=!0,f=!0,u=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?f&&a.x<e&&(n=a.x-e,n<-i&&(n=0)):a.deltaX()>0&&u&&a.checkCollision.right&&o&&a.right>s&&(n=a.right-s,n>i&&(n=0)),n!==0&&(a.customSeparateX?a.overlapX=n:l(a,n)),n};v.exports=c},52926:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72792),c=function(a,r,s,e,i,h){var n=0,o=r.faceTop,f=r.faceBottom,u=r.collideUp,d=r.collideDown;return h||(o=!0,f=!0,u=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?f&&a.y<e&&(n=a.y-e,n<-i&&(n=0)):a.deltaY()>0&&u&&a.checkCollision.down&&o&&a.bottom>s&&(n=a.bottom-s,n>i&&(n=0)),n!==0&&(a.customSeparateY?a.overlapY=n:l(a,n)),n};v.exports=c},28808:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return!(l.right<=t.left||l.bottom<=t.top||l.position.x>=t.right||l.position.y>=t.bottom)};v.exports=x},8413:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};v.exports=l},53954:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(39977),Matter:t(45949)}},63568:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93736),a=new l({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,e=this.centerDiff,i=r.bounds.max.x-r.bounds.min.x,h=r.bounds.max.y-r.bounds.min.y,n=i*r.centerOfMass.x,o=h*r.centerOfMass.y;return s.set(i/2,h/2),e.set(n-s.x,o-s.y),!0},getTopLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s+i.x+h.x,e+i.y+h.y)}return!1},getTopCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s+h.x,e+i.y+h.y)}return!1},getTopRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s-(i.x-h.x),e+i.y+h.y)}return!1},getLeftCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s+i.x+h.x,e+h.y)}return!1},getCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.centerDiff;return new c(s+i.x,e+i.y)}return!1},getRightCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s-(i.x-h.x),e+h.y)}return!1},getBottomLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s+i.x+h.x,e-(i.y-h.y))}return!1},getBottomCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s+h.x,e-(i.y-h.y))}return!1},getBottomRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,h=this.centerDiff;return new c(s-(i.x-h.x),e-(i.y-h.y))}return!1}});v.exports=a},18171:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16929);l.Body=t(84125),l.Composite=t(11299),l.World=t(72005),l.Collision=t(63454),l.Detector=t(13657),l.Pairs=t(91327),l.Pair=t(70584),l.Query=t(13390),l.Resolver=t(44272),l.Constraint=t(52838),l.Common=t(68758),l.Engine=t(45775),l.Events=t(39073),l.Sleeping=t(22806),l.Plugin=t(84474),l.Bodies=t(68516),l.Composites=t(56643),l.Axes=t(50658),l.Bounds=t(84091),l.Svg=t(92765),l.Vector=t(10438),l.Vertices=t(39745),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,v.exports=l},72653:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(56694),a=t(56643),r=t(52838),s=t(92765),e=t(3860),i=t(7030),h=t(73658),n=t(84720),o=t(10998),f=t(72829),u=t(88596),d=t(39745),p=new c({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(m,y,g,T,S){var C=l.rectangle(m,y,g,T,S);return this.world.add(C),C},trapezoid:function(m,y,g,T,S,C){var w=l.trapezoid(m,y,g,T,S,C);return this.world.add(w),w},circle:function(m,y,g,T,S){var C=l.circle(m,y,g,T,S);return this.world.add(C),C},polygon:function(m,y,g,T,S){var C=l.polygon(m,y,g,T,S);return this.world.add(C),C},fromVertices:function(m,y,g,T,S,C,w){typeof g=="string"&&(g=d.fromPath(g));var b=l.fromVertices(m,y,g,T,S,C,w);return this.world.add(b),b},fromPhysicsEditor:function(m,y,g,T,S){S===void 0&&(S=!0);var C=o.parseBody(m,y,g,T);return S&&!this.world.has(C)&&this.world.add(C),C},fromSVG:function(m,y,g,T,S,C){T===void 0&&(T=1),S===void 0&&(S={}),C===void 0&&(C=!0);for(var w=g.getElementsByTagName("path"),b=[],A=0;A<w.length;A++){var D=s.pathToVertices(w[A],30);T!==1&&d.scale(D,T,T),b.push(D)}var B=l.fromVertices(m,y,b,S);return C&&this.world.add(B),B},fromJSON:function(m,y,g,T,S){T===void 0&&(T={}),S===void 0&&(S=!0);var C=f.parseBody(m,y,g,T);return C&&S&&this.world.add(C),C},imageStack:function(m,y,g,T,S,C,w,b,A){w===void 0&&(w=0),b===void 0&&(b=0),A===void 0&&(A={});var D=this.world,B=this.sys.displayList;A.addToWorld=!1;var N=a.stack(g,T,S,C,w,b,function(Y,H){var j=new i(D,Y,H,m,y,A);return B.add(j),j.body});return D.add(N),N},stack:function(m,y,g,T,S,C,w){var b=a.stack(m,y,g,T,S,C,w);return this.world.add(b),b},pyramid:function(m,y,g,T,S,C,w){var b=a.pyramid(m,y,g,T,S,C,w);return this.world.add(b),b},chain:function(m,y,g,T,S,C){return a.chain(m,y,g,T,S,C)},mesh:function(m,y,g,T,S){return a.mesh(m,y,g,T,S)},newtonsCradle:function(m,y,g,T,S){var C=a.newtonsCradle(m,y,g,T,S);return this.world.add(C),C},car:function(m,y,g,T,S){var C=a.car(m,y,g,T,S);return this.world.add(C),C},softBody:function(m,y,g,T,S,C,w,b,A,D){var B=a.softBody(m,y,g,T,S,C,w,b,A,D);return this.world.add(B),B},joint:function(m,y,g,T,S){return this.constraint(m,y,g,T,S)},spring:function(m,y,g,T,S){return this.constraint(m,y,g,T,S)},constraint:function(m,y,g,T,S){T===void 0&&(T=1),S===void 0&&(S={}),S.bodyA=m.type==="body"?m:m.body,S.bodyB=y.type==="body"?y:y.body,isNaN(g)||(S.length=g),S.stiffness=T;var C=r.create(S);return this.world.add(C),C},worldConstraint:function(m,y,g,T){g===void 0&&(g=1),T===void 0&&(T={}),T.bodyB=m.type==="body"?m:m.body,isNaN(y)||(T.length=y),T.stiffness=g;var S=r.create(T);return this.world.add(S),S},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var y=new u(this.scene,this.world,m);return this.world.add(y.constraint),y},image:function(m,y,g,T,S){var C=new i(this.world,m,y,g,T,S);return this.sys.displayList.add(C),C},tileBody:function(m,y){return new n(this.world,m,y)},sprite:function(m,y,g,T,S){var C=new h(this.world,m,y,g,T,S);return this.sys.displayList.add(C),this.sys.updateList.add(C),C},gameObject:function(m,y,g){return e(this.world,m,y,g)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=p},3860:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74527),c=t(72632),a=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var s=function(e,i,h,n){h===void 0&&(h={}),n===void 0&&(n=!0);var o=i.x,f=i.y;i.body={temp:!0,position:{x:o,y:f}};var u=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(u.forEach(function(p){for(var m in p)r(p[m])?Object.defineProperty(i,m,{get:p[m].get,set:p[m].set}):Object.defineProperty(i,m,{value:p[m]})}),i.world=e,i._tempVec2=new a(o,f),h.hasOwnProperty("type")&&h.type==="body")i.setExistingBody(h,n);else{var d=c(h,"shape",null);d||(d="rectangle"),h.addToWorld=n,i.setBody(d,h)}return i};v.exports=s},7030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(74527),a=t(89980),r=t(72632),s=t(1539),e=t(58210),i=t(93736),h=new l({Extends:s,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,e],initialize:function(o,f,u,d,p,m){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new i(f,u);var y=r(m,"shape",null);y?this.setBody(y,m):this.setRectangle(this.width,this.height,m),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=h},50583:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84093),c=t(50658),a=t(68516),r=t(84125),s=t(63568),e=t(84091),i=t(56694),h=t(63454),n=t(68758),o=t(11299),f=t(56643),u=t(52838),d=t(13657),p=t(53996),m=t(72653),y=t(72632),g=t(10850),T=t(1675),S=t(80391),C=t(16929),w=t(44097),b=t(30657),A=t(70584),D=t(91327),B=t(84474),N=t(91963),Y=t(13390),H=t(44272),j=t(7599),J=t(92765),X=t(10438),W=t(39745),L=t(31468);n.setDecomp(t(81084));var G=new i({initialize:function(k){this.scene=k,this.systems=k.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=o,this.collision=h,this.detector=d,this.pair=A,this.pairs=D,this.query=Y,this.resolver=H,this.constraint=u,this.bodies=a,this.composites=f,this.axes=c,this.bounds=e,this.svg=J,this.vector=X,this.vertices=W,this.verts=W,this._tempVec2=X.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),H._restingThresh=g(this.config,"restingThresh",4),H._restingThreshTangent=g(this.config,"restingThreshTangent",6),H._positionDampen=g(this.config,"positionDampen",.9),H._positionWarming=g(this.config,"positionWarming",.8),H._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),k.sys.events.once(j.BOOT,this.boot,this),k.sys.events.on(j.START,this.start,this)},boot:function(){this.world=new L(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new s,this.systems.events.once(j.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new L(this.scene,this.config),this.add=new m(this.world));var z=this.systems.events;z.on(j.UPDATE,this.world.update,this.world),z.on(j.POST_UPDATE,this.world.postUpdate,this.world),z.once(j.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,k=this.systems.settings.physics,K=b(y(k,"matter",{}),y(z,"matter",{}));return K},enableAttractorPlugin:function(){return B.register(T),B.use(C,T),this},enableWrapPlugin:function(){return B.register(w),B.use(C,w),this},enableCollisionEventsPlugin:function(){return B.register(S),B.use(C,S),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,k){this.world.step(z,k)},containsPoint:function(z,k,K){z=this.getMatterBodies(z);var $=X.create(k,K),Q=Y.point(z,$);return Q.length>0},intersectPoint:function(z,k,K){K=this.getMatterBodies(K);var $=X.create(z,k),Q=[],_=Y.point(K,$);return _.forEach(function(tt){Q.indexOf(tt)===-1&&Q.push(tt)}),Q},intersectRect:function(z,k,K,$,Q,_){Q===void 0&&(Q=!1),_=this.getMatterBodies(_);var tt={min:{x:z,y:k},max:{x:z+K,y:k+$}},nt=[],st=Y.region(_,tt,Q);return st.forEach(function(at){nt.indexOf(at)===-1&&nt.push(at)}),nt},intersectRay:function(z,k,K,$,Q,_){Q===void 0&&(Q=1),_=this.getMatterBodies(_);for(var tt=[],nt=Y.ray(_,X.create(z,k),X.create(K,$),Q),st=0;st<nt.length;st++)tt.push(nt[st].body);return tt},intersectBody:function(z,k){k=this.getMatterBodies(k);for(var K=[],$=Y.collides(z,k),Q=0;Q<$.length;Q++){var _=$[Q];_.bodyA===z?K.push(_.bodyB):K.push(_.bodyA)}return K},overlap:function(z,k,K,$,Q){K===void 0&&(K=null),$===void 0&&($=null),Q===void 0&&(Q=K),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),k=this.getMatterBodies(k);for(var _=!1,tt=0;tt<z.length;tt++)for(var nt=z[tt],st=Y.collides(nt,k),at=0;at<st.length;at++){var rt=st[at],dt=rt.bodyA.id===nt.id?rt.bodyB:rt.bodyA;if(!$||$.call(Q,nt,dt,rt)){if(_=!0,K)K.call(Q,nt,dt,rt);else if(!$)return!0}}return _},setCollisionCategory:function(z,k){return z=this.getMatterBodies(z),z.forEach(function(K){K.collisionFilter.category=k}),this},setCollisionGroup:function(z,k){return z=this.getMatterBodies(z),z.forEach(function(K){K.collisionFilter.group=k}),this},setCollidesWith:function(z,k){z=this.getMatterBodies(z);var K=0;if(!Array.isArray(k))K=k;else for(var $=0;$<k.length;$++)K|=k[$];return z.forEach(function(Q){Q.collisionFilter.mask=K}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var k=[],K=0;K<z.length;K++){var $=z[K].hasOwnProperty("body")?z[K].body:z[K];k.push($)}return k},setVelocity:function(z,k,K){z=this.getMatterBodies(z);var $=this._tempVec2;return $.x=k,$.y=K,z.forEach(function(Q){r.setVelocity(Q,$)}),this},setVelocityX:function(z,k){z=this.getMatterBodies(z);var K=this._tempVec2;return K.x=k,z.forEach(function($){K.y=$.velocity.y,r.setVelocity($,K)}),this},setVelocityY:function(z,k){z=this.getMatterBodies(z);var K=this._tempVec2;return K.y=k,z.forEach(function($){K.x=$.velocity.x,r.setVelocity($,K)}),this},setAngularVelocity:function(z,k){return z=this.getMatterBodies(z),z.forEach(function(K){r.setAngularVelocity(K,k)}),this},applyForce:function(z,k){z=this.getMatterBodies(z);var K=this._tempVec2;return z.forEach(function($){K.x=$.position.x,K.y=$.position.y,r.applyForce($,K,k)}),this},applyForceFromPosition:function(z,k,K,$){z=this.getMatterBodies(z);var Q=this._tempVec2;return z.forEach(function(_){$===void 0&&($=_.angle),Q.x=K*Math.cos($),Q.y=K*Math.sin($),r.applyForce(_,k,Q)}),this},applyForceFromAngle:function(z,k,K){z=this.getMatterBodies(z);var $=this._tempVec2;return z.forEach(function(Q){K===void 0&&(K=Q.angle),$.x=k*Math.cos(K),$.y=k*Math.sin(K),r.applyForce(Q,{x:Q.position.x,y:Q.position.y},$)}),this},getConstraintLength:function(z){var k=z.pointA.x,K=z.pointA.y,$=z.pointB.x,Q=z.pointB.y;return z.bodyA&&(k+=z.bodyA.position.x,K+=z.bodyA.position.y),z.bodyB&&($+=z.bodyB.position.x,Q+=z.bodyB.position.y),p(k,K,$,Q)},alignBody:function(z,k,K,$){z=z.hasOwnProperty("body")?z.body:z;var Q;switch($){case l.TOP_LEFT:case l.LEFT_TOP:Q=this.bodyBounds.getTopLeft(z,k,K);break;case l.TOP_CENTER:Q=this.bodyBounds.getTopCenter(z,k,K);break;case l.TOP_RIGHT:case l.RIGHT_TOP:Q=this.bodyBounds.getTopRight(z,k,K);break;case l.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(z,k,K);break;case l.CENTER:Q=this.bodyBounds.getCenter(z,k,K);break;case l.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(z,k,K);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(z,k,K);break;case l.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(z,k,K);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(z,k,K);break}return Q&&r.setPosition(z,Q),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(j.UPDATE,this.world.update,this.world),z.off(j.POST_UPDATE,this.world.postUpdate,this.world)),z.off(j.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(j.START,this.start,this),this.scene=null,this.systems=null}});N.register("MatterPhysics",G,"matterPhysics"),v.exports=G},73658:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(16569),c=t(56694),a=t(74527),r=t(89980),s=t(72632),e=t(58210),i=t(13747),h=t(93736),n=new c({Extends:i,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(f,u,d,p,m,y){r.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(p,m),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new h(u,d);var g=s(y,"shape",null);g?this.setBody(g,y):this.setRectangle(this.width,this.height,y),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=n},84720:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(84125),a=t(56694),r=t(74527),s=t(28699),e=t(6659),i=t(72632),h=t(19256),n=t(39745),o=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(u,d,p){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var m=i(p,"body",null),y=i(p,"addToWorld",!0);if(m)this.setBody(m,y);else{var g=d.getCollisionGroup(),T=i(g,"objects",[]);T.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var S={x:d.getCenterX(),y:d.getCenterY()},C=d.flipX?-1:1,w=d.flipY?-1:1;c.scale(m,C,w,S)}},setFromTileRectangle:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,p=u.y+u.height/2,m=l.rectangle(d,p,u.width,u.height,f);return this.setBody(m,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),h(f,"isStatic")||(f.isStatic=!0),h(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),m=this.tile.getTop(),y=this.tile.getCollisionGroup(),g=i(y,"objects",[]),T=[],S=0;S<g.length;S++){var C=g[S],w=p+C.x*u,b=m+C.y*d,A=C.width*u,D=C.height*d,B=null;if(C.rectangle)B=l.rectangle(w+A/2,b+D/2,A,D,f);else if(C.ellipse)B=l.circle(w+A/2,b+D/2,A/2,f);else if(C.polygon||C.polyline){var N=C.polygon?C.polygon:C.polyline,Y=N.map(function(X){return{x:X.x*u,y:X.y*d}}),H=n.create(Y),j=n.centre(H);w+=j.x,b+=j.y,B=l.fromVertices(w,b,H,f)}B&&T.push(B)}if(T.length===1)this.setBody(T[0],f.addToWorld);else if(T.length>1){var J=s(f);J.parts=T,this.setBody(c.create(J),J.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=o},10998:(v,x,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(84125),a=t(68758),r=t(72632),s=t(39745),e={parseBody:function(i,h,n,o){o===void 0&&(o={});for(var f=r(n,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var p=this.parseFixture(f[d]),m=0;m<p.length;m++)u.push(p[m]);var y=a.clone(n,!0);a.extend(y,o,!0),delete y.fixtures,delete y.type;var g=c.create(y);return c.setParts(g,u),c.setPosition(g,{x:i,y:h}),g},parseFixture:function(i){var h=a.extend({},!1,i);delete h.circle,delete h.vertices;var n;if(i.circle){var o=r(i.circle,"x"),f=r(i.circle,"y"),u=r(i.circle,"radius");n=[l.circle(o,f,u,h)]}else i.vertices&&(n=this.parseVertices(i.vertices,h));return n},parseVertices:function(i,h){h===void 0&&(h={});for(var n=[],o=0;o<i.length;o++)s.clockwiseSort(i[o]),n.push(c.create(a.extend({position:s.centre(i[o]),vertices:i[o]},h)));return l.flagCoincidentParts(n)}};v.exports=e},72829:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(84125),a={parseBody:function(r,s,e,i){i===void 0&&(i={});var h,n=e.vertices;if(n.length===1)i.vertices=n[0],h=c.create(i),l.flagCoincidentParts(h.parts);else{for(var o=[],f=0;f<n.length;f++){var u=c.create({vertices:n[f]});o.push(u)}l.flagCoincidentParts(o),i.parts=o,h=c.create(i)}return h.label=e.label,c.setPosition(h,{x:r,y:s}),h}};v.exports=a},88596:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84091),c=t(56694),a=t(11299),r=t(52838),s=t(13657),e=t(35416),i=t(33963),h=t(30657),n=t(22806),o=t(93736),f=t(39745),u=new c({initialize:function(p,m,y){y===void 0&&(y={});var g={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=r.create(h(y,g)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(i.POINTER_DOWN,this.onDown,this),p.sys.input.on(i.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,m=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var y=a.allBodies(this.world.localWorld),g=0;g<y.length;g++){var T=y[g];if(!T.ignorePointer&&l.contains(T.bounds,p)&&s.canCollide(T.collisionFilter,m.collisionFilter)&&this.hitTestBody(T,p))return this.world.emit(e.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var m=this.constraint,y=d.parts.length,g=y>1?1:0,T=g;T<y;T++){var S=d.parts[T];if(f.contains(S.vertices,p))return m.pointA=p,m.pointB={x:p.x-d.position.x,y:p.y-d.position.y},m.bodyB=d,m.angleB=d.angle,n.set(d,!1),this.part=S,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!p&&!this.getBody(d))return;p=this.body;var m=this.position,y=this.constraint;this.camera.getWorldPoint(d.x,d.y,m),y.pointA.x=m.x,y.pointA.y=m.y,n.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(i.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(i.POINTER_UP,this.onUp,this)}});v.exports=u},31468:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(84125),a=t(56694),r=t(68758),s=t(11299),e=t(45775),i=t(6659),h=t(35416),n=t(72632),o=t(10850),f=t(84125),u=t(39073),d=t(84720),p=t(72005),m=t(10438),y=new a({Extends:i,initialize:function(T,S){i.call(this),this.scene=T,this.engine=e.create(S),this.localWorld=this.engine.world;var C=o(S,"gravity",null);C?this.setGravity(C.x,C.y,C.scale):C===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(S,"enabled",!0),this.getDelta=o(S,"getDelta",this.update60Hz);var w=n(S,"runner",{}),b=n(w,"fps",!1),A=n(w,"fps",60),D=n(w,"delta",1e3/A),B=n(w,"deltaMin",1e3/A),N=n(w,"deltaMax",1e3/(A*.5));b||(A=1e3/D),this.runner={fps:A,deltaSampleSize:n(w,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(w,"isFixed",!1),delta:D,deltaMin:B,deltaMax:N},this.autoUpdate=o(S,"autoUpdate",!0);var Y=o(S,"debug",!1);if(this.drawDebug=typeof Y=="object"?!0:Y,this.debugGraphic,this.debugConfig={showAxes:n(Y,"showAxes",!1),showAngleIndicator:n(Y,"showAngleIndicator",!1),angleColor:n(Y,"angleColor",15208787),showBroadphase:n(Y,"showBroadphase",!1),broadphaseColor:n(Y,"broadphaseColor",16757760),showBounds:n(Y,"showBounds",!1),boundsColor:n(Y,"boundsColor",16777215),showVelocity:n(Y,"showVelocity",!1),velocityColor:n(Y,"velocityColor",44783),showCollisions:n(Y,"showCollisions",!1),collisionColor:n(Y,"collisionColor",16094476),showSeparations:n(Y,"showSeparations",!1),separationColor:n(Y,"separationColor",16753920),showBody:n(Y,"showBody",!0),showStaticBody:n(Y,"showStaticBody",!0),showInternalEdges:n(Y,"showInternalEdges",!1),renderFill:n(Y,"renderFill",!1),renderLine:n(Y,"renderLine",!0),fillColor:n(Y,"fillColor",1075465),fillOpacity:n(Y,"fillOpacity",1),lineColor:n(Y,"lineColor",2678297),lineOpacity:n(Y,"lineOpacity",1),lineThickness:n(Y,"lineThickness",1),staticFillColor:n(Y,"staticFillColor",857979),staticLineColor:n(Y,"staticLineColor",1255396),showSleeping:n(Y,"showSleeping",!1),staticBodySleepOpacity:n(Y,"staticBodySleepOpacity",.7),sleepFillColor:n(Y,"sleepFillColor",4605510),sleepLineColor:n(Y,"sleepLineColor",10066585),showSensors:n(Y,"showSensors",!0),sensorFillColor:n(Y,"sensorFillColor",857979),sensorLineColor:n(Y,"sensorLineColor",1255396),showPositions:n(Y,"showPositions",!0),positionSize:n(Y,"positionSize",4),positionColor:n(Y,"positionColor",14697178),showJoint:n(Y,"showJoint",!0),jointColor:n(Y,"jointColor",14737474),jointLineOpacity:n(Y,"jointLineOpacity",1),jointLineThickness:n(Y,"jointLineThickness",2),pinSize:n(Y,"pinSize",4),pinColor:n(Y,"pinColor",4382944),springColor:n(Y,"springColor",14697184),anchorColor:n(Y,"anchorColor",15724527),anchorSize:n(Y,"anchorSize",4),showConvexHulls:n(Y,"showConvexHulls",!1),hullColor:n(Y,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(S,"setBounds",!1)){var H=S.setBounds;if(typeof H=="boolean")this.setBounds();else{var j=n(H,"x",0),J=n(H,"y",0),X=n(H,"width",T.sys.scale.width),W=n(H,"height",T.sys.scale.height),L=n(H,"thickness",64),G=n(H,"left",!0),z=n(H,"right",!0),k=n(H,"top",!0),K=n(H,"bottom",!0);this.setBounds(j,J,X,W,L,G,z,k,K)}}},setCompositeRenderStyle:function(g){var T=g.bodies,S=g.constraints,C=g.composites,w,b,A;for(w=0;w<T.length;w++)b=T[w],A=b.render,this.setBodyRenderStyle(b,A.lineColor,A.lineOpacity,A.lineThickness,A.fillColor,A.fillOpacity);for(w=0;w<S.length;w++)b=S[w],A=b.render,this.setConstraintRenderStyle(b,A.lineColor,A.lineOpacity,A.lineThickness,A.pinSize,A.anchorColor,A.anchorSize);for(w=0;w<C.length;w++)b=C[w],this.setCompositeRenderStyle(b);return this},setBodyRenderStyle:function(g,T,S,C,w,b){var A=g.render,D=this.debugConfig;return A?(T==null&&(T=g.isStatic?D.staticLineColor:D.lineColor),S==null&&(S=D.lineOpacity),C==null&&(C=D.lineThickness),w==null&&(w=g.isStatic?D.staticFillColor:D.fillColor),b==null&&(b=D.fillOpacity),T!==!1&&(A.lineColor=T),S!==!1&&(A.lineOpacity=S),C!==!1&&(A.lineThickness=C),w!==!1&&(A.fillColor=w),b!==!1&&(A.fillOpacity=b),this):this},setConstraintRenderStyle:function(g,T,S,C,w,b,A){var D=g.render,B=this.debugConfig;if(!D)return this;if(T==null){var N=D.type;N==="line"?T=B.jointColor:N==="pin"?T=B.pinColor:N==="spring"&&(T=B.springColor)}return S==null&&(S=B.jointLineOpacity),C==null&&(C=B.jointLineThickness),w==null&&(w=B.pinSize),b==null&&(b=B.anchorColor),A==null&&(A=B.anchorSize),T!==!1&&(D.lineColor=T),S!==!1&&(D.lineOpacity=S),C!==!1&&(D.lineThickness=C),w!==!1&&(D.pinSize=w),b!==!1&&(D.anchorColor=b),A!==!1&&(D.anchorSize=A),this},setEventsProxy:function(){var g=this,T=this.engine,S=this.localWorld;this.drawDebug&&(u.on(S,"compositeModified",function(C){g.setCompositeRenderStyle(C)}),u.on(S,"beforeAdd",function(C){for(var w=[].concat(C.object),b=0;b<w.length;b++){var A=w[b],D=A.render;A.type==="body"?g.setBodyRenderStyle(A,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):A.type==="composite"?g.setCompositeRenderStyle(A):A.type==="constraint"&&g.setConstraintRenderStyle(A,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),u.on(S,"beforeAdd",function(C){g.emit(h.BEFORE_ADD,C)}),u.on(S,"afterAdd",function(C){g.emit(h.AFTER_ADD,C)}),u.on(S,"beforeRemove",function(C){g.emit(h.BEFORE_REMOVE,C)}),u.on(S,"afterRemove",function(C){g.emit(h.AFTER_REMOVE,C)}),u.on(T,"beforeUpdate",function(C){g.emit(h.BEFORE_UPDATE,C)}),u.on(T,"afterUpdate",function(C){g.emit(h.AFTER_UPDATE,C)}),u.on(T,"collisionStart",function(C){var w=C.pairs,b,A;w.length>0&&(b=w[0].bodyA,A=w[0].bodyB),g.emit(h.COLLISION_START,C,b,A)}),u.on(T,"collisionActive",function(C){var w=C.pairs,b,A;w.length>0&&(b=w[0].bodyA,A=w[0].bodyB),g.emit(h.COLLISION_ACTIVE,C,b,A)}),u.on(T,"collisionEnd",function(C){var w=C.pairs,b,A;w.length>0&&(b=w[0].bodyA,A=w[0].bodyB),g.emit(h.COLLISION_END,C,b,A)})},setBounds:function(g,T,S,C,w,b,A,D,B){return g===void 0&&(g=0),T===void 0&&(T=0),S===void 0&&(S=this.scene.sys.scale.width),C===void 0&&(C=this.scene.sys.scale.height),w===void 0&&(w=64),b===void 0&&(b=!0),A===void 0&&(A=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),this.updateWall(b,"left",g-w,T-w,w,C+w*2),this.updateWall(A,"right",g+S,T-w,w,C+w*2),this.updateWall(D,"top",g,T-w,S,w),this.updateWall(B,"bottom",g,T+C,S,w),this},updateWall:function(g,T,S,C,w,b){var A=this.walls[T];g?(A&&p.remove(this.localWorld,A),S+=w/2,C+=b/2,this.walls[T]=this.create(S,C,w,b,{isStatic:!0,friction:0,frictionStatic:0})):(A&&p.remove(this.localWorld,A),this.walls[T]=null)},createDebugGraphic:function(){var g=this.scene.sys.add.graphics({x:0,y:0});return g.setDepth(Number.MAX_VALUE),this.debugGraphic=g,this.drawDebug=!0,g},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(g,T,S){return g===void 0&&(g=0),T===void 0&&(T=1),S===void 0&&(S=.001),this.localWorld.gravity.x=g,this.localWorld.gravity.y=T,this.localWorld.gravity.scale=S,this},create:function(g,T,S,C,w){var b=l.rectangle(g,T,S,C,w);return p.add(this.localWorld,b),b},add:function(g){return p.add(this.localWorld,g),this},remove:function(g,T){Array.isArray(g)||(g=[g]);for(var S=0;S<g.length;S++){var C=g[S],w=C.body?C.body:C;s.remove(this.localWorld,w,T)}return this},removeConstraint:function(g,T){return s.remove(this.localWorld,g,T),this},convertTilemapLayer:function(g,T){var S=g.layer,C=g.getTilesWithin(0,0,S.width,S.height,{isColliding:!0});return this.convertTiles(C,T),this},convertTiles:function(g,T){if(g.length===0)return this;for(var S=0;S<g.length;S++)new d(this,g[S],T);return this},nextGroup:function(g){return f.nextGroup(g)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(g,T){if(!(!this.enabled||!this.autoUpdate)){var S=this.engine,C=this.runner,w=S.timing;C.isFixed?T=this.getDelta(g,T):(T=g-C.timePrev||C.delta,C.timePrev=g,C.deltaHistory.push(T),C.deltaHistory=C.deltaHistory.slice(-C.deltaSampleSize),T=Math.min.apply(null,C.deltaHistory),T=T<C.deltaMin?C.deltaMin:T,T=T>C.deltaMax?C.deltaMax:T,C.delta=T),C.timeScalePrev=w.timeScale,C.frameCounter+=1,g-C.counterTimestamp>=1e3&&(C.fps=C.frameCounter*((g-C.counterTimestamp)/1e3),C.counterTimestamp=g,C.frameCounter=0),e.update(S,T)}},step:function(g){e.update(this.engine,g)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(g){var T=g.hasOwnProperty("body")?g.body:g;return s.get(this.localWorld,T.id,T.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var g=this.debugConfig,T=this.engine,S=this.debugGraphic,C=s.allBodies(this.localWorld);this.debugGraphic.clear(),g.showBroadphase&&T.broadphase.controller&&this.renderGrid(T.broadphase,S,g.broadphaseColor,.5),g.showBounds&&this.renderBodyBounds(C,S,g.boundsColor,.5),(g.showBody||g.showStaticBody)&&this.renderBodies(C),g.showJoint&&this.renderJoints(),(g.showAxes||g.showAngleIndicator)&&this.renderBodyAxes(C,S,g.showAxes,g.angleColor,.5),g.showVelocity&&this.renderBodyVelocity(C,S,g.velocityColor,1,2),g.showSeparations&&this.renderSeparations(T.pairs.list,S,g.separationColor),g.showCollisions&&this.renderCollisions(T.pairs.list,S,g.collisionColor)}},renderGrid:function(g,T,S,C){T.lineStyle(1,S,C);for(var w=r.keys(g.buckets),b=0;b<w.length;b++){var A=w[b];if(!(g.buckets[A].length<2)){var D=A.split(/C|R/);T.strokeRect(parseInt(D[1],10)*g.bucketWidth,parseInt(D[2],10)*g.bucketHeight,g.bucketWidth,g.bucketHeight)}}return this},renderSeparations:function(g,T,S){T.lineStyle(1,S,1);for(var C=0;C<g.length;C++){var w=g[C];if(w.isActive){var b=w.collision,A=b.bodyA,D=b.bodyB,B=A.position,N=D.position,Y=b.penetration,H=!A.isStatic&&!D.isStatic?4:1;D.isStatic&&(H=0),T.lineBetween(N.x,N.y,N.x-Y.x*H,N.y-Y.y*H),H=!A.isStatic&&!D.isStatic?4:1,A.isStatic&&(H=0),T.lineBetween(B.x,B.y,B.x-Y.x*H,B.y-Y.y*H)}}return this},renderCollisions:function(g,T,S){T.lineStyle(1,S,.5),T.fillStyle(S,1);var C,w;for(C=0;C<g.length;C++)if(w=g[C],!!w.isActive)for(var b=0;b<w.activeContacts.length;b++){var A=w.activeContacts[b],D=A.vertex;T.fillRect(D.x-2,D.y-2,5,5)}for(C=0;C<g.length;C++)if(w=g[C],!!w.isActive){var B=w.collision,N=w.activeContacts;if(N.length>0){var Y=N[0].vertex.x,H=N[0].vertex.y;N.length===2&&(Y=(N[0].vertex.x+N[1].vertex.x)/2,H=(N[0].vertex.y+N[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?T.lineBetween(Y-B.normal.x*8,H-B.normal.y*8,Y,H):T.lineBetween(Y+B.normal.x*8,H+B.normal.y*8,Y,H)}}return this},renderBodyBounds:function(g,T,S,C){T.lineStyle(1,S,C);for(var w=0;w<g.length;w++){var b=g[w];if(b.render.visible){var A=b.bounds;if(A)T.strokeRect(A.min.x,A.min.y,A.max.x-A.min.x,A.max.y-A.min.y);else for(var D=b.parts,B=D.length>1?1:0;B<D.length;B++){var N=D[B];T.strokeRect(N.bounds.min.x,N.bounds.min.y,N.bounds.max.x-N.bounds.min.x,N.bounds.max.y-N.bounds.min.y)}}}return this},renderBodyAxes:function(g,T,S,C,w){T.lineStyle(1,C,w);for(var b=0;b<g.length;b++){var A=g[b],D=A.parts;if(A.render.visible){var B,N,Y;if(S)for(N=D.length>1?1:0;N<D.length;N++)for(B=D[N],Y=0;Y<B.axes.length;Y++){var H=B.axes[Y];T.lineBetween(B.position.x,B.position.y,B.position.x+H.x*20,B.position.y+H.y*20)}else for(N=D.length>1?1:0;N<D.length;N++)for(B=D[N],Y=0;Y<B.axes.length;Y++)T.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(g,T,S,C,w){T.lineStyle(w,S,C);for(var b=0;b<g.length;b++){var A=g[b];A.render.visible&&T.lineBetween(A.position.x,A.position.y,A.position.x+(A.position.x-A.positionPrev.x)*2,A.position.y+(A.position.y-A.positionPrev.y)*2)}return this},renderBodies:function(g){for(var T=this.debugGraphic,S=this.debugConfig,C=S.showBody,w=S.showStaticBody,b=S.showSleeping,A=S.showInternalEdges,D=S.showConvexHulls,B=S.renderFill,N=S.renderLine,Y=S.staticBodySleepOpacity,H=S.sleepFillColor,j=S.sleepLineColor,J=S.hullColor,X=0;X<g.length;X++){var W=g[X];if(W.render.visible&&!(!w&&W.isStatic||!C&&!W.isStatic)){var L=W.render.lineColor,G=W.render.lineOpacity,z=W.render.lineThickness,k=W.render.fillColor,K=W.render.fillOpacity;b&&W.isSleeping&&(W.isStatic?(G*=Y,K*=Y):(L=j,k=H)),B||(k=null),N||(L=null),this.renderBody(W,T,A,L,G,z,k,K);var $=W.parts.length;D&&$>1&&this.renderConvexHull(W,T,J,z)}}},renderBody:function(g,T,S,C,w,b,A,D){C===void 0&&(C=null),w===void 0&&(w=null),b===void 0&&(b=1),A===void 0&&(A=null),D===void 0&&(D=null);for(var B=this.debugConfig,N=B.sensorFillColor,Y=B.sensorLineColor,H=g.parts,j=H.length,J=j>1?1:0;J<j;J++){var X=H[J],W=X.render,L=W.opacity;if(!(!W.visible||L===0||X.isSensor&&!B.showSensors)){var G=X.circleRadius;if(T.beginPath(),X.isSensor?(A!==null&&T.fillStyle(N,D*L),C!==null&&T.lineStyle(b,Y,w*L)):(A!==null&&T.fillStyle(A,D*L),C!==null&&T.lineStyle(b,C,w*L)),G)T.arc(X.position.x,X.position.y,G,0,2*Math.PI);else{var z=X.vertices,k=z.length;T.moveTo(z[0].x,z[0].y);for(var K=1;K<k;K++){var $=z[K];if(!z[K-1].isInternal||S?T.lineTo($.x,$.y):T.moveTo($.x,$.y),K<k&&$.isInternal&&!S){var Q=(K+1)%k;T.moveTo(z[Q].x,z[Q].y)}}T.closePath()}A!==null&&T.fillPath(),C!==null&&T.strokePath()}}if(B.showPositions&&!g.isStatic){var _=g.position.x,tt=g.position.y,nt=Math.ceil(B.positionSize/2);T.fillStyle(B.positionColor,1),T.fillRect(_-nt,tt-nt,B.positionSize,B.positionSize)}return this},renderConvexHull:function(g,T,S,C){C===void 0&&(C=1);var w=g.parts,b=w.length;if(b>1){var A=g.vertices;T.lineStyle(C,S),T.beginPath(),T.moveTo(A[0].x,A[0].y);for(var D=1;D<A.length;D++)T.lineTo(A[D].x,A[D].y);T.lineTo(A[0].x,A[0].y),T.strokePath()}return this},renderJoints:function(){for(var g=this.debugGraphic,T=s.allConstraints(this.localWorld),S=0;S<T.length;S++){var C=T[S].render,w=C.lineColor,b=C.lineOpacity,A=C.lineThickness,D=C.pinSize,B=C.anchorColor,N=C.anchorSize;this.renderConstraint(T[S],g,w,b,A,D,B,N)}},renderConstraint:function(g,T,S,C,w,b,A,D){var B=g.render;if(!B.visible||!g.pointA||!g.pointB)return this;T.lineStyle(w,S,C);var N=g.bodyA,Y=g.bodyB,H,j;if(N?H=m.add(N.position,g.pointA):H=g.pointA,B.type==="pin")T.strokeCircle(H.x,H.y,b);else{if(Y?j=m.add(Y.position,g.pointB):j=g.pointB,T.beginPath(),T.moveTo(H.x,H.y),B.type==="spring")for(var J=m.sub(j,H),X=m.perp(m.normalise(J)),W=Math.ceil(r.clamp(g.length/5,12,20)),L,G=1;G<W;G+=1)L=G%2===0?1:-1,T.lineTo(H.x+J.x*(G/W)+X.x*L*4,H.y+J.y*(G/W)+X.y*L*4);T.lineTo(j.x,j.y)}return T.strokePath(),B.anchors&&D>0&&(T.fillStyle(A),T.fillCircle(H.x,H.y,D),T.fillCircle(j.x,j.y,D)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=y},95349:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(t){return this.body.restitution=t,this}};v.exports=x},70679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var l=0;if(!Array.isArray(t))l=t;else for(var c=0;c<t.length;c++)l|=t[c];return this.body.collisionFilter.mask=l,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,l){Array.isArray(t)||(t=[t]);for(var c=0;c<t.length;c++){var a=t[c].hasOwnProperty("body")?t[c].body:t[c];this.body.setOnCollideWith(a,l)}return this}};v.exports=x},77178:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),c={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return l.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=c},74015:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(t,l,c){return this.body.friction=t,l!==void 0&&(this.body.frictionAir=l),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=x},11535:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=x},74497:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),c=t(93736),a={setMass:function(r){return l.setMass(this.body,r),this},setDensity:function(r){return l.setDensity(this.body,r),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},75529:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=x},64024:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68516),c=t(84125),a=t(88456),r=t(72632),s=t(10998),e=t(72829),i=t(39745),h={setRectangle:function(n,o,f){return this.setBody({type:"rectangle",width:n,height:o},f)},setCircle:function(n,o){return this.setBody({type:"circle",radius:n},o)},setPolygon:function(n,o,f){return this.setBody({type:"polygon",sides:o,radius:n},f)},setTrapezoid:function(n,o,f,u){return this.setBody({type:"trapezoid",width:n,height:o,slope:f},u)},setExistingBody:function(n,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var u=this;if(n.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},o&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var d=n.render.sprite.xOffset,p=n.render.sprite.yOffset,m=n.centerOfMass.x,y=n.centerOfMass.y;if(a(m,.5)&&a(y,.5))this.setOrigin(d+.5,p+.5);else{var g=n.centerOffset.x,T=n.centerOffset.y;this.setOrigin(d+g/this.displayWidth,p+T/this.displayHeight)}}return this},setBody:function(n,o){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var u=r(n,"type","rectangle"),d=r(n,"x",this._tempVec2.x),p=r(n,"y",this._tempVec2.y),m=r(n,"width",this.width),y=r(n,"height",this.height);switch(u){case"rectangle":f=l.rectangle(d,p,m,y,o);break;case"circle":var g=r(n,"radius",Math.max(m,y)/2),T=r(n,"maxSides",25);f=l.circle(d,p,g,o,T);break;case"trapezoid":var S=r(n,"slope",.5);f=l.trapezoid(d,p,m,y,S,o);break;case"polygon":var C=r(n,"sides",5),w=r(n,"radius",Math.max(m,y)/2);f=l.polygon(d,p,C,w,o);break;case"fromVertices":case"fromVerts":var b=r(n,"verts",null);if(b)if(typeof b=="string"&&(b=i.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,b),f=this.body;else{var A=r(n,"flagInternal",!1),D=r(n,"removeCollinear",.01),B=r(n,"minimumArea",10);f=l.fromVertices(d,p,b,o,A,D,B)}break;case"fromPhysicsEditor":f=s.parseBody(d,p,n,o);break;case"fromPhysicsTracer":f=e.parseBody(d,p,n,o);break}return f&&this.setExistingBody(f,n.addToWorld),this}};v.exports=h},25106:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35416),c=t(22806),a=t(39073),r={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,e){return this.setSleepStartEvent(s),this.setSleepEndEvent(e),this},setSleepStartEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepStart",function(i){e.emit(l.SLEEP_START,i,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var e=this.world;a.on(this.body,"sleepEnd",function(i){e.emit(l.SLEEP_END,i,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=r},82884:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),c={setStatic:function(a){return l.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=c},4753:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),c=t(83392),a=t(35786),r=t(62138),s=4,e={x:{get:function(){return this.body.position.x},set:function(i){this._tempVec2.set(i,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(i){this._tempVec2.set(this.x,i),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(i){var h=1/this._scaleX,n=1/this._scaleY;this._scaleX=i,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,h,n),l.scale(this.body,i,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(i){var h=1/this._scaleX,n=1/this._scaleY;this._scaleY=i,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,l.scale(this.body,h,n),l.scale(this.body,this._scaleX,i)}},angle:{get:function(){return r(this.body.angle*c.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(i){this._rotation=a(i),l.setAngle(this.body,this._rotation)}},setPosition:function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this._tempVec2.set(i,h),l.setPosition(this.body,this._tempVec2),this},setRotation:function(i){return i===void 0&&(i=0),this._rotation=a(i),l.setAngle(this.body,i),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,l.setAngle(this.body,this.rotation),this},setScale:function(i,h,n){i===void 0&&(i=1),h===void 0&&(h=i);var o=1/this._scaleX,f=1/this._scaleY;return this._scaleX=i,this._scaleY=h,l.scale(this.body,o,f,n),l.scale(this.body,i,h,n),this}};v.exports=e},37268:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84125),c={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(a){return l.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(a){return l.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};v.exports=c},74527:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},30474:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},44822:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},88820:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},94849:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},6391:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},96738:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},7916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},59529:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},10219:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},183:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},39143:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},16483:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},35806:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},22106:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},5803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},35416:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(v,x,t)=>{var l={};v.exports=l;var c=t(39745),a=t(10438),r=t(22806),s=t(68758),e=t(84091),i=t(50658);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(n){var o={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=c.centre(n.vertices):n.hasOwnProperty("vertices")||(o.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(o,n);return h(f,n),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},l.nextGroup=function(n){return n?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var h=function(n,o){if(o=o||{},l.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||a.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),c.rotate(n.vertices,n.angle,n.position),i.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),l.set(n,{axes:o.axes||n.axes,area:o.area||n.area,mass:o.mass||n.mass,inertia:o.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,u=n.centerOfMass,d=n.centerOffset,p=f.max.x-f.min.x,m=f.max.y-f.min.y;u.x=-(f.min.x-n.position.x)/p,u.y=-(f.min.y-n.position.y)/m,d.x=p*u.x,d.y=m*u.y}};l.set=function(n,o,f){var u;typeof o=="string"&&(u=o,o={},o[u]=f);for(u in o)if(Object.prototype.hasOwnProperty.call(o,u))switch(f=o[u],u){case"isStatic":l.setStatic(n,f);break;case"isSleeping":r.set(n,f);break;case"mass":l.setMass(n,f);break;case"density":l.setDensity(n,f);break;case"inertia":l.setInertia(n,f);break;case"vertices":l.setVertices(n,f);break;case"position":l.setPosition(n,f);break;case"angle":l.setAngle(n,f);break;case"velocity":l.setVelocity(n,f);break;case"angularVelocity":l.setAngularVelocity(n,f);break;case"speed":l.setSpeed(n,f);break;case"angularSpeed":l.setAngularSpeed(n,f);break;case"parts":l.setParts(n,f);break;case"centre":l.setCentre(n,f);break;default:n[u]=f}},l.setStatic=function(n,o){for(var f=0;f<n.parts.length;f++){var u=n.parts[f];o?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=o}},l.setMass=function(n,o){var f=n.inertia/(n.mass/6);n.inertia=f*(o/6),n.inverseInertia=1/n.inertia,n.mass=o,n.inverseMass=1/n.mass,n.density=n.mass/n.area},l.setDensity=function(n,o){l.setMass(n,o*n.area),n.density=o},l.setInertia=function(n,o){n.inertia=o,n.inverseInertia=1/n.inertia},l.setVertices=function(n,o){o[0].body===n?n.vertices=o:n.vertices=c.create(o,n),n.axes=i.fromVertices(n.vertices),n.area=c.area(n.vertices),l.setMass(n,n.density*n.area);var f=c.centre(n.vertices);c.translate(n.vertices,f,-1),l.setInertia(n,l._inertiaScale*c.inertia(n.vertices,n.mass)),c.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},l.setParts=function(n,o,f){var u;for(o=o.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,u=0;u<o.length;u++){var d=o[u];d!==n&&(d.parent=n,n.parts.push(d))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var p=[];for(u=0;u<o.length;u++)p=p.concat(o[u].vertices);c.clockwiseSort(p);var m=c.hull(p),y=c.centre(m);l.setVertices(n,m),c.translate(n.vertices,y)}var g=l._totalProperties(n),T=g.centre.x,S=g.centre.y,C=n.bounds,w=n.centerOfMass,b=n.centerOffset;e.update(C,n.vertices,n.velocity),w.x=-(C.min.x-T)/(C.max.x-C.min.x),w.y=-(C.min.y-S)/(C.max.y-C.min.y),b.x=T,b.y=S,n.area=g.area,n.parent=n,n.position.x=T,n.position.y=S,n.positionPrev.x=T,n.positionPrev.y=S,l.setMass(n,g.mass),l.setInertia(n,g.inertia),l.setPosition(n,g.centre)}},l.setCentre=function(n,o,f){f?(n.positionPrev.x+=o.x,n.positionPrev.y+=o.y,n.position.x+=o.x,n.position.y+=o.y):(n.positionPrev.x=o.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=o.y-(n.position.y-n.positionPrev.y),n.position.x=o.x,n.position.y=o.y)},l.setPosition=function(n,o,f){var u=a.sub(o,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=u.x,n.velocity.y=u.y,n.speed=a.magnitude(u)):(n.positionPrev.x+=u.x,n.positionPrev.y+=u.y);for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.position.x+=u.x,p.position.y+=u.y,c.translate(p.vertices,u),e.update(p.bounds,p.vertices,n.velocity)}},l.setAngle=function(n,o,f){var u=o-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=u,n.angularSpeed=Math.abs(u)):n.anglePrev+=u;for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.angle+=u,c.rotate(p.vertices,u,n.position),i.rotate(p.axes,u),e.update(p.bounds,p.vertices,n.velocity),d>0&&a.rotateAbout(p.position,u,n.position,p.position)}},l.setVelocity=function(n,o){var f=n.deltaTime/l._baseDelta;n.positionPrev.x=n.position.x-o.x*f,n.positionPrev.y=n.position.y-o.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=a.magnitude(n.velocity)},l.getVelocity=function(n){var o=l._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*o,y:(n.position.y-n.positionPrev.y)*o}},l.getSpeed=function(n){return a.magnitude(l.getVelocity(n))},l.setSpeed=function(n,o){l.setVelocity(n,a.mult(a.normalise(l.getVelocity(n)),o))},l.setAngularVelocity=function(n,o){var f=n.deltaTime/l._baseDelta;n.anglePrev=n.angle-o*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},l.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*l._baseDelta/n.deltaTime},l.getAngularSpeed=function(n){return Math.abs(l.getAngularVelocity(n))},l.setAngularSpeed=function(n,o){l.setAngularVelocity(n,s.sign(l.getAngularVelocity(n))*o)},l.translate=function(n,o,f){l.setPosition(n,a.add(n.position,o),f)},l.rotate=function(n,o,f,u){if(!f)l.setAngle(n,n.angle+o,u);else{var d=Math.cos(o),p=Math.sin(o),m=n.position.x-f.x,y=n.position.y-f.y;l.setPosition(n,{x:f.x+(m*d-y*p),y:f.y+(m*p+y*d)},u),l.setAngle(n,n.angle+o,u)}},l.scale=function(n,o,f,u){var d=0,p=0;u=u||n.position;for(var m=0;m<n.parts.length;m++){var y=n.parts[m];y.scale.x=o,y.scale.y=f,c.scale(y.vertices,o,f,u),y.axes=i.fromVertices(y.vertices),y.area=c.area(y.vertices),l.setMass(y,n.density*y.area),c.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),l.setInertia(y,l._inertiaScale*c.inertia(y.vertices,y.mass)),c.translate(y.vertices,{x:y.position.x,y:y.position.y}),m>0&&(d+=y.area,p+=y.inertia),y.position.x=u.x+(y.position.x-u.x)*o,y.position.y=u.y+(y.position.y-u.y)*f,e.update(y.bounds,y.vertices,n.velocity)}n.parts.length>1&&(n.area=d,n.isStatic||(l.setMass(n,n.density*d),l.setInertia(n,p))),n.circleRadius&&(o===f?n.circleRadius*=o:n.circleRadius=null)},l.update=function(n,o){o=(typeof o<"u"?o:16.666666666666668)*n.timeScale;var f=o*o,u=l._timeCorrection?o/(n.deltaTime||o):1,d=1-n.frictionAir*(o/s._baseDelta),p=(n.position.x-n.positionPrev.x)*u,m=(n.position.y-n.positionPrev.y)*u;n.velocity.x=p*d+n.force.x/n.mass*f,n.velocity.y=m*d+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=o,n.angularVelocity=(n.angle-n.anglePrev)*d*u+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=a.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var y=0;y<n.parts.length;y++){var g=n.parts[y];c.translate(g.vertices,n.velocity),y>0&&(g.position.x+=n.velocity.x,g.position.y+=n.velocity.y),n.angularVelocity!==0&&(c.rotate(g.vertices,n.angularVelocity,n.position),i.rotate(g.axes,n.angularVelocity),y>0&&a.rotateAbout(g.position,n.angularVelocity,n.position,g.position)),e.update(g.bounds,g.vertices,n.velocity)}},l.updateVelocities=function(n){var o=l._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*o,f.y=(n.position.y-n.positionPrev.y)*o,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*o,n.angularSpeed=Math.abs(n.angularVelocity)},l.applyForce=function(n,o,f){var u={x:o.x-n.position.x,y:o.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=u.x*f.y-u.y*f.x},l._totalProperties=function(n){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var u=n.parts[f],d=u.mass!==1/0?u.mass:1;o.mass+=d,o.area+=u.area,o.inertia+=u.inertia,o.centre=a.add(o.centre,a.mult(u.position,d))}return o.centre=a.div(o.centre,o.mass),o}})()},11299:(v,x,t)=>{var l={};v.exports=l;var c=t(39073),a=t(68758),r=t(84091),s=t(84125);(function(){l.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},l.setModified=function(e,i,h,n){if(c.trigger(e,"compositeModified",e),e.isModified=i,i&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),h&&e.parent&&l.setModified(e.parent,i,h,n),n)for(var o=0;o<e.composites.length;o++){var f=e.composites[o];l.setModified(f,i,h,n)}},l.add=function(e,i){var h=[].concat(i);c.trigger(e,"beforeAdd",{object:i});for(var n=0;n<h.length;n++){var o=h[n];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(e,o);break;case"constraint":l.addConstraint(e,o);break;case"composite":l.addComposite(e,o);break;case"mouseConstraint":l.addConstraint(e,o.constraint);break}}return c.trigger(e,"afterAdd",{object:i}),e},l.remove=function(e,i,h){var n=[].concat(i);c.trigger(e,"beforeRemove",{object:i});for(var o=0;o<n.length;o++){var f=n[o];switch(f.type){case"body":l.removeBody(e,f,h);break;case"constraint":l.removeConstraint(e,f,h);break;case"composite":l.removeComposite(e,f,h);break;case"mouseConstraint":l.removeConstraint(e,f.constraint);break}}return c.trigger(e,"afterRemove",{object:i}),e},l.addComposite=function(e,i){return e.composites.push(i),i.parent=e,l.setModified(e,!0,!0,!1),e},l.removeComposite=function(e,i,h){var n=a.indexOf(e.composites,i);if(n!==-1&&l.removeCompositeAt(e,n),h)for(var o=0;o<e.composites.length;o++)l.removeComposite(e.composites[o],i,!0);return e},l.removeCompositeAt=function(e,i){return e.composites.splice(i,1),l.setModified(e,!0,!0,!1),e},l.addBody=function(e,i){return e.bodies.push(i),l.setModified(e,!0,!0,!1),e},l.removeBody=function(e,i,h){var n=a.indexOf(e.bodies,i);if(n!==-1&&l.removeBodyAt(e,n),h)for(var o=0;o<e.composites.length;o++)l.removeBody(e.composites[o],i,!0);return e},l.removeBodyAt=function(e,i){return e.bodies.splice(i,1),l.setModified(e,!0,!0,!1),e},l.addConstraint=function(e,i){return e.constraints.push(i),l.setModified(e,!0,!0,!1),e},l.removeConstraint=function(e,i,h){var n=a.indexOf(e.constraints,i);if(n!==-1&&l.removeConstraintAt(e,n),h)for(var o=0;o<e.composites.length;o++)l.removeConstraint(e.composites[o],i,!0);return e},l.removeConstraintAt=function(e,i){return e.constraints.splice(i,1),l.setModified(e,!0,!0,!1),e},l.clear=function(e,i,h){if(h)for(var n=0;n<e.composites.length;n++)l.clear(e.composites[n],i,!0);return i?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,l.setModified(e,!0,!0,!1),e},l.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var i=[].concat(e.bodies),h=0;h<e.composites.length;h++)i=i.concat(l.allBodies(e.composites[h]));return e.cache&&(e.cache.allBodies=i),i},l.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var i=[].concat(e.constraints),h=0;h<e.composites.length;h++)i=i.concat(l.allConstraints(e.composites[h]));return e.cache&&(e.cache.allConstraints=i),i},l.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var i=[].concat(e.composites),h=0;h<e.composites.length;h++)i=i.concat(l.allComposites(e.composites[h]));return e.cache&&(e.cache.allComposites=i),i},l.get=function(e,i,h){var n,o;switch(h){case"body":n=l.allBodies(e);break;case"constraint":n=l.allConstraints(e);break;case"composite":n=l.allComposites(e).concat(e);break}return n?(o=n.filter(function(f){return f.id.toString()===i.toString()}),o.length===0?null:o[0]):null},l.move=function(e,i,h){return l.remove(e,i),l.add(h,i),e},l.rebase=function(e){for(var i=l.allBodies(e).concat(l.allConstraints(e)).concat(l.allComposites(e)),h=0;h<i.length;h++)i[h].id=a.nextId();return e},l.translate=function(e,i,h){for(var n=h?l.allBodies(e):e.bodies,o=0;o<n.length;o++)s.translate(n[o],i);return e},l.rotate=function(e,i,h,n){for(var o=Math.cos(i),f=Math.sin(i),u=n?l.allBodies(e):e.bodies,d=0;d<u.length;d++){var p=u[d],m=p.position.x-h.x,y=p.position.y-h.y;s.setPosition(p,{x:h.x+(m*o-y*f),y:h.y+(m*f+y*o)}),s.rotate(p,i)}return e},l.scale=function(e,i,h,n,o){for(var f=o?l.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],p=d.position.x-n.x,m=d.position.y-n.y;s.setPosition(d,{x:n.x+p*i,y:n.y+m*h}),s.scale(d,i,h)}return e},l.bounds=function(e){for(var i=l.allBodies(e),h=[],n=0;n<i.length;n+=1){var o=i[n];h.push(o.bounds.min,o.bounds.max)}return r.create(h)}})()},72005:(v,x,t)=>{var l={};v.exports=l;var c=t(11299);(function(){l.create=c.create,l.add=c.add,l.remove=c.remove,l.clear=c.clear,l.addComposite=c.addComposite,l.addBody=c.addBody,l.addConstraint=c.addConstraint})()},63454:(v,x,t)=>{var l={};v.exports=l;var c=t(39745),a=t(70584);(function(){var r=[],s={overlap:0,axis:null},e={overlap:0,axis:null};l.create=function(i,h){return{pair:null,collided:!1,bodyA:i,bodyB:h,parentA:i.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},l.collides=function(i,h,n){if(l._overlapAxes(s,i.vertices,h.vertices,i.axes),s.overlap<=0||(l._overlapAxes(e,h.vertices,i.vertices,h.axes),e.overlap<=0))return null;var o=n&&n.table[a.id(i,h)],f;o?f=o.collision:(f=l.create(i,h),f.collided=!0,f.bodyA=i.id<h.id?i:h,f.bodyB=i.id<h.id?h:i,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),i=f.bodyA,h=f.bodyB;var u;s.overlap<e.overlap?u=s:u=e;var d=f.normal,p=f.supports,m=u.axis,y=m.x,g=m.y;y*(h.position.x-i.position.x)+g*(h.position.y-i.position.y)<0?(d.x=y,d.y=g):(d.x=-y,d.y=-g),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var T=l._findSupports(i,h,d,1),S=0;if(c.contains(i.vertices,T[0])&&(p[S++]=T[0]),c.contains(i.vertices,T[1])&&(p[S++]=T[1]),S<2){var C=l._findSupports(h,i,d,-1);c.contains(h.vertices,C[0])&&(p[S++]=C[0]),S<2&&c.contains(h.vertices,C[1])&&(p[S++]=C[1])}return S===0&&(p[S++]=T[0]),p.length=S,f},l._overlapAxes=function(i,h,n,o){var f=h.length,u=n.length,d=h[0].x,p=h[0].y,m=n[0].x,y=n[0].y,g=o.length,T=Number.MAX_VALUE,S=0,C,w,b,A,D,B;for(D=0;D<g;D++){var N=o[D],Y=N.x,H=N.y,j=d*Y+p*H,J=m*Y+y*H,X=j,W=J;for(B=1;B<f;B+=1)A=h[B].x*Y+h[B].y*H,A>X?X=A:A<j&&(j=A);for(B=1;B<u;B+=1)A=n[B].x*Y+n[B].y*H,A>W?W=A:A<J&&(J=A);if(w=X-J,b=W-j,C=w<b?w:b,C<T&&(T=C,S=D,C<=0))break}i.axis=o[S],i.overlap=T},l._projectToAxis=function(i,h,n){for(var o=h[0].x*n.x+h[0].y*n.y,f=o,u=1;u<h.length;u+=1){var d=h[u].x*n.x+h[u].y*n.y;d>f?f=d:d<o&&(o=d)}i.min=o,i.max=f},l._findSupports=function(i,h,n,o){var f=h.vertices,u=f.length,d=i.position.x,p=i.position.y,m=n.x*o,y=n.y*o,g=Number.MAX_VALUE,T,S,C,w,b;for(b=0;b<u;b+=1)S=f[b],w=m*(d-S.x)+y*(p-S.y),w<g&&(g=w,T=S);return C=f[(u+T.index-1)%u],g=m*(d-C.x)+y*(p-C.y),S=f[(T.index+1)%u],m*(d-S.x)+y*(p-S.y)<g?(r[0]=T,r[1]=S,r):(r[0]=T,r[1]=C,r)}})()},17319:v=>{var x={};v.exports=x,function(){x.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(v,x,t)=>{var l={};v.exports=l;var c=t(68758),a=t(63454);(function(){l.create=function(r){var s={bodies:[],pairs:null};return c.extend(s,r)},l.setBodies=function(r,s){r.bodies=s.slice(0)},l.clear=function(r){r.bodies=[]},l.collisions=function(r){var s=[],e=r.pairs,i=r.bodies,h=i.length,n=l.canCollide,o=a.collides,f,u;for(i.sort(l._compareBoundsX),f=0;f<h;f++){var d=i[f],p=d.bounds,m=d.bounds.max.x,y=d.bounds.max.y,g=d.bounds.min.y,T=d.isStatic||d.isSleeping,S=d.parts.length,C=S===1;for(u=f+1;u<h;u++){var w=i[u],b=w.bounds;if(b.min.x>m)break;if(!(y<b.min.y||g>b.max.y)&&!(T&&(w.isStatic||w.isSleeping))&&n(d.collisionFilter,w.collisionFilter)){var A=w.parts.length;if(C&&A===1){var D=o(d,w,e);D&&s.push(D)}else for(var B=S>1?1:0,N=A>1?1:0,Y=B;Y<S;Y++)for(var H=d.parts[Y],p=H.bounds,j=N;j<A;j++){var J=w.parts[j],b=J.bounds;if(!(p.min.x>b.max.x||p.max.x<b.min.x||p.max.y<b.min.y||p.min.y>b.max.y)){var D=o(H,J,e);D&&s.push(D)}}}}}return s},l.canCollide=function(r,s){return r.group===s.group&&r.group!==0?r.group>0:(r.mask&s.category)!==0&&(s.mask&r.category)!==0},l._compareBoundsX=function(r,s){return r.bounds.min.x-s.bounds.min.x}})()},70584:(v,x,t)=>{var l={};v.exports=l;var c=t(17319);(function(){l.create=function(a,r){var s=a.bodyA,e=a.bodyB,i={id:l.id(s,e),bodyA:s,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(i,a,r),i},l.update=function(a,r,s){var e=a.contacts,i=r.supports,h=a.activeContacts,n=r.parentA,o=r.parentB,f=n.vertices.length;a.isActive=!0,a.timeUpdated=s,a.collision=r,a.separation=r.depth,a.inverseMass=n.inverseMass+o.inverseMass,a.friction=n.friction<o.friction?n.friction:o.friction,a.frictionStatic=n.frictionStatic>o.frictionStatic?n.frictionStatic:o.frictionStatic,a.restitution=n.restitution>o.restitution?n.restitution:o.restitution,a.slop=n.slop>o.slop?n.slop:o.slop,r.pair=a,h.length=0;for(var u=0;u<i.length;u++){var d=i[u],p=d.body===n?d.index:f+d.index,m=e[p];m?h.push(m):h.push(e[p]=c.create(d))}},l.setActive=function(a,r,s){r?(a.isActive=!0,a.timeUpdated=s):(a.isActive=!1,a.activeContacts.length=0)},l.id=function(a,r){return a.id<r.id?"A"+a.id+"B"+r.id:"A"+r.id+"B"+a.id}})()},91327:(v,x,t)=>{var l={};v.exports=l;var c=t(70584),a=t(68758);(function(){l.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},l.update=function(r,s,e){var i=r.list,h=i.length,n=r.table,o=s.length,f=r.collisionStart,u=r.collisionEnd,d=r.collisionActive,p,m,y,g;for(f.length=0,u.length=0,d.length=0,g=0;g<h;g++)i[g].confirmedActive=!1;for(g=0;g<o;g++)p=s[g],y=p.pair,y?(y.isActive?d.push(y):f.push(y),c.update(y,p,e),y.confirmedActive=!0):(y=c.create(p,e),n[y.id]=y,f.push(y),i.push(y));var T=[];for(h=i.length,g=0;g<h;g++)y=i[g],y.confirmedActive||(c.setActive(y,!1,e),u.push(y),!y.collision.bodyA.isSleeping&&!y.collision.bodyB.isSleeping&&T.push(g));for(g=0;g<T.length;g++)m=T[g]-g,y=i[m],i.splice(m,1),delete n[y.id]},l.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(v,x,t)=>{var l={};v.exports=l;var c=t(10438),a=t(63454),r=t(84091),s=t(68516),e=t(39745);(function(){l.collides=function(i,h){for(var n=[],o=h.length,f=i.bounds,u=a.collides,d=r.overlaps,p=0;p<o;p++){var m=h[p],y=m.parts.length,g=y===1?0:1;if(i!==m&&d(m.bounds,f))for(var T=g;T<y;T++){var S=m.parts[T];if(d(S.bounds,f)){var C=u(S,i);if(C){n.push(C);break}}}}return n},l.ray=function(i,h,n,o){o=o||1e-100;for(var f=c.angle(h,n),u=c.magnitude(c.sub(h,n)),d=(n.x+h.x)*.5,p=(n.y+h.y)*.5,m=s.rectangle(d,p,u,o,{angle:f}),y=l.collides(m,i),g=0;g<y.length;g+=1){var T=y[g];T.body=T.bodyB=T.bodyA}return y},l.region=function(i,h,n){for(var o=[],f=0;f<i.length;f++){var u=i[f],d=r.overlaps(u.bounds,h);(d&&!n||!d&&n)&&o.push(u)}return o},l.point=function(i,h){for(var n=[],o=0;o<i.length;o++){var f=i[o];if(r.contains(f.bounds,h))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(r.contains(d.bounds,h)&&e.contains(d.vertices,h)){n.push(f);break}}}return n}})()},44272:(v,x,t)=>{var l={};v.exports=l;var c=t(39745),a=t(68758),r=t(84091);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(s){var e,i,h,n=s.length;for(e=0;e<n;e++)i=s[e],i.isActive&&(h=i.activeContacts.length,i.collision.parentA.totalContacts+=h,i.collision.parentB.totalContacts+=h)},l.solvePosition=function(s,e,i){var h,n,o,f,u,d,p,m,y=l._positionDampen*(i||1),g=a.clamp(e/a._baseDelta,0,1),T=s.length;for(h=0;h<T;h++)n=s[h],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,u=o.parentB,d=o.normal,n.separation=d.x*(u.positionImpulse.x+o.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+o.penetration.y-f.positionImpulse.y));for(h=0;h<T;h++)n=s[h],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,u=o.parentB,d=o.normal,m=n.separation-n.slop*g,(f.isStatic||u.isStatic)&&(m*=2),f.isStatic||f.isSleeping||(p=y/f.totalContacts,f.positionImpulse.x+=d.x*m*p,f.positionImpulse.y+=d.y*m*p),u.isStatic||u.isSleeping||(p=y/u.totalContacts,u.positionImpulse.x-=d.x*m*p,u.positionImpulse.y-=d.y*m*p))},l.postSolvePosition=function(s){for(var e=l._positionWarming,i=s.length,h=c.translate,n=r.update,o=0;o<i;o++){var f=s[o],u=f.positionImpulse,d=u.x,p=u.y,m=f.velocity;if(f.totalContacts=0,d!==0||p!==0){for(var y=0;y<f.parts.length;y++){var g=f.parts[y];h(g.vertices,u),n(g.bounds,g.vertices,m),g.position.x+=d,g.position.y+=p}f.positionPrev.x+=d,f.positionPrev.y+=p,d*m.x+p*m.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},l.preSolveVelocity=function(s){var e=s.length,i,h;for(i=0;i<e;i++){var n=s[i];if(!(!n.isActive||n.isSensor)){var o=n.activeContacts,f=o.length,u=n.collision,d=u.parentA,p=u.parentB,m=u.normal,y=u.tangent;for(h=0;h<f;h++){var g=o[h],T=g.vertex,S=g.normalImpulse,C=g.tangentImpulse;if(S!==0||C!==0){var w=m.x*S+y.x*C,b=m.y*S+y.y*C;d.isStatic||d.isSleeping||(d.positionPrev.x+=w*d.inverseMass,d.positionPrev.y+=b*d.inverseMass,d.anglePrev+=d.inverseInertia*((T.x-d.position.x)*b-(T.y-d.position.y)*w)),p.isStatic||p.isSleeping||(p.positionPrev.x-=w*p.inverseMass,p.positionPrev.y-=b*p.inverseMass,p.anglePrev-=p.inverseInertia*((T.x-p.position.x)*b-(T.y-p.position.y)*w))}}}}},l.solveVelocity=function(s,e){var i=e/a._baseDelta,h=i*i,n=h*i,o=-l._restingThresh*i,f=l._restingThreshTangent,u=l._frictionNormalMultiplier*i,d=l._frictionMaxStatic,p=s.length,m,y,g,T;for(g=0;g<p;g++){var S=s[g];if(!(!S.isActive||S.isSensor)){var C=S.collision,w=C.parentA,b=C.parentB,A=w.velocity,D=b.velocity,B=C.normal.x,N=C.normal.y,Y=C.tangent.x,H=C.tangent.y,j=S.activeContacts,J=j.length,X=1/J,W=w.inverseMass+b.inverseMass,L=S.friction*S.frictionStatic*u;for(A.x=w.position.x-w.positionPrev.x,A.y=w.position.y-w.positionPrev.y,D.x=b.position.x-b.positionPrev.x,D.y=b.position.y-b.positionPrev.y,w.angularVelocity=w.angle-w.anglePrev,b.angularVelocity=b.angle-b.anglePrev,T=0;T<J;T++){var G=j[T],z=G.vertex,k=z.x-w.position.x,K=z.y-w.position.y,$=z.x-b.position.x,Q=z.y-b.position.y,_=A.x-K*w.angularVelocity,tt=A.y+k*w.angularVelocity,nt=D.x-Q*b.angularVelocity,st=D.y+$*b.angularVelocity,at=_-nt,rt=tt-st,dt=B*at+N*rt,mt=Y*at+H*rt,Tt=S.separation+dt,St=Math.min(Tt,1);St=Tt<0?0:St;var ft=St*L;mt<-ft||mt>ft?(y=mt>0?mt:-mt,m=S.friction*(mt>0?1:-1)*n,m<-y?m=-y:m>y&&(m=y)):(m=mt,y=d);var vt=k*N-K*B,et=$*N-Q*B,ot=X/(W+w.inverseInertia*vt*vt+b.inverseInertia*et*et),ut=(1+S.restitution)*dt*ot;if(m*=ot,dt<o)G.normalImpulse=0;else{var ct=G.normalImpulse;G.normalImpulse+=ut,G.normalImpulse>0&&(G.normalImpulse=0),ut=G.normalImpulse-ct}if(mt<-f||mt>f)G.tangentImpulse=0;else{var xt=G.tangentImpulse;G.tangentImpulse+=m,G.tangentImpulse<-y&&(G.tangentImpulse=-y),G.tangentImpulse>y&&(G.tangentImpulse=y),m=G.tangentImpulse-xt}var wt=B*ut+Y*m,pt=N*ut+H*m;w.isStatic||w.isSleeping||(w.positionPrev.x+=wt*w.inverseMass,w.positionPrev.y+=pt*w.inverseMass,w.anglePrev+=(k*pt-K*wt)*w.inverseInertia),b.isStatic||b.isSleeping||(b.positionPrev.x-=wt*b.inverseMass,b.positionPrev.y-=pt*b.inverseMass,b.anglePrev-=($*pt-Q*wt)*b.inverseInertia)}}}}})()},52838:(v,x,t)=>{var l={};v.exports=l;var c=t(39745),a=t(10438),r=t(22806),s=t(84091),e=t(50658),i=t(68758);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(h){var n=h;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?a.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?a.add(n.bodyB.position,n.pointB):n.pointB,u=a.magnitude(a.sub(o,f));n.length=typeof n.length<"u"?n.length:u,n.id=n.id||i.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(d.type="pin",d.anchors=!1):n.stiffness<.9&&(d.type="spring"),n.render=i.extend(d,n.render),n},l.preSolveAll=function(h){for(var n=0;n<h.length;n+=1){var o=h[n],f=o.constraintImpulse;o.isStatic||f.x===0&&f.y===0&&f.angle===0||(o.position.x+=f.x,o.position.y+=f.y,o.angle+=f.angle)}},l.solveAll=function(h,n){for(var o=i.clamp(n/i._baseDelta,0,1),f=0;f<h.length;f+=1){var u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,p=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||p)&&l.solve(h[f],o)}for(f=0;f<h.length;f+=1)u=h[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,p=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!p&&l.solve(h[f],o)},l.solve=function(h,n){var o=h.bodyA,f=h.bodyB,u=h.pointA,d=h.pointB;if(!(!o&&!f)){o&&!o.isStatic&&(a.rotate(u,o.angle-h.angleA,u),h.angleA=o.angle),f&&!f.isStatic&&(a.rotate(d,f.angle-h.angleB,d),h.angleB=f.angle);var p=u,m=d;if(o&&(p=a.add(o.position,u)),f&&(m=a.add(f.position,d)),!(!p||!m)){var y=a.sub(p,m),g=a.magnitude(y);g<l._minLength&&(g=l._minLength);var T=(g-h.length)/g,S=h.stiffness>=1||h.length===0,C=S?h.stiffness*n:h.stiffness*n*n,w=h.damping*n,b=a.mult(y,T*C),A=(o?o.inverseMass:0)+(f?f.inverseMass:0),D=(o?o.inverseInertia:0)+(f?f.inverseInertia:0),B=A+D,N,Y,H,j,J;if(w>0){var X=a.create();H=a.div(y,g),J=a.sub(f&&a.sub(f.position,f.positionPrev)||X,o&&a.sub(o.position,o.positionPrev)||X),j=a.dot(H,J)}o&&!o.isStatic&&(Y=o.inverseMass/A,o.constraintImpulse.x-=b.x*Y,o.constraintImpulse.y-=b.y*Y,o.position.x-=b.x*Y,o.position.y-=b.y*Y,w>0&&(o.positionPrev.x-=w*H.x*j*Y,o.positionPrev.y-=w*H.y*j*Y),N=a.cross(u,b)/B*l._torqueDampen*o.inverseInertia*(1-h.angularStiffness),o.constraintImpulse.angle-=N,o.angle-=N),f&&!f.isStatic&&(Y=f.inverseMass/A,f.constraintImpulse.x+=b.x*Y,f.constraintImpulse.y+=b.y*Y,f.position.x+=b.x*Y,f.position.y+=b.y*Y,w>0&&(f.positionPrev.x+=w*H.x*j*Y,f.positionPrev.y+=w*H.y*j*Y),N=a.cross(d,b)/B*l._torqueDampen*f.inverseInertia*(1-h.angularStiffness),f.constraintImpulse.angle+=N,f.angle+=N)}}},l.postSolveAll=function(h){for(var n=0;n<h.length;n++){var o=h[n],f=o.constraintImpulse;if(!(o.isStatic||f.x===0&&f.y===0&&f.angle===0)){r.set(o,!1);for(var u=0;u<o.parts.length;u++){var d=o.parts[u];c.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(c.rotate(d.vertices,f.angle,o.position),e.rotate(d.axes,f.angle),u>0&&a.rotateAbout(d.position,f.angle,o.position,d.position)),s.update(d.bounds,d.vertices,o.velocity)}f.angle*=l._warming,f.x*=l._warming,f.y*=l._warming}}},l.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},l.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},l.currentLength=function(h){var n=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),o=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),f=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),u=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),d=n-f,p=o-u;return Math.sqrt(d*d+p*p)}})()},68758:(v,x,t)=>{var l={};v.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(a,r){var s,e;typeof r=="boolean"?(s=2,e=r):(s=1,e=!0);for(var i=s;i<arguments.length;i++){var h=arguments[i];if(h)for(var n in h)e&&h[n]&&h[n].constructor===Object&&(!a[n]||a[n].constructor===Object)?(a[n]=a[n]||{},l.extend(a[n],e,h[n])):a[n]=h[n]}return a},l.clone=function(a,r){return l.extend({},r,a)},l.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var s in a)r.push(s);return r},l.values=function(a){var r=[];if(Object.keys){for(var s=Object.keys(a),e=0;e<s.length;e++)r.push(a[s[e]]);return r}for(var i in a)r.push(a[i]);return r},l.get=function(a,r,s,e){r=r.split(".").slice(s,e);for(var i=0;i<r.length;i+=1)a=a[r[i]];return a},l.set=function(a,r,s,e,i){var h=r.split(".").slice(e,i);return l.get(a,r,0,-1)[h[h.length-1]]=s,s},l.shuffle=function(a){for(var r=a.length-1;r>0;r--){var s=Math.floor(l.random()*(r+1)),e=a[r];a[r]=a[s],a[s]=e}return a},l.choose=function(a){return a[Math.floor(l.random()*a.length)]},l.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},l.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},l.isFunction=function(a){return typeof a=="function"},l.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},l.isString=function(a){return toString.call(a)==="[object String]"},l.clamp=function(a,r,s){return a<r?r:a>s?s:a},l.sign=function(a){return a<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+c()*(r-a)};var c=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[a]||(l.warn(a),l._warnedOnce[a]=!0)},l.deprecated=function(a,r,s){a[r]=l.chain(function(){l.warnOnce(" deprecated ",s)},a[r])},l.nextId=function(){return l._nextId++},l.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var s=0;s<a.length;s++)if(a[s]===r)return s;return-1},l.map=function(a,r){if(a.map)return a.map(r);for(var s=[],e=0;e<a.length;e+=1)s.push(r(a[e]));return s},l.topologicalSort=function(a){var r=[],s=[],e=[];for(var i in a)!s[i]&&!e[i]&&l._topologicalSort(i,s,e,a,r);return r},l._topologicalSort=function(a,r,s,e,i){var h=e[a]||[];s[a]=!0;for(var n=0;n<h.length;n+=1){var o=h[n];s[o]||r[o]||l._topologicalSort(o,r,s,e,i)}s[a]=!1,r[a]=!0,i.push(a)},l.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?a.push.apply(a,s._chained):a.push(s)}var e=function(){for(var i,h=new Array(arguments.length),n=0,o=arguments.length;n<o;n++)h[n]=arguments[n];for(n=0;n<a.length;n+=1){var f=a[n].apply(i,h);typeof f<"u"&&(i=f)}return i};return e._chained=a,e},l.chainPathBefore=function(a,r,s){return l.set(a,r,l.chain(s,l.get(a,r)))},l.chainPathAfter=function(a,r,s){return l.set(a,r,l.chain(l.get(a,r),s))},l.setDecomp=function(a){l._decomp=a},l.getDecomp=function(){var a=l._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},45775:(v,x,t)=>{var l={};v.exports=l;var c=t(22806),a=t(44272),r=t(13657),s=t(91327),e=t(39073),i=t(11299),h=t(52838),n=t(68758),o=t(84125);(function(){l.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=n.extend(u,f);return d.world=f.world||i.create({label:"World"}),d.pairs=f.pairs||s.create(),d.detector=f.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},l.update=function(f,u){var d=n.now(),p=f.world,m=f.detector,y=f.pairs,g=f.timing,T=g.timestamp,S;u=typeof u<"u"?u:n._baseDelta,u*=g.timeScale,g.timestamp+=u,g.lastDelta=u;var C={timestamp:g.timestamp,delta:u};e.trigger(f,"beforeUpdate",C);var w=i.allBodies(p),b=i.allConstraints(p);for(p.isModified&&(r.setBodies(m,w),i.setModified(p,!1,!1,!0)),f.enableSleeping&&c.update(w,u),l._bodiesApplyGravity(w,f.gravity),u>0&&l._bodiesUpdate(w,u),e.trigger(f,"beforeSolve",C),h.preSolveAll(w),S=0;S<f.constraintIterations;S++)h.solveAll(b,u);h.postSolveAll(w),m.pairs=f.pairs;var A=r.collisions(m);s.update(y,A,T),f.enableSleeping&&c.afterCollisions(y.list),y.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:y.collisionStart,timestamp:g.timestamp,delta:u});var D=n.clamp(20/f.positionIterations,0,1);for(a.preSolvePosition(y.list),S=0;S<f.positionIterations;S++)a.solvePosition(y.list,u,D);for(a.postSolvePosition(w),h.preSolveAll(w),S=0;S<f.constraintIterations;S++)h.solveAll(b,u);for(h.postSolveAll(w),a.preSolveVelocity(y.list),S=0;S<f.velocityIterations;S++)a.solveVelocity(y.list,u);return l._bodiesUpdateVelocities(w),y.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:y.collisionActive,timestamp:g.timestamp,delta:u}),y.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:y.collisionEnd,timestamp:g.timestamp,delta:u}),l._bodiesClearForces(w),e.trigger(f,"afterUpdate",C),f.timing.lastElapsed=n.now()-d,f},l.merge=function(f,u){if(n.extend(f,u),u.world){f.world=u.world,l.clear(f);for(var d=i.allBodies(f.world),p=0;p<d.length;p++){var m=d[p];c.set(m,!1),m.id=n.nextId()}}},l.clear=function(f){s.clear(f.pairs),r.clear(f.detector)},l._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var p=f[d];p.force.x=0,p.force.y=0,p.torque=0}},l._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,p=f.length;if(!(u.x===0&&u.y===0||d===0))for(var m=0;m<p;m++){var y=f[m];y.isStatic||y.isSleeping||(y.force.y+=y.mass*u.y*d,y.force.x+=y.mass*u.x*d)}},l._bodiesUpdate=function(f,u){for(var d=f.length,p=0;p<d;p++){var m=f[p];m.isStatic||m.isSleeping||o.update(m,u)}},l._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)o.updateVelocities(f[d])}})()},39073:(v,x,t)=>{var l={};v.exports=l;var c=t(68758);(function(){l.on=function(a,r,s){for(var e=r.split(" "),i,h=0;h<e.length;h++)i=e[h],a.events=a.events||{},a.events[i]=a.events[i]||[],a.events[i].push(s);return s},l.off=function(a,r,s){if(!r){a.events={};return}typeof r=="function"&&(s=r,r=c.keys(a.events).join(" "));for(var e=r.split(" "),i=0;i<e.length;i++){var h=a.events[e[i]],n=[];if(s&&h)for(var o=0;o<h.length;o++)h[o]!==s&&n.push(h[o]);a.events[e[i]]=n}},l.trigger=function(a,r,s){var e,i,h,n,o=a.events;if(o&&c.keys(o).length>0){s||(s={}),e=r.split(" ");for(var f=0;f<e.length;f++)if(i=e[f],h=o[i],h){n=c.clone(s,!1),n.name=i,n.source=a;for(var u=0;u<h.length;u++)h[u].apply(a,[n])}}}})()},16929:(v,x,t)=>{var l={};v.exports=l;var c=t(84474),a=t(68758);(function(){l.name="matter-js",l.version="0.19.0",l.uses=[],l.used=[],l.use=function(){c.use(l,Array.prototype.slice.call(arguments))},l.before=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathBefore(l,r,s)},l.after=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathAfter(l,r,s)}})()},84474:(v,x,t)=>{var l={};v.exports=l;var c=t(68758);(function(){l._registry={},l.register=function(a){if(l.isPlugin(a)||c.warn("Plugin.register:",l.toString(a),"does not implement all required fields."),a.name in l._registry){var r=l._registry[a.name],s=l.versionParse(a.version).number,e=l.versionParse(r.version).number;s>e?(c.warn("Plugin.register:",l.toString(r),"was upgraded to",l.toString(a)),l._registry[a.name]=a):s<e?c.warn("Plugin.register:",l.toString(r),"can not be downgraded to",l.toString(a)):a!==r&&c.warn("Plugin.register:",l.toString(a),"is already registered to different plugin object")}else l._registry[a.name]=a;return a},l.resolve=function(a){return l._registry[l.dependencyParse(a).name]},l.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},l.isPlugin=function(a){return a&&a.name&&a.version&&a.install},l.isUsed=function(a,r){return a.used.indexOf(r)>-1},l.isFor=function(a,r){var s=a.for&&l.dependencyParse(a.for);return!a.for||r.name===s.name&&l.versionSatisfies(r.version,s.range)},l.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){c.warn("Plugin.use:",l.toString(a),"does not specify any dependencies to install.");return}for(var s=l.dependencies(a),e=c.topologicalSort(s),i=[],h=0;h<e.length;h+=1)if(e[h]!==a.name){var n=l.resolve(e[h]);if(!n){i.push(" "+e[h]);continue}l.isUsed(a,n.name)||(l.isFor(n,a)||(c.warn("Plugin.use:",l.toString(n),"is for",n.for,"but installed on",l.toString(a)+"."),n._warned=!0),n.install?n.install(a):(c.warn("Plugin.use:",l.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(i.push(" "+l.toString(n)),delete n._warned):i.push(" "+l.toString(n)),a.used.push(n.name))}i.length>0&&!n.silent&&c.info(i.join("  "))},l.dependencies=function(a,r){var s=l.dependencyParse(a),e=s.name;if(r=r||{},!(e in r)){a=l.resolve(a)||a,r[e]=c.map(a.uses||[],function(h){l.isPlugin(h)&&l.register(h);var n=l.dependencyParse(h),o=l.resolve(h);return o&&!l.versionSatisfies(o.version,n.range)?(c.warn("Plugin.dependencies:",l.toString(o),"does not satisfy",l.toString(n),"used by",l.toString(s)+"."),o._warned=!0,a._warned=!0):o||(c.warn("Plugin.dependencies:",l.toString(h),"used by",l.toString(s),"could not be resolved."),a._warned=!0),n.name});for(var i=0;i<r[e].length;i+=1)l.dependencies(r[e][i],r);return r}},l.dependencyParse=function(a){if(c.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||c.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},l.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||c.warn("Plugin.versionParse:",a,"is not a valid version or range.");var s=r.exec(a),e=Number(s[4]),i=Number(s[5]),h=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:a,operator:s[1]||s[2]||"",major:e,minor:i,patch:h,parts:[e,i,h],prerelease:s[7],number:e*1e8+i*1e4+h}},l.versionSatisfies=function(a,r){r=r||"*";var s=l.versionParse(r),e=l.versionParse(a);if(s.isRange){if(s.operator==="*"||a==="*")return!0;if(s.operator===">")return e.number>s.number;if(s.operator===">=")return e.number>=s.number;if(s.operator==="~")return e.major===s.major&&e.minor===s.minor&&e.patch>=s.patch;if(s.operator==="^")return s.major>0?e.major===s.major&&e.number>=s.number:s.minor>0?e.minor===s.minor&&e.patch>=s.patch:e.patch===s.patch}return a===r||a==="*"}})()},22806:(v,x,t)=>{var l={};v.exports=l;var c=t(84125),a=t(39073),r=t(68758);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(s,e){for(var i=e/r._baseDelta,h=l._motionSleepThreshold,n=0;n<s.length;n++){var o=s[n],f=c.getSpeed(o),u=c.getAngularSpeed(o),d=f*f+u*u;if(o.force.x!==0||o.force.y!==0){l.set(o,!1);continue}var p=Math.min(o.motion,d),m=Math.max(o.motion,d);o.motion=l._minBias*p+(1-l._minBias)*m,o.sleepThreshold>0&&o.motion<h?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/i&&l.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},l.afterCollisions=function(s){for(var e=l._motionSleepThreshold,i=0;i<s.length;i++){var h=s[i];if(h.isActive){var n=h.collision,o=n.bodyA.parent,f=n.bodyB.parent;if(!(o.isSleeping&&f.isSleeping||o.isStatic||f.isStatic)&&(o.isSleeping||f.isSleeping)){var u=o.isSleeping&&!o.isStatic?o:f,d=u===o?f:o;!u.isStatic&&d.motion>e&&l.set(u,!1)}}}},l.set=function(s,e){var i=s.isSleeping;e?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,i||a.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,i&&a.trigger(s,"sleepEnd"))}})()},68516:(v,x,t)=>{var l={};v.exports=l;var c=t(39745),a=t(68758),r=t(84125),s=t(84091),e=t(10438);(function(){l.rectangle=function(i,h,n,o,f){f=f||{};var u={label:"Rectangle Body",position:{x:i,y:h},vertices:c.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(f.chamfer){var d=f.chamfer;u.vertices=c.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return r.create(a.extend({},u,f))},l.trapezoid=function(i,h,n,o,f,u){u=u||{},f*=.5;var d=(1-f*2)*n,p=n*f,m=p+d,y=m+p,g;f<.5?g="L 0 0 L "+p+" "+-o+" L "+m+" "+-o+" L "+y+" 0":g="L 0 0 L "+m+" "+-o+" L "+y+" 0";var T={label:"Trapezoid Body",position:{x:i,y:h},vertices:c.fromPath(g)};if(u.chamfer){var S=u.chamfer;T.vertices=c.chamfer(T.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete u.chamfer}return r.create(a.extend({},T,u))},l.circle=function(i,h,n,o,f){o=o||{};var u={label:"Circle Body",circleRadius:n};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,n)));return d%2===1&&(d+=1),l.polygon(i,h,d,n,a.extend({},u,o))},l.polygon=function(i,h,n,o,f){if(f=f||{},n<3)return l.circle(i,h,o,f);for(var u=2*Math.PI/n,d="",p=u*.5,m=0;m<n;m+=1){var y=p+m*u,g=Math.cos(y)*o,T=Math.sin(y)*o;d+="L "+g.toFixed(3)+" "+T.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:i,y:h},vertices:c.fromPath(d)};if(f.chamfer){var C=f.chamfer;S.vertices=c.chamfer(S.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete f.chamfer}return r.create(a.extend({},S,f))},l.fromVertices=function(i,h,n,o,f,u,d,p){var m=a.getDecomp(),y,g,T,S,C,w,b,A,D,B,N;for(y=!!(m&&m.quickDecomp),o=o||{},T=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,a.isArray(n[0])||(n=[n]),B=0;B<n.length;B+=1)if(w=n[B],S=c.isConvex(w),C=!S,C&&!y&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!y)S?w=c.clockwiseSort(w):w=c.hull(w),T.push({position:{x:i,y:h},vertices:w});else{var Y=w.map(function($){return[$.x,$.y]});m.makeCCW(Y),u!==!1&&m.removeCollinearPoints(Y,u),p!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(Y,p);var H=m.quickDecomp(Y);for(b=0;b<H.length;b++){var j=H[b],J=j.map(function($){return{x:$[0],y:$[1]}});d>0&&c.area(J)<d||T.push({position:c.centre(J),vertices:J})}}for(b=0;b<T.length;b++)T[b]=r.create(a.extend(T[b],o));if(f){var X=5;for(b=0;b<T.length;b++){var W=T[b];for(A=b+1;A<T.length;A++){var L=T[A];if(s.overlaps(W.bounds,L.bounds)){var G=W.vertices,z=L.vertices;for(D=0;D<W.vertices.length;D++)for(N=0;N<L.vertices.length;N++){var k=e.magnitudeSquared(e.sub(G[(D+1)%G.length],z[N])),K=e.magnitudeSquared(e.sub(G[D],z[(N+1)%z.length]));k<X&&K<X&&(G[D].isInternal=!0,z[N].isInternal=!0)}}}}}return T.length>1?(g=r.create(a.extend({parts:T.slice(0)},o)),r.setPosition(g,{x:i,y:h}),g):T[0]},l.flagCoincidentParts=function(i,h){h===void 0&&(h=5);for(var n=0;n<i.length;n++)for(var o=i[n],f=n+1;f<i.length;f++){var u=i[f];if(s.overlaps(o.bounds,u.bounds))for(var d=o.vertices,p=u.vertices,m=0;m<o.vertices.length;m++)for(var y=0;y<u.vertices.length;y++){var g=e.magnitudeSquared(e.sub(d[(m+1)%d.length],p[y])),T=e.magnitudeSquared(e.sub(d[m],p[(y+1)%p.length]));g<h&&T<h&&(d[m].isInternal=!0,p[y].isInternal=!0)}}return i}})()},56643:(v,x,t)=>{var l={};v.exports=l;var c=t(11299),a=t(52838),r=t(68758),s=t(84125),e=t(68516);(function(){l.stack=function(i,h,n,o,f,u,d){for(var p=c.create({label:"Stack"}),m=i,y=h,g,T=0,S=0;S<o;S++){for(var C=0,w=0;w<n;w++){var b=d(m,y,w,S,g,T);if(b){var A=b.bounds.max.y-b.bounds.min.y,D=b.bounds.max.x-b.bounds.min.x;A>C&&(C=A),s.translate(b,{x:D*.5,y:A*.5}),m=b.bounds.max.x+f,c.addBody(p,b),g=b,T+=1}else m+=f}y+=C+u,m=i}return p},l.chain=function(i,h,n,o,f,u){for(var d=i.bodies,p=1;p<d.length;p++){var m=d[p-1],y=d[p],g=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,S=y.bounds.max.y-y.bounds.min.y,C=y.bounds.max.x-y.bounds.min.x,w={bodyA:m,pointA:{x:T*h,y:g*n},bodyB:y,pointB:{x:C*o,y:S*f}},b=r.extend(w,u);c.addConstraint(i,a.create(b))}return i.label+=" Chain",i},l.mesh=function(i,h,n,o,f){var u=i.bodies,d,p,m,y,g;for(d=0;d<n;d++){for(p=1;p<h;p++)m=u[p-1+d*h],y=u[p+d*h],c.addConstraint(i,a.create(r.extend({bodyA:m,bodyB:y},f)));if(d>0)for(p=0;p<h;p++)m=u[p+(d-1)*h],y=u[p+d*h],c.addConstraint(i,a.create(r.extend({bodyA:m,bodyB:y},f))),o&&p>0&&(g=u[p-1+(d-1)*h],c.addConstraint(i,a.create(r.extend({bodyA:g,bodyB:y},f)))),o&&p<h-1&&(g=u[p+1+(d-1)*h],c.addConstraint(i,a.create(r.extend({bodyA:g,bodyB:y},f))))}return i.label+=" Mesh",i},l.pyramid=function(i,h,n,o,f,u,d){return l.stack(i,h,n,o,f,u,function(p,m,y,g,T,S){var C=Math.min(o,Math.ceil(n/2)),w=T?T.bounds.max.x-T.bounds.min.x:0;if(!(g>C)){g=C-g;var b=g,A=n-1-g;if(!(y<b||y>A)){S===1&&s.translate(T,{x:(y+(n%2===1?1:-1))*w,y:0});var D=T?y*w:0;return d(i+D+y*f,m,y,g,T,S)}}})},l.newtonsCradle=function(i,h,n,o,f){for(var u=c.create({label:"Newtons Cradle"}),d=0;d<n;d++){var p=1.9,m=e.circle(i+d*(o*p),h+f,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=a.create({pointA:{x:i+d*(o*p),y:h},bodyB:m});c.addBody(u,m),c.addConstraint(u,y)}return u},l.car=function(i,h,n,o,f){var u=s.nextGroup(!0),d=20,p=-n*.5+d,m=n*.5-d,y=0,g=c.create({label:"Car"}),T=e.rectangle(i,h,n,o,{collisionFilter:{group:u},chamfer:{radius:o*.5},density:2e-4}),S=e.circle(i+p,h+y,f,{collisionFilter:{group:u},friction:.8}),C=e.circle(i+m,h+y,f,{collisionFilter:{group:u},friction:.8}),w=a.create({bodyB:T,pointB:{x:p,y},bodyA:S,stiffness:1,length:0}),b=a.create({bodyB:T,pointB:{x:m,y},bodyA:C,stiffness:1,length:0});return c.addBody(g,T),c.addBody(g,S),c.addBody(g,C),c.addConstraint(g,w),c.addConstraint(g,b),g},l.softBody=function(i,h,n,o,f,u,d,p,m,y){m=r.extend({inertia:1/0},m),y=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var g=l.stack(i,h,n,o,f,u,function(T,S){return e.circle(T,S,p,m)});return l.mesh(g,n,o,d,y),g.label="Soft Body",g}})()},50658:(v,x,t)=>{var l={};v.exports=l;var c=t(10438),a=t(68758);(function(){l.fromVertices=function(r){for(var s={},e=0;e<r.length;e++){var i=(e+1)%r.length,h=c.normalise({x:r[i].y-r[e].y,y:r[e].x-r[i].x}),n=h.y===0?1/0:h.x/h.y;n=n.toFixed(3).toString(),s[n]=h}return a.values(s)},l.rotate=function(r,s){if(s!==0)for(var e=Math.cos(s),i=Math.sin(s),h=0;h<r.length;h++){var n=r[h],o;o=n.x*e-n.y*i,n.y=n.x*i+n.y*e,n.x=o}}})()},84091:v=>{var x={};v.exports=x,function(){x.create=function(t){var l={min:{x:0,y:0},max:{x:0,y:0}};return t&&x.update(l,t),l},x.update=function(t,l,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<l.length;a++){var r=l[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},x.contains=function(t,l){return l.x>=t.min.x&&l.x<=t.max.x&&l.y>=t.min.y&&l.y<=t.max.y},x.overlaps=function(t,l){return t.min.x<=l.max.x&&t.max.x>=l.min.x&&t.max.y>=l.min.y&&t.min.y<=l.max.y},x.translate=function(t,l){t.min.x+=l.x,t.max.x+=l.x,t.min.y+=l.y,t.max.y+=l.y},x.shift=function(t,l){var c=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=l.x,t.max.x=l.x+c,t.min.y=l.y,t.max.y=l.y+a}}()},92765:(v,x,t)=>{var l={};v.exports=l,t(84091);var c=t(68758);(function(){l.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,e,i,h,n,o,f,u,d,p,m=[],y,g,T=0,S=0,C=0;r=r||15;var w=function(A,D,B){var N=B%2===1&&B>1;if(!d||A!=d.x||D!=d.y){d&&N?(y=d.x,g=d.y):(y=0,g=0);var Y={x:y+A,y:g+D};(N||!d)&&(d=Y),m.push(Y),S=y+A,C=g+D}},b=function(A){var D=A.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":S=A.x,C=A.y;break;case"H":S=A.x;break;case"V":C=A.y;break}w(S,C,A.pathSegType)}};for(l._svgPathToAbsolute(a),i=a.getTotalLength(),o=[],s=0;s<a.pathSegList.numberOfItems;s+=1)o.push(a.pathSegList.getItem(s));for(f=o.concat();T<i;){if(p=a.getPathSegAtLength(T),n=o[p],n!=u){for(;f.length&&f[0]!=n;)b(f.shift());u=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=a.getPointAtLength(T),w(h.x,h.y,0);break}T+=r}for(s=0,e=f.length;s<e;++s)b(f[s]);return m},l._svgPathToAbsolute=function(a){for(var r,s,e,i,h,n,o=a.pathSegList,f=0,u=0,d=o.numberOfItems,p=0;p<d;++p){var m=o.getItem(p),y=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in m&&(f=m.x),"y"in m&&(u=m.y);else switch("x1"in m&&(e=f+m.x1),"x2"in m&&(h=f+m.x2),"y1"in m&&(i=u+m.y1),"y2"in m&&(n=u+m.y2),"x"in m&&(f+=m.x),"y"in m&&(u+=m.y),y){case"m":o.replaceItem(a.createSVGPathSegMovetoAbs(f,u),p);break;case"l":o.replaceItem(a.createSVGPathSegLinetoAbs(f,u),p);break;case"h":o.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(f),p);break;case"v":o.replaceItem(a.createSVGPathSegLinetoVerticalAbs(u),p);break;case"c":o.replaceItem(a.createSVGPathSegCurvetoCubicAbs(f,u,e,i,h,n),p);break;case"s":o.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(f,u,h,n),p);break;case"q":o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(f,u,e,i),p);break;case"t":o.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),p);break;case"a":o.replaceItem(a.createSVGPathSegArcAbs(f,u,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),p);break;case"z":case"Z":f=r,u=s;break}(y=="M"||y=="m")&&(r=f,s=u)}}})()},10438:v=>{var x={};v.exports=x,function(){x.create=function(t,l){return{x:t||0,y:l||0}},x.clone=function(t){return{x:t.x,y:t.y}},x.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},x.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},x.rotate=function(t,l,c){var a=Math.cos(l),r=Math.sin(l);c||(c={});var s=t.x*a-t.y*r;return c.y=t.x*r+t.y*a,c.x=s,c},x.rotateAbout=function(t,l,c,a){var r=Math.cos(l),s=Math.sin(l);a||(a={});var e=c.x+((t.x-c.x)*r-(t.y-c.y)*s);return a.y=c.y+((t.x-c.x)*s+(t.y-c.y)*r),a.x=e,a},x.normalise=function(t){var l=x.magnitude(t);return l===0?{x:0,y:0}:{x:t.x/l,y:t.y/l}},x.dot=function(t,l){return t.x*l.x+t.y*l.y},x.cross=function(t,l){return t.x*l.y-t.y*l.x},x.cross3=function(t,l,c){return(l.x-t.x)*(c.y-t.y)-(l.y-t.y)*(c.x-t.x)},x.add=function(t,l,c){return c||(c={}),c.x=t.x+l.x,c.y=t.y+l.y,c},x.sub=function(t,l,c){return c||(c={}),c.x=t.x-l.x,c.y=t.y-l.y,c},x.mult=function(t,l){return{x:t.x*l,y:t.y*l}},x.div=function(t,l){return{x:t.x/l,y:t.y/l}},x.perp=function(t,l){return l=l===!0?-1:1,{x:l*-t.y,y:l*t.x}},x.neg=function(t){return{x:-t.x,y:-t.y}},x.angle=function(t,l){return Math.atan2(l.y-t.y,l.x-t.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},39745:(v,x,t)=>{var l={};v.exports=l;var c=t(10438),a=t(68758);(function(){l.create=function(r,s){for(var e=[],i=0;i<r.length;i++){var h=r[i],n={x:h.x,y:h.y,index:i,body:s,isInternal:!1};e.push(n)}return e},l.fromPath=function(r,s){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,i=[];return r.replace(e,function(h,n,o){i.push({x:parseFloat(n),y:parseFloat(o)})}),l.create(i,s)},l.centre=function(r){for(var s=l.area(r,!0),e={x:0,y:0},i,h,n,o=0;o<r.length;o++)n=(o+1)%r.length,i=c.cross(r[o],r[n]),h=c.mult(c.add(r[o],r[n]),i),e=c.add(e,h);return c.div(e,6*s)},l.mean=function(r){for(var s={x:0,y:0},e=0;e<r.length;e++)s.x+=r[e].x,s.y+=r[e].y;return c.div(s,r.length)},l.area=function(r,s){for(var e=0,i=r.length-1,h=0;h<r.length;h++)e+=(r[i].x-r[h].x)*(r[i].y+r[h].y),i=h;return s?e/2:Math.abs(e)/2},l.inertia=function(r,s){for(var e=0,i=0,h=r,n,o,f=0;f<h.length;f++)o=(f+1)%h.length,n=Math.abs(c.cross(h[o],h[f])),e+=n*(c.dot(h[o],h[o])+c.dot(h[o],h[f])+c.dot(h[f],h[f])),i+=n;return s/6*(e/i)},l.translate=function(r,s,e){e=typeof e<"u"?e:1;var i=r.length,h=s.x*e,n=s.y*e,o;for(o=0;o<i;o++)r[o].x+=h,r[o].y+=n;return r},l.rotate=function(r,s,e){if(s!==0){var i=Math.cos(s),h=Math.sin(s),n=e.x,o=e.y,f=r.length,u,d,p,m;for(m=0;m<f;m++)u=r[m],d=u.x-n,p=u.y-o,u.x=n+(d*i-p*h),u.y=o+(d*h+p*i);return r}},l.contains=function(r,s){for(var e=s.x,i=s.y,h=r.length,n=r[h-1],o,f=0;f<h;f++){if(o=r[f],(e-n.x)*(o.y-n.y)+(i-n.y)*(n.x-o.x)>0)return!1;n=o}return!0},l.scale=function(r,s,e,i){if(s===1&&e===1)return r;i=i||l.centre(r);for(var h,n,o=0;o<r.length;o++)h=r[o],n=c.sub(h,i),r[o].x=i.x+n.x*s,r[o].y=i.y+n.y*e;return r},l.chamfer=function(r,s,e,i,h){typeof s=="number"?s=[s]:s=s||[8],e=typeof e<"u"?e:-1,i=i||2,h=h||14;for(var n=[],o=0;o<r.length;o++){var f=r[o-1>=0?o-1:r.length-1],u=r[o],d=r[(o+1)%r.length],p=s[o<s.length?o:s.length-1];if(p===0){n.push(u);continue}var m=c.normalise({x:u.y-f.y,y:f.x-u.x}),y=c.normalise({x:d.y-u.y,y:u.x-d.x}),g=Math.sqrt(2*Math.pow(p,2)),T=c.mult(a.clone(m),p),S=c.normalise(c.mult(c.add(m,y),.5)),C=c.sub(u,c.mult(S,g)),w=e;e===-1&&(w=Math.pow(p,.32)*1.75),w=a.clamp(w,i,h),w%2===1&&(w+=1);for(var b=Math.acos(c.dot(m,y)),A=b/w,D=0;D<w;D++)n.push(c.add(c.rotate(T,A*D),C))}return n},l.clockwiseSort=function(r){var s=l.mean(r);return r.sort(function(e,i){return c.angle(s,e)-c.angle(s,i)}),r},l.isConvex=function(r){var s=0,e=r.length,i,h,n,o;if(e<3)return null;for(i=0;i<e;i++)if(h=(i+1)%e,n=(i+2)%e,o=(r[h].x-r[i].x)*(r[n].y-r[h].y),o-=(r[h].y-r[i].y)*(r[n].x-r[h].x),o<0?s|=1:o>0&&(s|=2),s===3)return!1;return s!==0?!0:null},l.hull=function(r){var s=[],e=[],i,h;for(r=r.slice(0),r.sort(function(n,o){var f=n.x-o.x;return f!==0?f:n.y-o.y}),h=0;h<r.length;h+=1){for(i=r[h];e.length>=2&&c.cross3(e[e.length-2],e[e.length-1],i)<=0;)e.pop();e.push(i)}for(h=r.length-1;h>=0;h-=1){for(i=r[h];s.length>=2&&c.cross3(s[s.length-2],s[s.length-1],i)<=0;)s.pop();s.push(i)}return s.pop(),e.pop(),s.concat(e)}})()},1675:(v,x,t)=>{var l=t(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){c.Body.init(this)}),a.before("Engine.update",function(r){c.Engine.update(r)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var r=l.Composite.allBodies(a.world),s=0;s<r.length;s++){var e=r[s],i=e.plugin.attractors;if(i&&i.length>0)for(var h=0;h<r.length;h++){var n=r[h];if(s!==h)for(var o=0;o<i.length;o++){var f=i[o],u=f;l.Common.isFunction(f)&&(u=f(e,n)),u&&l.Body.applyForce(n,n.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,r){var s=l.Vector.sub(r.position,a.position),e=l.Vector.magnitudeSquared(s)||1e-4,i=l.Vector.normalise(s),h=-c.Attractors.gravityConstant*(a.mass*r.mass/e),n=l.Vector.mult(i,h);l.Body.applyForce(a,a.position,l.Vector.neg(n)),l.Body.applyForce(r,r.position,n)}}};v.exports=c},80391:v=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(l){l.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collide",a,r,c),r.gameObject&&r.gameObject.emit("collide",r,a,c),t.Events.trigger(a,"onCollide",{pair:c}),t.Events.trigger(r,"onCollide",{pair:c}),a.onCollideCallback&&a.onCollideCallback(c),r.onCollideCallback&&r.onCollideCallback(c),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,c),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,c)})}),t.Events.on(this,"collisionActive",function(l){l.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,r,c),r.gameObject&&r.gameObject.emit("collideActive",r,a,c),t.Events.trigger(a,"onCollideActive",{pair:c}),t.Events.trigger(r,"onCollideActive",{pair:c}),a.onCollideActiveCallback&&a.onCollideActiveCallback(c),r.onCollideActiveCallback&&r.onCollideActiveCallback(c)})}),t.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(c){var a=c.bodyA,r=c.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,r,c),r.gameObject&&r.gameObject.emit("collideEnd",r,a,c),t.Events.trigger(a,"onCollideEnd",{pair:c}),t.Events.trigger(r,"onCollideEnd",{pair:c}),a.onCollideEndCallback&&a.onCollideEndCallback(c),r.onCollideEndCallback&&r.onCollideEndCallback(c)})})})}};v.exports=x},44097:(v,x,t)=>{var l=t(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(a){for(var r=a.world,s=l.Composite.allBodies(r),e=l.Composite.allComposites(r),i=0;i<s.length;i+=1){var h=s[i];h.plugin.wrap&&c.Body.wrap(h,h.plugin.wrap)}for(i=0;i<e.length;i+=1){var n=e[i];n.plugin.wrap&&c.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(a,r){var s=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(a.min.x>r.max.x?s=r.min.x-a.max.x:a.max.x<r.min.x&&(s=r.max.x-a.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(a.min.y>r.max.y?e=r.min.y-a.max.y:a.max.y<r.min.y&&(e=r.max.y-a.min.y)),s!==null||e!==null)return{x:s||0,y:e||0}}},Body:{wrap:function(a,r){var s=c.Bounds.wrap(a.bounds,r);return s&&l.Body.translate(a,s),s}},Composite:{bounds:function(a){for(var r=l.Composite.allBodies(a),s=[],e=0;e<r.length;e+=1){var i=r[e];s.push(i.bounds.min,i.bounds.max)}return l.Bounds.create(s)},wrap:function(a,r){var s=c.Bounds.wrap(c.Composite.bounds(a),r);return s&&l.Composite.translate(a,s),s}}};v.exports=c},81084:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:b,quickDecomp:N,isSimple:D,removeCollinearPoints:Y,removeDuplicatePoints:H,makeCCW:d};function x(X,W,L){L=L||0;var G=[0,0],z,k,K,$,Q,_,tt;return z=X[1][1]-X[0][1],k=X[0][0]-X[1][0],K=z*X[0][0]+k*X[0][1],$=W[1][1]-W[0][1],Q=W[0][0]-W[1][0],_=$*W[0][0]+Q*W[0][1],tt=z*Q-$*k,j(tt,0,L)||(G[0]=(Q*K-k*_)/tt,G[1]=(z*_-$*K)/tt),G}function t(X,W,L,G){var z=W[0]-X[0],k=W[1]-X[1],K=G[0]-L[0],$=G[1]-L[1];if(K*k-$*z===0)return!1;var Q=(z*(L[1]-X[1])+k*(X[0]-L[0]))/(K*k-$*z),_=(K*(X[1]-L[1])+$*(L[0]-X[0]))/($*z-K*k);return Q>=0&&Q<=1&&_>=0&&_<=1}function l(X,W,L){return(W[0]-X[0])*(L[1]-X[1])-(L[0]-X[0])*(W[1]-X[1])}function c(X,W,L){return l(X,W,L)>0}function a(X,W,L){return l(X,W,L)>=0}function r(X,W,L){return l(X,W,L)<0}function s(X,W,L){return l(X,W,L)<=0}var e=[],i=[];function h(X,W,L,G){if(G){var z=e,k=i;z[0]=W[0]-X[0],z[1]=W[1]-X[1],k[0]=L[0]-W[0],k[1]=L[1]-W[1];var K=z[0]*k[0]+z[1]*k[1],$=Math.sqrt(z[0]*z[0]+z[1]*z[1]),Q=Math.sqrt(k[0]*k[0]+k[1]*k[1]),_=Math.acos(K/($*Q));return _<G}else return l(X,W,L)===0}function n(X,W){var L=W[0]-X[0],G=W[1]-X[1];return L*L+G*G}function o(X,W){var L=X.length;return X[W<0?W%L+L:W%L]}function f(X){X.length=0}function u(X,W,L,G){for(var z=L;z<G;z++)X.push(W[z])}function d(X){for(var W=0,L=X,G=1;G<X.length;++G)(L[G][1]<L[W][1]||L[G][1]===L[W][1]&&L[G][0]>L[W][0])&&(W=G);return c(o(X,W-1),o(X,W),o(X,W+1))?!1:(p(X),!0)}function p(X){for(var W=[],L=X.length,G=0;G!==L;G++)W.push(X.pop());for(var G=0;G!==L;G++)X[G]=W[G]}function m(X,W){return r(o(X,W-1),o(X,W),o(X,W+1))}var y=[],g=[];function T(X,W,L){var G,z,k=y,K=g;if(a(o(X,W+1),o(X,W),o(X,L))&&s(o(X,W-1),o(X,W),o(X,L)))return!1;z=n(o(X,W),o(X,L));for(var $=0;$!==X.length;++$)if(!(($+1)%X.length===W||$===W)&&a(o(X,W),o(X,L),o(X,$+1))&&s(o(X,W),o(X,L),o(X,$))&&(k[0]=o(X,W),k[1]=o(X,L),K[0]=o(X,$),K[1]=o(X,$+1),G=x(k,K),n(o(X,W),G)<z))return!1;return!0}function S(X,W,L){for(var G=0;G!==X.length;++G)if(!(G===W||G===L||(G+1)%X.length===W||(G+1)%X.length===L)&&t(o(X,W),o(X,L),o(X,G),o(X,G+1)))return!1;return!0}function C(X,W,L,G){var z=G||[];if(f(z),W<L)for(var k=W;k<=L;k++)z.push(X[k]);else{for(var k=0;k<=L;k++)z.push(X[k]);for(var k=W;k<X.length;k++)z.push(X[k])}return z}function w(X){for(var W=[],L=[],G=[],z=[],k=Number.MAX_VALUE,K=0;K<X.length;++K)if(m(X,K)){for(var $=0;$<X.length;++$)if(T(X,K,$)){L=w(C(X,K,$,z)),G=w(C(X,$,K,z));for(var Q=0;Q<G.length;Q++)L.push(G[Q]);L.length<k&&(W=L,k=L.length,W.push([o(X,K),o(X,$)]))}}return W}function b(X){var W=w(X);return W.length>0?A(X,W):[X]}function A(X,W){if(W.length===0)return[X];if(W instanceof Array&&W.length&&W[0]instanceof Array&&W[0].length===2&&W[0][0]instanceof Array){for(var L=[X],G=0;G<W.length;G++)for(var z=W[G],k=0;k<L.length;k++){var K=L[k],$=A(K,z);if($){L.splice(k,1),L.push($[0],$[1]);break}}return L}else{var z=W,G=X.indexOf(z[0]),k=X.indexOf(z[1]);return G!==-1&&k!==-1?[C(X,G,k),C(X,k,G)]:!1}}function D(X){var W=X,L;for(L=0;L<W.length-1;L++)for(var G=0;G<L-1;G++)if(t(W[L],W[L+1],W[G],W[G+1]))return!1;for(L=1;L<W.length-2;L++)if(t(W[0],W[W.length-1],W[L],W[L+1]))return!1;return!0}function B(X,W,L,G,z){z=z||0;var k=W[1]-X[1],K=X[0]-W[0],$=k*X[0]+K*X[1],Q=G[1]-L[1],_=L[0]-G[0],tt=Q*L[0]+_*L[1],nt=k*_-Q*K;return j(nt,0,z)?[0,0]:[(_*$-K*tt)/nt,(k*tt-Q*$)/nt]}function N(X,W,L,G,z,k,K){k=k||100,K=K||0,z=z||25,W=typeof W<"u"?W:[],L=L||[],G=G||[];var $=[0,0],Q=[0,0],_=[0,0],tt=0,nt=0,st=0,at=0,rt=0,dt=0,mt=0,Tt=[],St=[],ft=X,vt=X;if(vt.length<3)return W;if(K++,K>k)return console.warn("quickDecomp: max level ("+k+") reached."),W;for(var et=0;et<X.length;++et)if(m(ft,et)){L.push(ft[et]),tt=nt=Number.MAX_VALUE;for(var ot=0;ot<X.length;++ot)c(o(ft,et-1),o(ft,et),o(ft,ot))&&s(o(ft,et-1),o(ft,et),o(ft,ot-1))&&(_=B(o(ft,et-1),o(ft,et),o(ft,ot),o(ft,ot-1)),r(o(ft,et+1),o(ft,et),_)&&(st=n(ft[et],_),st<nt&&(nt=st,Q=_,dt=ot))),c(o(ft,et+1),o(ft,et),o(ft,ot+1))&&s(o(ft,et+1),o(ft,et),o(ft,ot))&&(_=B(o(ft,et+1),o(ft,et),o(ft,ot),o(ft,ot+1)),c(o(ft,et-1),o(ft,et),_)&&(st=n(ft[et],_),st<tt&&(tt=st,$=_,rt=ot)));if(dt===(rt+1)%X.length)_[0]=(Q[0]+$[0])/2,_[1]=(Q[1]+$[1])/2,G.push(_),et<rt?(u(Tt,ft,et,rt+1),Tt.push(_),St.push(_),dt!==0&&u(St,ft,dt,ft.length),u(St,ft,0,et+1)):(et!==0&&u(Tt,ft,et,ft.length),u(Tt,ft,0,rt+1),Tt.push(_),St.push(_),u(St,ft,dt,et+1));else{if(dt>rt&&(rt+=X.length),at=Number.MAX_VALUE,rt<dt)return W;for(var ot=dt;ot<=rt;++ot)a(o(ft,et-1),o(ft,et),o(ft,ot))&&s(o(ft,et+1),o(ft,et),o(ft,ot))&&(st=n(o(ft,et),o(ft,ot)),st<at&&S(ft,et,ot)&&(at=st,mt=ot%X.length));et<mt?(u(Tt,ft,et,mt+1),mt!==0&&u(St,ft,mt,vt.length),u(St,ft,0,et+1)):(et!==0&&u(Tt,ft,et,vt.length),u(Tt,ft,0,mt+1),u(St,ft,mt,et+1))}return Tt.length<St.length?(N(Tt,W,L,G,z,k,K),N(St,W,L,G,z,k,K)):(N(St,W,L,G,z,k,K),N(Tt,W,L,G,z,k,K)),W}return W.push(X),W}function Y(X,W){for(var L=0,G=X.length-1;X.length>3&&G>=0;--G)h(o(X,G-1),o(X,G),o(X,G+1),W)&&(X.splice(G%X.length,1),L++);return L}function H(X,W){for(var L=X.length-1;L>=1;--L)for(var G=X[L],z=L-1;z>=0;--z)if(J(G,X[z],W)){X.splice(L,1);continue}}function j(X,W,L){return L=L||0,Math.abs(X-W)<=L}function J(X,W,L){return j(X[0],W[0],L)&&j(X[1],W[1],L)}},88257:(v,x,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(56694),c=new l({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=c},18360:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=x},91963:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},t={},l={};l.register=function(c,a,r,s){s===void 0&&(s=!1),x[c]={plugin:a,mapping:r,custom:s}},l.registerCustom=function(c,a,r,s){t[c]={plugin:a,mapping:r,data:s}},l.hasCore=function(c){return x.hasOwnProperty(c)},l.hasCustom=function(c){return t.hasOwnProperty(c)},l.getCore=function(c){return x[c]},l.getCustom=function(c){return t[c]},l.getCustomClass=function(c){return t.hasOwnProperty(c)?t[c].plugin:null},l.remove=function(c){x.hasOwnProperty(c)&&delete x[c]},l.removeCustom=function(c){t.hasOwnProperty(c)&&delete t[c]},l.destroyCorePlugins=function(){for(var c in x)x.hasOwnProperty(c)&&delete x[c]},l.destroyCustomPlugins=function(){for(var c in t)t.hasOwnProperty(c)&&delete t[c]},v.exports=l},49274:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(97081),a=t(6659),r=t(76846),s=t(99325),e=t(61286),i=t(72632),h=t(91963),n=t(66458),o=new l({Extends:a,initialize:function(u){a.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(c.BOOT,this.boot,this)},boot:function(){var f,u,d,p,m,y,g,T=this.game.config,S=T.installGlobalPlugins;for(S=S.concat(this._pendingGlobal),f=0;f<S.length;f++)u=S[f],d=i(u,"key",null),p=i(u,"plugin",null),m=i(u,"start",!1),y=i(u,"mapping",null),g=i(u,"data",null),d&&(p?this.install(d,p,m,y,g):console.warn("Missing `plugin` for key: "+d));for(S=T.installScenePlugins,S=S.concat(this._pendingScene),f=0;f<S.length;f++)u=S[f],d=i(u,"key",null),p=i(u,"plugin",null),y=i(u,"mapping",null),d&&(p?this.installScenePlugin(d,p,y):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var p,m,y,g=this.game,T=f.scene,S=f.settings.map,C=f.settings.isBooted;for(p=0;p<u.length;p++)m=u[p],g[m]?(f[m]=g[m],S.hasOwnProperty(m)&&(T[S[m]]=f[m])):m==="game"&&S.hasOwnProperty(m)&&(T[S[m]]=g);for(var w=0;w<d.length;w++)for(y=d[w],p=0;p<y.length;p++)if(m=y[p],!!h.hasCore(m)){var b=h.getCore(m),A=b.mapping,D=new b.plugin(T,this,A);f[A]=D,b.custom?T[A]=D:S.hasOwnProperty(A)&&(T[S[A]]=D),C&&D.boot()}for(y=this.plugins,p=0;p<y.length;p++){var B=y[p];B.mapping&&(T[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,p,m){if(m===void 0&&(m=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(h.hasCore(f)||h.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!m&&h.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(p){var y=new u(p,this,f);p.sys[f]=y,d&&d!==""&&(p[d]=y),y.boot()}},install:function(f,u,d,p,m){if(d===void 0&&(d=!1),p===void 0&&(p=null),m===void 0&&(m=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(h.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(p!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:p,data:m});else if(h.registerCustom(f,u,p,m),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var p=u[d];if(p.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=h.getCustom(f);if(d){var p=new d.plugin(this);d={key:u,plugin:p,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),p.init(d.data),p.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var p=this.getClass(f);return p&&u?(d=this.createEntry(f,f),d?d.plugin:null):p||null},getClass:function(f){return h.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&n(this.plugins,u),h.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),h.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&s.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&s.remove(f),this},registerFileType:function(f,u,d){r.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=o},39283:(v,x,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var l=t(88257),c=t(56694),a=t(7599),r=new c({Extends:l,initialize:function(e,i,h){l.call(this,i),this.scene=e,this.systems=e.sys,this.pluginKey=h,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=r},45615:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const x=performance.now(),t=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,c=(a,r)=>{const s=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(e>l){const i=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,h=r-a;v(r,{presentationTime:r+i*1e3,expectedDisplayTime:r+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:e,processingDuration:i}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(i=>c(r,i))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(a=>c(x,a)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},95723:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=x},91135:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(89787),c=t(61840),a=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(32834),h=t(40444),n=t(38203),o=t(69360),f=new a({Extends:s,initialize:function(d){s.call(this);var p=d.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var m={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=i(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(h.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,p=this.width,m=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,p,m),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,p,m))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,p){var m=d.length;this.emit(e.RENDER,u,p);var y=p.x,g=p.y,T=p.width,S=p.height,C=p.renderToTexture?p.context:u.sys.context;C.save(),this.game.scene.customViewports&&(C.beginPath(),C.rect(y,g,T,S),C.clip()),p.emit(l.PRE_RENDER,p),this.currentContext=C;var w=p.mask;w&&w.preRenderCanvas(this,null,p._maskCamera),p.transparent||(C.fillStyle=p.backgroundColor.rgba,C.fillRect(y,g,T,S)),C.globalAlpha=p.alpha,C.globalCompositeOperation="source-over",this.drawCount+=m,p.renderToTexture&&p.emit(l.PRE_RENDER,p),p.matrix.copyToContext(C);for(var b=0;b<m;b++){var A=d[b];A.mask&&A.mask.preRenderCanvas(this,A,p),A.renderCanvas(this,A,p),A.mask&&A.mask.postRenderCanvas(this,A,p)}C.setTransform(1,0,0,1,0,0),C.globalCompositeOperation="source-over",C.globalAlpha=1,p.flashEffect.postRenderCanvas(C),p.fadeEffect.postRenderCanvas(C),p.dirty=!1,w&&w.postRenderCanvas(this),C.restore(),p.renderToTexture&&(p.emit(l.POST_RENDER,p),p.renderToGame&&u.sys.context.drawImage(p.canvas,y,g)),p.emit(l.POST_RENDER,p)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(c(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,p,m,y,g,T,S,C){p===void 0&&(p=!1),this.snapshotArea(m,y,g,T,d,S,C);var w=this.snapshotState;return w.getPixel=p,c(u,w),w.callback=null,this},snapshot:function(u,d,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,p)},snapshotArea:function(u,d,p,m,y,g,T){var S=this.snapshotState;return S.callback=y,S.type=g,S.encoder=T,S.getPixel=!1,S.x=u,S.y=d,S.width=Math.min(p,this.gameCanvas.width),S.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(u,d,p){return this.snapshotArea(u,d,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,p,m){var y=p.alpha*u.alpha;if(y!==0){var g=this.currentContext,T=this._tempMatrix1,S=this._tempMatrix2,C=d.canvasData,w=C.x,b=C.y,A=d.cutWidth,D=d.cutHeight,B=d.customPivot,N=d.source.resolution,Y=u.displayOriginX,H=u.displayOriginY,j=-Y+d.x,J=-H+d.y;if(u.isCropped){var X=u._crop;(X.flipX!==u.flipX||X.flipY!==u.flipY)&&d.updateCropUVs(X,u.flipX,u.flipY),A=X.cw,D=X.ch,w=X.cx,b=X.cy,j=-Y+X.x,J=-H+X.y,u.flipX&&(j>=0?j=-(j+A):j<0&&(j=Math.abs(j)-A)),u.flipY&&(J>=0?J=-(J+D):J<0&&(J=Math.abs(J)-D))}var W=1,L=1;u.flipX&&(B||(j+=-d.realWidth+Y*2),W=-1),u.flipY&&(B||(J+=-d.realHeight+H*2),L=-1);var G=u.x,z=u.y;p.roundPixels&&(G=Math.floor(G),z=Math.floor(z)),S.applyITRS(G,z,u.rotation,u.scaleX*W,u.scaleY*L),T.copyFrom(p.matrix),m?(T.multiplyWithOffset(m,-p.scrollX*u.scrollFactorX,-p.scrollY*u.scrollFactorY),S.e=G,S.f=z):(S.e-=p.scrollX*u.scrollFactorX,S.f-=p.scrollY*u.scrollFactorY),T.multiply(S),p.roundPixels&&(T.e=Math.round(T.e),T.f=Math.round(T.f)),g.save(),T.setToContext(g),g.globalCompositeOperation=this.blendModes[u.blendMode],g.globalAlpha=y,g.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,p),A>0&&D>0&&g.drawImage(d.source.image,w,b,A,D,j,J,A/N,D/N),u.mask&&u.mask.postRenderCanvas(this,u,p),g.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=f},6046:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(98581),a=function(){var r=[],s=c.supportNewBlendModes,e="source-over";return r[l.NORMAL]=e,r[l.ADD]="lighter",r[l.MULTIPLY]=s?"multiply":e,r[l.SCREEN]=s?"screen":e,r[l.OVERLAY]=s?"overlay":e,r[l.DARKEN]=s?"darken":e,r[l.LIGHTEN]=s?"lighten":e,r[l.COLOR_DODGE]=s?"color-dodge":e,r[l.COLOR_BURN]=s?"color-burn":e,r[l.HARD_LIGHT]=s?"hard-light":e,r[l.SOFT_LIGHT]=s?"soft-light":e,r[l.DIFFERENCE]=s?"difference":e,r[l.EXCLUSION]=s?"exclusion":e,r[l.HUE]=s?"hue":e,r[l.SATURATION]=s?"saturation":e,r[l.COLOR]=s?"color":e,r[l.LUMINOSITY]=s?"luminosity":e,r[l.ERASE]="destination-out",r[l.SOURCE_IN]="source-in",r[l.SOURCE_OUT]="source-out",r[l.SOURCE_ATOP]="source-atop",r[l.DESTINATION_OVER]="destination-over",r[l.DESTINATION_IN]="destination-in",r[l.DESTINATION_OUT]="destination-out",r[l.DESTINATION_ATOP]="destination-atop",r[l.LIGHTER]="lighter",r[l.COPY]="copy",r[l.XOR]="xor",r};v.exports=a},49584:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(73329),c=function(a,r,s,e,i){var h=e.alpha*s.alpha;if(h<=0)return!1;var n=l(s,e,i).calc;return r.globalCompositeOperation=a.blendModes[s.blendMode],r.globalAlpha=h,r.save(),n.setToContext(r),r.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:a.antialias,!0};v.exports=c},70936:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},99298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},7743:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},99519:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},81044:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=t(27119),a=t(72632),r=function(s,e){var i=a(e,"callback"),h=a(e,"type","image/png"),n=a(e,"encoder",.92),o=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),u=Math.floor(a(e,"width",s.width)),d=Math.floor(a(e,"height",s.height)),p=a(e,"getPixel",!1);if(p){var m=s.getContext("2d",{willReadFrequently:!1}),y=m.getImageData(o,f,1,1),g=y.data;i.call(null,new c(g[0],g[1],g[2],g[3]))}else if(o!==0||f!==0||u!==s.width||d!==s.height){var T=l.createWebGL(this,u,d),S=T.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&S.drawImage(s,o,f,u,d,0,0,u,d);var C=new Image;C.onerror=function(){i.call(null),l.remove(T)},C.onload=function(){i.call(null,C),l.remove(T)},C.src=T.toDataURL(h,n)}else{var w=new Image;w.onerror=function(){i.call(null)},w.onload=function(){i.call(null,w)},w.src=s.toDataURL(h,n)}};v.exports=r},1217:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=t(27119),a=t(72632),r=function(s,e){var i=s,h=a(e,"callback"),n=a(e,"type","image/png"),o=a(e,"encoder",.92),f=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),p=a(e,"isFramebuffer",!1),m=p?a(e,"bufferWidth",1):i.drawingBufferWidth,y=p?a(e,"bufferHeight",1):i.drawingBufferHeight;if(d){var g=new Uint8Array(4),T=p?u:y-u;i.readPixels(f,T,1,1,i.RGBA,i.UNSIGNED_BYTE,g),h.call(null,new c(g[0],g[1],g[2],g[3]))}else{var S=Math.floor(a(e,"width",m)),C=Math.floor(a(e,"height",y)),w=S*C*4,b=new Uint8Array(w);i.readPixels(f,y-u-C,S,C,i.RGBA,i.UNSIGNED_BYTE,b);for(var A=l.createWebGL(this,S,C),D=A.getContext("2d",{willReadFrequently:!0}),B=D.getImageData(0,0,S,C),N=B.data,Y=0;Y<C;Y++)for(var H=0;H<S;H++){var j=((C-Y-1)*S+H)*4,J=p?w-(Y*S+(S-H))*4:(Y*S+H)*4;N[J+0]=b[j+0],N[J+1]=b[j+1],N[J+2]=b[j+2],N[J+3]=b[j+3]}D.putImageData(B,0,0);var X=new Image;X.onerror=function(){h.call(null),l.remove(A)},X.onload=function(){h.call(null,X),l.remove(A)},X.src=A.toDataURL(n,o)}};v.exports=r},95528:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(65641),a=t(33885),r=t(77290),s=t(72632),e=t(37410),i=t(82127),h=t(5583),n=t(58136),o=t(47406),f=t(81828),u=t(66901),d=t(71264),p=t(77310),m=t(10919),y=t(21213),g=t(51212),T=t(60848),S=new l({initialize:function(w){this.game=w.game,this.renderer=w,this.classes=new a([[c.UTILITY_PIPELINE,T],[c.MULTI_PIPELINE,p],[c.BITMAPMASK_PIPELINE,h],[c.SINGLE_PIPELINE,g],[c.ROPE_PIPELINE,y],[c.LIGHT_PIPELINE,u],[c.POINTLIGHT_PIPELINE,m],[c.MOBILE_PIPELINE,d],[c.FX_PIPELINE,f]]),this.postPipelineClasses=new a([[String(o.BARREL),n.Barrel],[String(o.BLOOM),n.Bloom],[String(o.BLUR),n.Blur],[String(o.BOKEH),n.Bokeh],[String(o.CIRCLE),n.Circle],[String(o.COLOR_MATRIX),n.ColorMatrix],[String(o.DISPLACEMENT),n.Displacement],[String(o.GLOW),n.Glow],[String(o.GRADIENT),n.Gradient],[String(o.PIXELATE),n.Pixelate],[String(o.SHADOW),n.Shadow],[String(o.SHINE),n.Shine],[String(o.VIGNETTE),n.Vignette],[String(o.WIPE),n.Wipe]]),this.pipelines=new a,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(C,w,b){var A=this.renderer,D=this.renderTargets;this.frameInc=Math.floor(s(C,"frameInc",32));for(var B=A.width,N=A.height,Y=Math.min(B,N),H=Math.ceil(Y/this.frameInc),j=1;j<H;j++){var J=j*this.frameInc;D.push(new e(A,J,J)),D.push(new e(A,J,J)),D.push(new e(A,J,J)),this.maxDimension=J}D.push(new e(A,B,N,1,0,!0,!0)),D.push(new e(A,B,N,1,0,!0,!0)),D.push(new e(A,B,N,1,0,!0,!0));var X,W,L=this,G=this.game;if(this.classes.each(function(k,K){X=L.add(k,new K({game:G})),k===c.UTILITY_PIPELINE&&(L.UTILITY_PIPELINE=X,L.fullFrame1=X.fullFrame1,L.fullFrame2=X.fullFrame2,L.halfFrame1=X.halfFrame1,L.halfFrame2=X.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(c.FX_PIPELINE),C)for(W in C){var z=C[W];X=new z(G),X.name=W,X.isPostFX?this.postPipelineClasses.set(W,z):this.has(W)||(this.classes.set(W,z),this.add(W,X))}this.default=this.get(w),b&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(C){var w=this.get(C);return w&&(this.default=w),w},add:function(C,w){if(w.isPostFX){console.warn(C+" is a Post Pipeline. Use `addPostPipeline` instead");return}var b=this.pipelines,A=this.renderer;return b.has(C)?console.warn("Pipeline exists: "+C):(w.name=C,w.manager=this,b.set(C,w)),w.hasBooted||w.boot(),A.width!==0&&A.height!==0&&!w.isPreFX&&w.resize(A.width,A.height),w},addPostPipeline:function(C,w){this.postPipelineClasses.has(C)||this.postPipelineClasses.set(C,w)},flush:function(){this.current&&this.current.flush()},has:function(C){var w=this.pipelines;return typeof C=="string"?w.has(C):!!w.contains(C)},get:function(C){var w=this.pipelines;if(typeof C=="string")return w.get(C);if(w.contains(C))return C},getPostPipeline:function(C,w,b){var A=this.postPipelineClasses,D,B="",N=typeof C;if(N==="string"||N==="number"?(D=A.get(C),B=C):N==="function"?(A.contains(C)&&(D=C),B=C.name):N==="object"&&(D=A.get(C.name),B=C.name),D){var Y=new D(this.game,b);return Y.name=B,w&&(Y.gameObject=w),Y}},remove:function(C,w,b){w===void 0&&(w=!0),b===void 0&&(b=!0),this.pipelines.delete(C),w&&this.classes.delete(C),b&&this.postPipelineClasses.delete(C)},set:function(C,w,b){if(!C.isPostFX)return this.isCurrent(C,b)||(this.flush(),this.current&&this.current.unbind(),this.current=C,C.bind(b)),C.updateProjectionMatrix(),C.onBind(w),C},preBatch:function(C){if(C.hasPostPipeline){this.flush();for(var w=C.postPipelines,b=w.length-1;b>=0;b--){var A=w[b];A.active&&A.preBatch(C)}}},postBatch:function(C){if(C.hasPostPipeline){this.flush();for(var w=C.postPipelines,b=0;b<w.length;b++){var A=w[b];A.active&&A.postBatch(C)}}},preBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var w=C.postPipelines,b=w.length-1;b>=0;b--){var A=w[b];A.active&&A.preBatch(C)}}},postBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var w=C.postPipelines,b=0;b<w.length;b++){var A=w[b];A.active&&A.postBatch(C)}}},isCurrent:function(C,w){var b=this.renderer,A=this.current;return A&&!w&&(w=A.currentShader),!(A!==C||w.program!==b.currentProgram)},copyFrame:function(C,w,b,A,D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(C,w,b,A,D),this},copyToGame:function(C){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(C),this},drawFrame:function(C,w,b,A){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(C,w,b,A),this},blendFrames:function(C,w,b,A,D){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(C,w,b,A,D),this},blendFramesAdditive:function(C,w,b,A,D){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(C,w,b,A,D),this},clearFrame:function(C,w){return this.UTILITY_PIPELINE.clearFrame(C,w),this},blitFrame:function(C,w,b,A,D,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(C,w,b,A,D,B),this},copyFrameRect:function(C,w,b,A,D,B,N,Y){return this.UTILITY_PIPELINE.copyFrameRect(C,w,b,A,D,B,N,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(C){return this.UTILITY_PIPELINE.bind(C)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(C){C===void 0&&this.previous&&(C=this.previous);var w=this.renderer,b=w.gl;b.disable(b.DEPTH_TEST),b.disable(b.CULL_FACE),w.hasActiveStencilMask()?b.clear(b.DEPTH_BUFFER_BIT):(b.disable(b.STENCIL_TEST),b.clear(b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)),b.viewport(0,0,w.width,w.height),w.currentProgram=null,w.setBlendMode(0,!0);var A=w.vaoExtension;A&&A.bindVertexArrayOES(null);var D=this.pipelines.entries;for(var B in D)D[B].glReset=!0;C&&(this.current=C,C.rebind())},clear:function(){var C=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,C.currentProgram=null,C.setBlendMode(0,!0);var w=C.vaoExtension;w&&w.bindVertexArrayOES(null)},getRenderTarget:function(C){var w=this.renderTargets,b=3;if(C>this.maxDimension)return this.targetIndex=w.length-b,w[this.targetIndex];var A=(i(C,this.frameInc,0,!0)-1)*b;return this.targetIndex=A,w[A]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=S},37410:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(81044),a=new l({initialize:function(s,e,i,h,n,o,f,u,d){h===void 0&&(h=1),n===void 0&&(n=0),o===void 0&&(o=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=n,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,i),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,s){var e=r*this.scale,i=s*this.scale;if(this.autoResize&&(e!==this.width||i!==this.height)){var h=this.renderer;h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),r*=this.scale,s*=this.scale,r=Math.round(r),s=Math.round(s),r<=0&&(r=1),s<=0&&(s=1),this.texture=h.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=h.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s}return this},bind:function(r,s,e){r===void 0&&(r=!1);var i=this.renderer;if(r&&i.flush(),s&&e&&this.resize(s,e),i.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}i.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var s=this.renderer;return r&&s.flush(),s.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(c.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},75512:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(x,t,l,c){var a=(x*255|0)&255,r=(t*255|0)&255,s=(l*255|0)&255,e=(c*255|0)&255;return(e<<24|a<<16|r<<8|s)>>>0},getTintAppendFloatAlpha:function(x,t){var l=(t*255|0)&255;return(l<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,t){var l=(x>>16|0)&255,c=(x>>8|0)&255,a=(x|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|c<<8|l)>>>0},getFloatsFromUintRGB:function(x){var t=(x>>16|0)&255,l=(x>>8|0)&255,c=(x|0)&255;return[t/255,l/255,c/255]},checkShaderMax:function(x,t){var l=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?l:Math.min(l,t)},parseFragmentShaderMaxTextures:function(x,t){if(!x)return"";for(var l="",c=0;c<t;c++)c>0&&(l+=`
	else `),c<t-1&&(l+="if (outTexId < "+c+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",l+=`
	}`;return x=x.replace(/%count%/gi,t.toString()),x.replace(/%forloop%/gi,l)},setGlowQuality:function(x,t,l,c){return l===void 0&&(l=t.config.glowFXQuality),c===void 0&&(c=t.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/l/c).toFixed(7)),x=x.replace(/__DIST__/gi,c.toFixed(0)+".0"),x}}},44775:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(28699),a=t(6659),r=t(18970),s=t(72632),e=t(16650),i=t(81044),h=t(37410),n=t(75512),o=t(71305),f=new l({Extends:a,initialize:function(d){a.call(this);var p=d.game,m=p.renderer,y=m.gl;this.name=s(d,"name","WebGLPipeline"),this.game=p,this.renderer=m,this.manager,this.gl=y,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(d,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var u,d=this.gl,p=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var y=this.renderTargets,g=s(p,"renderTarget",!1);typeof g=="boolean"&&g&&(g=1);var T=m.width,S=m.height;if(typeof g=="number")for(u=0;u<g;u++)y.push(new h(m,T,S,1,0,!0));else if(Array.isArray(g))for(u=0;u<g.length;u++){var C=s(g[u],"scale",1),w=s(g[u],"minFilter",0),b=s(g[u],"autoClear",1),A=s(g[u],"width",null),D=s(g[u],"height",A);A?y.push(new h(m,A,D,1,w,b)):y.push(new h(m,T,S,C,w,b))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(p);var B=this.shaders,N=0;for(u=0;u<B.length;u++)B[u].vertexSize>N&&(N=B[u].vertexSize);var Y=s(p,"batchSize",m.config.batchSize);this.vertexCapacity=Y*6;var H=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var j=s(p,"vertices",null);for(j?(this.vertexViewF32.set(j),this.vertexBuffer=m.createVertexBuffer(H,d.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(H.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=B.length-1;u>=0;u--)B[u].rebind();this.hasBooted=!0,m.on(i.RESIZE,this.resize,this),m.on(i.PRE_RENDER,this.onPreRender,this),m.on(i.RENDER,this.onRender,this),m.on(i.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,p){var m=this.renderer;if(u!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var y=this.setVertexBuffer(p);y&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===u)return d[p]},setShadersFromConfig:function(u){var d,p=this.shaders,m=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var y="vertShader",g="fragShader",T="attributes",S=s(u,y,null),C=n.parseFragmentShaderMaxTextures(s(u,g,null),m.maxTextures),w=s(u,T,null),b=s(u,"shaders",[]),A=b.length;if(A===0)S&&C&&(this.shaders=[new o(this,"default",S,C,c(w))]);else{var D=[];for(d=0;d<A;d++){var B=b[d],N,Y,H,j;if(typeof B=="string"?(N="default",Y=S,H=n.parseFragmentShaderMaxTextures(B,m.maxTextures),j=w):(N=s(B,"name","default"),Y=s(B,y,S),H=n.parseFragmentShaderMaxTextures(s(B,g,C),m.maxTextures),j=s(B,T,w)),N==="default"){var J=H.split(`
`),X=J[0].trim();X.indexOf("#define SHADER_NAME")>-1&&(N=X.substring(20))}Y&&H&&D.push(new o(this,N,Y,H,c(j)))}this.shaders=D}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(u);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=p,this.currentTexture=u,p)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var p=this.renderTargets,m=0;m<p.length;m++)p[m].resize(u,d);return this.setProjectionMatrix(u,d),this.emit(r.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=u,this.projectionHeight=d,p.ortho(0,u,d,0,-1e3,1e3);for(var m=this.shaders,y="uProjectionMatrix",g=0;g<m.length;g++){var T=m[g];T.hasUniform(y)&&(T.resetUniform(y),T.setMatrix4fv(y,!1,p.val,T))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,m=this.projectionHeight;u?d.ortho(0,p,0,m,-1e3,1e3):d.ortho(0,p,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(r.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var m=d[p].rebind();(!u||m===u)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,p=this.vertexCount,m=this.currentShader.vertexSize,y=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*m));var g,T,S,C=this.batch,w=this.activeTextures;if(this.forceZero)for(w[0]||d.activeTexture(d.TEXTURE0),g=0;g<C.length;g++)T=C[g],S=T.texture[0],w[0]!==S&&(d.bindTexture(d.TEXTURE_2D,S),w[0]=S),d.drawArrays(y,T.start,T.count);else for(g=0;g<C.length;g++){T=C[g];for(var b=0;b<=T.maxUnit;b++)S=T.texture[b],w[b]!==S&&(d.activeTexture(d.TEXTURE0+b),d.bindTexture(d.TEXTURE_2D,S),w[b]=S);d.drawArrays(y,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,p,m,y,g,T){var S=this.vertexViewF32,C=this.vertexViewU32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++w]=u,S[++w]=d,S[++w]=p,S[++w]=m,S[++w]=y,S[++w]=g,C[++w]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H,j,J,X){X===void 0&&(X=this.currentUnit);var W=!1;this.shouldFlush(6)&&(this.flush(),W=!0),this.currentBatch||(X=this.setTexture2D(J));var L=this.vertexViewF32,G=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return L[++z]=d,L[++z]=p,L[++z]=w,L[++z]=b,L[++z]=X,L[++z]=j,G[++z]=B,L[++z]=m,L[++z]=y,L[++z]=w,L[++z]=D,L[++z]=X,L[++z]=j,G[++z]=Y,L[++z]=g,L[++z]=T,L[++z]=A,L[++z]=D,L[++z]=X,L[++z]=j,G[++z]=H,L[++z]=d,L[++z]=p,L[++z]=w,L[++z]=b,L[++z]=X,L[++z]=j,G[++z]=B,L[++z]=g,L[++z]=T,L[++z]=A,L[++z]=D,L[++z]=X,L[++z]=j,G[++z]=H,L[++z]=S,L[++z]=C,L[++z]=A,L[++z]=b,L[++z]=X,L[++z]=j,G[++z]=N,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),W},batchTri:function(u,d,p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H){H===void 0&&(H=this.currentUnit);var j=!1;this.shouldFlush(3)&&(this.flush(),j=!0),this.currentBatch||(H=this.setTexture2D(Y));var J=this.vertexViewF32,X=this.vertexViewU32,W=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++W]=d,J[++W]=p,J[++W]=S,J[++W]=C,J[++W]=H,J[++W]=N,X[++W]=A,J[++W]=m,J[++W]=y,J[++W]=S,J[++W]=b,J[++W]=H,J[++W]=N,X[++W]=D,J[++W]=g,J[++W]=T,J[++W]=w,J[++W]=b,J[++W]=H,J[++W]=N,X[++W]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),j},drawFillRect:function(u,d,p,m,y,g,T,S){T===void 0&&(T=this.renderer.whiteTexture),S===void 0&&(S=!0),u=Math.floor(u),d=Math.floor(d);var C=Math.floor(u+p),w=Math.floor(d+m),b=this.setTexture2D(T),A=n.getTintAppendFloatAlphaAndSwap(y,g),D=0,B=0,N=1,Y=1;S&&(B=1,Y=0),this.batchQuad(null,u,d,u,w,C,w,C,d,D,B,N,Y,A,A,A,A,0,T,b)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,u),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(u,d),this},set1f:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1f(u,d),this},set2f:function(u,d,p,m){return m===void 0&&(m=this.currentShader),m.set2f(u,d,p),this},set3f:function(u,d,p,m,y){return y===void 0&&(y=this.currentShader),y.set3f(u,d,p,m),this},set4f:function(u,d,p,m,y,g){return g===void 0&&(g=this.currentShader),g.set4f(u,d,p,m,y),this},set1fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(u,d),this},set2fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(u,d),this},set3fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(u,d),this},set4fv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(u,d),this},set1iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(u,d),this},set2iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(u,d),this},set3iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(u,d),this},set4iv:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(u,d),this},set1i:function(u,d,p){return p===void 0&&(p=this.currentShader),p.set1i(u,d),this},set2i:function(u,d,p,m){return m===void 0&&(m=this.currentShader),m.set2i(u,d,p),this},set3i:function(u,d,p,m,y){return y===void 0&&(y=this.currentShader),y.set3i(u,d,p,m),this},set4i:function(u,d,p,m,y,g){return g===void 0&&(g=this.currentShader),g.set4i(u,d,p,m,y),this},setMatrix2fv:function(u,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(u,d,p),this},setMatrix3fv:function(u,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(u,d,p),this},setMatrix4fv:function(u,d,p,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(u,d,p),this},destroy:function(){this.emit(r.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var p=this.renderTargets;for(u=0;u<p.length;u++)p[u].destroy();this.gl.deleteBuffer(this.vertexBuffer);var m=this.renderer;return m.off(i.RESIZE,this.resize,this),m.off(i.PRE_RENDER,this.onPreRender,this),m.off(i.RENDER,this.onRender,this),m.off(i.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=f},11857:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),c=t(89787),a=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(28621),h=t(16650),n=t(72283),o=t(35217),f=t(37410),u=t(40444),d=t(38203),p=t(75512),m=t(1217),y=new a({Extends:s,initialize:function(T){s.call(this);var S=T.config,C={alpha:S.transparent,desynchronized:S.desynchronized,depth:!0,antialias:S.antialiasGL,premultipliedAlpha:S.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:S.failIfMajorPerformanceCaveat,powerPreference:S.powerPreference,preserveDrawingBuffer:S.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:S.clearBeforeRender,antialias:S.antialias,backgroundColor:S.backgroundColor,contextCreation:C,roundPixels:S.roundPixels,maxTextures:S.maxTextures,maxTextureSize:S.maxTextureSize,batchSize:S.batchSize,maxLights:S.maxLights,mipmapFilter:S.mipmapFilter},this.game=T,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=T.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=n,this.contextRestoredHandler=n,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(g){var T,S=this.game,C=this.canvas,w=g.backgroundColor;if(S.config.context?T=S.config.context:T=C.getContext("webgl",g.contextCreation)||C.getContext("experimental-webgl",g.contextCreation),!T||T.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=T;var b=this;this.contextLostHandler=function(j){b.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),j.preventDefault()},C.addEventListener("webglcontextlost",this.contextLostHandler,!1),S.context=T;for(var A=0;A<=27;A++)this.blendModes.push({func:[T.ONE,T.ONE_MINUS_SRC_ALPHA],equation:T.FUNC_ADD});this.blendModes[1].func=[T.ONE,T.DST_ALPHA],this.blendModes[2].func=[T.DST_COLOR,T.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[T.ONE,T.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[T.ZERO,T.ONE_MINUS_SRC_ALPHA],equation:T.FUNC_REVERSE_SUBTRACT},this.glFormats=[T.BYTE,T.SHORT,T.UNSIGNED_BYTE,T.UNSIGNED_SHORT,T.FLOAT],this.glFuncMap={mat2:{func:T.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:T.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:T.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:T.uniform1f,length:1},"1fv":{func:T.uniform1fv,length:1},"1i":{func:T.uniform1i,length:1},"1iv":{func:T.uniform1iv,length:1},"2f":{func:T.uniform2f,length:2},"2fv":{func:T.uniform2fv,length:1},"2i":{func:T.uniform2i,length:2},"2iv":{func:T.uniform2iv,length:1},"3f":{func:T.uniform3f,length:3},"3fv":{func:T.uniform3fv,length:1},"3i":{func:T.uniform3i,length:3},"3iv":{func:T.uniform3iv,length:1},"4f":{func:T.uniform4f,length:4},"4fv":{func:T.uniform4fv,length:1},"4i":{func:T.uniform4i,length:4},"4iv":{func:T.uniform4iv,length:1}};var D=T.getSupportedExtensions();(!g.maxTextures||g.maxTextures===-1)&&(g.maxTextures=T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS)),g.maxTextureSize||(g.maxTextureSize=T.getParameter(T.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=D;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(B)>-1?T.getExtension(B):null;var N="OES_vertex_array_object";this.vaoExtension=D.indexOf(N)>-1?T.getExtension(N):null,T.disable(T.DEPTH_TEST),T.disable(T.CULL_FACE),T.enable(T.BLEND),T.clearColor(w.redGL,w.greenGL,w.blueGL,w.alphaGL),g.mipmapFilter!==""&&(this.mipmapFilter=T[g.mipmapFilter]),this.maxTextures=p.checkShaderMax(T,g.maxTextures),this.textureIndexes=[];for(var Y=0;Y<this.maxTextures;Y++){var H=T.createTexture();T.activeTexture(T.TEXTURE0+Y),T.bindTexture(T.TEXTURE_2D,H),T.texImage2D(T.TEXTURE_2D,0,T.RGBA,1,1,0,T.RGBA,T.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(Y)}return this.pipelines=new o(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),S.textures.once(d.READY,this.boot,this),this},boot:function(){var g=this.game,T=this.pipelines,S=g.scale.baseSize,C=S.width,w=S.height;this.width=C,this.height=w,this.isBooted=!0,this.renderTarget=new f(this,C,w,1,0,!0,!0),this.maskTarget=new f(this,C,w,1,0,!0,!0),this.maskSource=new f(this,C,w,1,0,!0,!0);var b=g.config;T.boot(b.pipeline,b.defaultPipeline,b.autoMobilePipeline),this.blankTexture=g.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=g.textures.getFrame("__WHITE").glTexture;var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,null),A.enable(A.SCISSOR_TEST),g.scale.on(u.RESIZE,this.onResize,this),this.resize(C,w)},captureFrame:function(g,T){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(g,T,S){},stopCapture:function(){},onCapture:function(g){},onResize:function(g,T){(T.width!==this.width||T.height!==this.height)&&this.resize(T.width,T.height)},beginCapture:function(g,T){g===void 0&&(g=this.width),T===void 0&&(T=this.height),this.renderTarget.bind(!0,g,T),this.setProjectionMatrix(g,T)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(g,T){var S=this.gl;return this.width=g,this.height=T,this.setProjectionMatrix(g,T),S.viewport(0,0,g,T),this.drawingBufferHeight=S.drawingBufferHeight,S.scissor(0,S.drawingBufferHeight-T,g,T),this.defaultScissor[2]=g,this.defaultScissor[3]=T,this.emit(e.RESIZE,g,T),this},getCompressedTextures:function(){var g="WEBGL_compressed_texture_",T="WEBKIT_"+g,S=function(w,b){var A=w.getExtension(g+b)||w.getExtension(T+b);if(A){var D={};for(var B in A)D[A[B]]=B;return D}},C=this.gl;return{ETC:S(C,"etc"),ETC1:S(C,"etc1"),ATC:S(C,"atc"),ASTC:S(C,"astc"),BPTC:S(C,"bptc"),RGTC:S(C,"rgtc"),PVRTC:S(C,"pvrtc"),S3TC:S(C,"s3tc"),S3TCSRGB:S(C,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(g,T){var S=this.compression[g.toUpperCase()];if(T in S)return S[T]},supportsCompressedTexture:function(g,T){var S=this.compression[g.toUpperCase()];return S?T?T in S:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(g,T){return(g!==this.projectionWidth||T!==this.projectionHeight)&&(this.projectionWidth=g,this.projectionHeight=T,this.projectionMatrix.ortho(0,g,T,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(g){return this.supportedExtensions?this.supportedExtensions.indexOf(g):!1},getExtension:function(g){return this.hasExtension(g)?(g in this.extensions||(this.extensions[g]=this.gl.getExtension(g)),this.extensions[g]):null},flush:function(){this.pipelines.flush()},pushScissor:function(g,T,S,C,w){w===void 0&&(w=this.drawingBufferHeight);var b=this.scissorStack,A=[g,T,S,C];return b.push(A),this.setScissor(g,T,S,C,w),this.currentScissor=A,A},setScissor:function(g,T,S,C,w){w===void 0&&(w=this.drawingBufferHeight);var b=this.gl,A=this.currentScissor,D=S>0&&C>0;if(A&&D){var B=A[0],N=A[1],Y=A[2],H=A[3];D=B!==g||N!==T||Y!==S||H!==C}D&&(this.flush(),b.scissor(g,w-T-C,S,C))},resetScissor:function(){var g=this.gl;g.enable(g.SCISSOR_TEST);var T=this.currentScissor;if(T){var S=T[0],C=T[1],w=T[2],b=T[3];w>0&&b>0&&g.scissor(S,this.drawingBufferHeight-C-b,w,b)}},popScissor:function(){var g=this.scissorStack;g.pop();var T=g[g.length-1];T&&this.setScissor(T[0],T[1],T[2],T[3]),this.currentScissor=T},hasActiveStencilMask:function(){var g=this.currentMask.mask,T=this.currentCameraMask.mask;return g&&g.isStencil||T&&T.isStencil},resetViewport:function(){var g=this.gl;g.viewport(0,0,this.width,this.height),this.drawingBufferHeight=g.drawingBufferHeight},setBlendMode:function(g,T){T===void 0&&(T=!1);var S=this.gl,C=this.blendModes[g];return T||g!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==g?(this.flush(),S.enable(S.BLEND),S.blendEquation(C.equation),C.func.length>2?S.blendFuncSeparate(C.func[0],C.func[1],C.func[2],C.func[3]):S.blendFunc(C.func[0],C.func[1]),this.currentBlendMode=g,!0):!1},addBlendMode:function(g,T){var S=this.blendModes.push({func:g,equation:T});return S-1},updateBlendMode:function(g,T,S){return this.blendModes[g]&&(this.blendModes[g].func=T,S&&(this.blendModes[g].equation=S)),this},removeBlendMode:function(g){return g>17&&this.blendModes[g]&&this.blendModes.splice(g,1),this},pushFramebuffer:function(g,T,S,C,w){return g===this.currentFramebuffer?this:(this.fboStack.push(g),this.setFramebuffer(g,T,S,C,w))},setFramebuffer:function(g,T,S,C,w){if(T===void 0&&(T=!1),S===void 0&&(S=!0),C===void 0&&(C=null),w===void 0&&(w=!1),g===this.currentFramebuffer)return this;var b=this.gl,A=this.width,D=this.height;return g&&g.renderTexture&&S?(A=g.renderTexture.width,D=g.renderTexture.height):this.flush(),b.bindFramebuffer(b.FRAMEBUFFER,g),S&&b.viewport(0,0,A,D),C&&b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,C,0),w&&(b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)),T&&(g?(this.drawingBufferHeight=D,this.pushScissor(0,0,A,D)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=g,this},popFramebuffer:function(g,T){g===void 0&&(g=!1),T===void 0&&(T=!0);var S=this.fboStack;S.pop();var C=S[S.length-1];return C||(C=null),this.setFramebuffer(C,g,T),C},restoreFramebuffer:function(g,T){g===void 0&&(g=!1),T===void 0&&(T=!0);var S=this.fboStack,C=S[S.length-1];C||(C=null),this.currentFramebuffer=null,this.setFramebuffer(C,g,T)},setProgram:function(g){return g!==this.currentProgram?(this.flush(),this.gl.useProgram(g),this.currentProgram=g,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(g,T,S,C,w){w===void 0&&(w=!1);var b=this.gl,A=b.NEAREST,D=b.NEAREST,B=b.CLAMP_TO_EDGE,N=null;T=g?g.width:T,S=g?g.height:S;var Y=i(T,S);return Y&&!w&&(B=b.REPEAT),C===r.ScaleModes.LINEAR&&this.config.antialias&&(A=Y&&this.mipmapFilter?this.mipmapFilter:b.LINEAR,D=b.LINEAR),g&&g.compressed&&(A=b.LINEAR,D=b.LINEAR),!g&&typeof T=="number"&&typeof S=="number"?N=this.createTexture2D(0,A,D,B,B,b.RGBA,null,T,S):N=this.createTexture2D(0,A,D,B,B,b.RGBA,g),N},createTexture2D:function(g,T,S,C,w,b,A,D,B,N,Y,H){N=N??!0,Y===void 0&&(Y=!1),H===void 0&&(H=!1);var j=this.gl,J=j.createTexture();j.activeTexture(j.TEXTURE0);var X=j.getParameter(j.TEXTURE_BINDING_2D);j.bindTexture(j.TEXTURE_2D,J),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,T),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,S),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,w),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,C),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N),H&&j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,!0);var W=!1;if(A==null)j.texImage2D(j.TEXTURE_2D,g,b,D,B,0,b,j.UNSIGNED_BYTE,null),W=i(D,B);else if(A.compressed){D=A.width,B=A.height,W=A.generateMipmap;for(var L=0;L<A.mipmaps.length;L++)j.compressedTexImage2D(j.TEXTURE_2D,L,A.internalFormat,A.mipmaps[L].width,A.mipmaps[L].height,0,A.mipmaps[L].data)}else Y||(D=A.width,B=A.height),j.texImage2D(j.TEXTURE_2D,g,b,b,j.UNSIGNED_BYTE,A),W=i(D,B);return W&&j.generateMipmap(j.TEXTURE_2D),X&&j.bindTexture(j.TEXTURE_2D,X),J.isAlphaPremultiplied=N,J.isRenderTexture=!1,J.width=D,J.height=B,J},createFramebuffer:function(g,T,S,C){C===void 0&&(C=!0);var w=this.gl,b=w.createFramebuffer(),A=0;if(this.setFramebuffer(b),S.isRenderTexture=!0,S.isAlphaPremultiplied=!1,w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,S,0),A=w.checkFramebufferStatus(w.FRAMEBUFFER),A!==w.FRAMEBUFFER_COMPLETE){var D={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(D[A]||A))}if(b.renderTexture=S,C){var B=w.createRenderbuffer();w.bindRenderbuffer(w.RENDERBUFFER,B),w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,g,T),w.framebufferRenderbuffer(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.RENDERBUFFER,B)}return this.setFramebuffer(null),b},beginBitmapMask:function(g,T){var S=this.gl;S&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==g&&(this.currentMask.mask=g,this.currentMask.camera=T))},drawBitmapMask:function(g,T,S){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),g.renderWebGL(this,g,T),this.maskSource.unbind(!0),this.maskTarget.unbind();var C=this.gl,w=this.getCurrentStencilMask();w?(C.enable(C.STENCIL_TEST),w.mask.applyStencil(this,w.camera,!0)):this.currentMask.mask=null,this.pipelines.set(S),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,this.maskTarget.texture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,this.maskSource.texture)},createProgram:function(g,T){var S=this.gl,C=S.createProgram(),w=S.createShader(S.VERTEX_SHADER),b=S.createShader(S.FRAGMENT_SHADER);S.shaderSource(w,g),S.shaderSource(b,T),S.compileShader(w),S.compileShader(b);var A=`Shader failed:
`;if(!S.getShaderParameter(w,S.COMPILE_STATUS))throw new Error("Vertex "+A+S.getShaderInfoLog(w));if(!S.getShaderParameter(b,S.COMPILE_STATUS))throw new Error("Fragment "+A+S.getShaderInfoLog(b));if(S.attachShader(C,w),S.attachShader(C,b),S.linkProgram(C),!S.getProgramParameter(C,S.LINK_STATUS))throw new Error("Link "+A+S.getProgramInfoLog(C));return S.useProgram(C),C},createVertexBuffer:function(g,T){var S=this.gl,C=S.createBuffer();return S.bindBuffer(S.ARRAY_BUFFER,C),S.bufferData(S.ARRAY_BUFFER,g,T),S.bindBuffer(S.ARRAY_BUFFER,null),C},createIndexBuffer:function(g,T){var S=this.gl,C=S.createBuffer();return S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,C),S.bufferData(S.ELEMENT_ARRAY_BUFFER,g,T),S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,null),C},deleteTexture:function(g){return g&&this.gl.deleteTexture(g),this},deleteFramebuffer:function(g){if(g){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,g);var S=T.getParameter(T.RENDERBUFFER_BINDING);S&&T.deleteRenderbuffer(S),T.bindFramebuffer(T.FRAMEBUFFER,null),T.deleteFramebuffer(g),l(this.fboStack,g),this.currentFramebuffer===g&&(this.currentFramebuffer=null)}return this},deleteProgram:function(g){return g&&this.gl.deleteProgram(g),this},deleteBuffer:function(g){return this.gl.deleteBuffer(g),this},preRenderCamera:function(g){var T=g.x,S=g.y,C=g.width,w=g.height,b=g.backgroundColor;if(g.emit(c.PRE_RENDER,g),this.pipelines.preBatchCamera(g),this.pushScissor(T,S,C,w),g.mask&&(this.currentCameraMask.mask=g.mask,this.currentCameraMask.camera=g._maskCamera,g.mask.preRenderWebGL(this,g,g._maskCamera)),b.alphaGL>0){var A=this.pipelines.setMulti();A.drawFillRect(T,S,C,w,p.getTintFromFloats(b.blueGL,b.greenGL,b.redGL,1),b.alphaGL)}},getCurrentStencilMask:function(){var g=null,T=this.maskStack,S=this.currentCameraMask;return T.length>0?g=T[T.length-1]:S.mask&&S.mask.isStencil&&(g=S),g},postRenderCamera:function(g){var T=g.flashEffect,S=g.fadeEffect;if(T.isRunning||S.isRunning||S.isComplete){var C=this.pipelines.setMulti();T.postRenderWebGL(C,p.getTintFromFloats),S.postRenderWebGL(C,p.getTintFromFloats)}g.dirty=!1,this.popScissor(),g.mask&&(this.currentCameraMask.mask=null,g.mask.postRenderWebGL(this,g._maskCamera)),this.pipelines.postBatchCamera(g),g.emit(c.POST_RENDER,g)},preRender:function(){if(!this.contextLost){var g=this.gl;if(g.bindFramebuffer(g.FRAMEBUFFER,null),this.config.clearBeforeRender){var T=this.config.backgroundColor;g.clearColor(T.redGL,T.greenGL,T.blueGL,T.alphaGL),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)}g.enable(g.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&g.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(g,T,S){if(!this.contextLost){var C=T.length;if(this.emit(e.RENDER,g,S),this.preRenderCamera(S),C===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(S);return}this.currentType="";for(var w=this.currentMask,b=0;b<C;b++){this.finalType=b===C-1;var A=T[b],D=A.mask;w=this.currentMask,w.mask&&w.mask!==D&&w.mask.postRenderWebGL(this,w.camera),D&&w.mask!==D&&D.preRenderWebGL(this,A,S),A.blendMode!==this.currentBlendMode&&this.setBlendMode(A.blendMode);var B=A.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=T[b+1].type===this.currentType,A.renderWebGL(this,A,S),this.newType=!1}w=this.currentMask,w.mask&&w.mask.postRenderWebGL(this,w.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(S)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gl,g),g.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var g=this.gl,T=this.getCurrentStencilMask();if(T){var S=T.mask;g.enable(g.STENCIL_TEST),S.invertAlpha?g.stencilFunc(g.NOTEQUAL,S.level,255):g.stencilFunc(g.EQUAL,S.level,255)}},snapshot:function(g,T,S){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,g,T,S)},snapshotArea:function(g,T,S,C,w,b,A){var D=this.snapshotState;return D.callback=w,D.type=b,D.encoder=A,D.getPixel=!1,D.x=g,D.y=T,D.width=S,D.height=C,this},snapshotPixel:function(g,T,S){return this.snapshotArea(g,T,1,1,S),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(g,T,S,C,w,b,A,D,B,N,Y){w===void 0&&(w=!1),b===void 0&&(b=0),A===void 0&&(A=0),D===void 0&&(D=T),B===void 0&&(B=S),N==="pixel"&&(w=!0,N="image/png");var H=this.currentFramebuffer;this.snapshotArea(b,A,D,B,C,N,Y);var j=this.snapshotState;return j.getPixel=w,j.isFramebuffer=!0,j.bufferWidth=T,j.bufferHeight=S,j.width=Math.min(j.width,T),j.height=Math.min(j.height,S),this.setFramebuffer(g),m(this.gl,j),this.setFramebuffer(H),j.callback=null,j.isFramebuffer=!1,this},canvasToTexture:function(g,T,S,C){return S===void 0&&(S=!1),C===void 0&&(C=!1),T?this.updateCanvasTexture(g,T,C):this.createCanvasTexture(g,S,C)},createCanvasTexture:function(g,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var C=this.gl,w=C.NEAREST,b=C.NEAREST,A=g.width,D=g.height,B=C.CLAMP_TO_EDGE,N=i(A,D);return!T&&N&&(B=C.REPEAT),this.config.antialias&&(w=N&&this.mipmapFilter?this.mipmapFilter:C.LINEAR,b=C.LINEAR),this.createTexture2D(0,w,b,B,B,C.RGBA,g,A,D,!0,!1,S)},updateCanvasTexture:function(g,T,S){S===void 0&&(S=!1);var C=this.gl,w=g.width,b=g.height;if(w>0&&b>0){C.activeTexture(C.TEXTURE0);var A=C.getParameter(C.TEXTURE_BINDING_2D);C.bindTexture(C.TEXTURE_2D,T),S&&C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,!0),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,g),T.width=w,T.height=b,A&&C.bindTexture(C.TEXTURE_2D,A)}return T},createVideoTexture:function(g,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var C=this.gl,w=C.NEAREST,b=C.NEAREST,A=g.videoWidth,D=g.videoHeight,B=C.CLAMP_TO_EDGE,N=i(A,D);return!T&&N&&(B=C.REPEAT),this.config.antialias&&(w=N&&this.mipmapFilter?this.mipmapFilter:C.LINEAR,b=C.LINEAR),this.createTexture2D(0,w,b,B,B,C.RGBA,g,A,D,!0,!0,S)},updateVideoTexture:function(g,T,S){S===void 0&&(S=!1);var C=this.gl,w=g.videoWidth,b=g.videoHeight;if(w>0&&b>0){C.activeTexture(C.TEXTURE0);var A=C.getParameter(C.TEXTURE_BINDING_2D);C.bindTexture(C.TEXTURE_2D,T),C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,S),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,g),T.width=w,T.height=b,A&&C.bindTexture(C.TEXTURE_2D,A)}return T},setTextureFilter:function(g,T){var S=this.gl,C=[S.LINEAR,S.NEAREST][T];S.activeTexture(S.TEXTURE0);var w=S.getParameter(S.TEXTURE_BINDING_2D);return S.bindTexture(S.TEXTURE_2D,g),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,C),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,C),w&&S.bindTexture(S.TEXTURE_2D,w),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=y},71305:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(71402),r=new l({initialize:function(e,i,h,n,o){this.pipeline=e,this.name=i,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=h,this.program=this.renderer.createProgram(h,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(s){var e=0,i=0,h=[];this.vertexComponentCount=0;for(var n=0;n<s.length;n++){var o=s[n],f=o.name,u=c(o,"size",1),d=c(o,"type",a.FLOAT),p=d.enum,m=d.size,y=!!o.normalized;h.push({name:f,size:u,type:p,normalized:y,offset:i,enabled:!1,location:-1}),m===4?e+=u:e++,i+=u*m}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=h},bind:function(s,e){return s===void 0&&(s=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var e=this.gl,i=this.vertexSize,h=this.attributes,n=this.program,o=0;o<h.length;o++){var f=h[o],u=f.size,d=f.type,p=f.offset,m=f.enabled,y=f.location,g=!!f.normalized;if(s){var T=e.getAttribLocation(n,f.name);T>=0?(e.enableVertexAttribArray(T),e.vertexAttribPointer(T,u,d,g,i,p),f.enabled=!0,f.location=T):T!==-1&&e.disableVertexAttribArray(T)}else m?e.vertexAttribPointer(y,u,d,g,i,p):!m&&y>-1&&(e.disableVertexAttribArray(y),f.location=-1)}return this},createUniforms:function(){var s=this.gl,e=this.program,i=this.uniforms,h,n,o,f=s.getProgramParameter(e,s.ACTIVE_UNIFORMS);for(h=0;h<f;h++){var u=s.getActiveUniform(e,h);if(u){n=u.name,o=s.getUniformLocation(e,n),o!==null&&(i[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null});var d=n.indexOf("[");d>0&&(n=n.substr(0,d),i.hasOwnProperty(n)||(o=s.getUniformLocation(e,n),o!==null&&(i[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var e=this.uniforms[s];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(s,e,i,h){var n=this.uniforms[e];return n?((h||n.value1!==i)&&(n.value1=i,this.renderer.setProgram(this.program),s.call(this.gl,n.location,i),this.pipeline.currentShader=this),this):this},setUniform2:function(s,e,i,h,n){var o=this.uniforms[e];return o?((n||o.value1!==i||o.value2!==h)&&(o.value1=i,o.value2=h,this.renderer.setProgram(this.program),s.call(this.gl,o.location,i,h),this.pipeline.currentShader=this),this):this},setUniform3:function(s,e,i,h,n,o){var f=this.uniforms[e];return f?((o||f.value1!==i||f.value2!==h||f.value3!==n)&&(f.value1=i,f.value2=h,f.value3=n,this.renderer.setProgram(this.program),s.call(this.gl,f.location,i,h,n),this.pipeline.currentShader=this),this):this},setUniform4:function(s,e,i,h,n,o,f){var u=this.uniforms[e];return u?((f||u.value1!==i||u.value2!==h||u.value3!==n||u.value4!==o)&&(u.value1=i,u.value2=h,u.value3=n,u.value4=o,this.renderer.setProgram(this.program),s.call(this.gl,u.location,i,h,n,o),this.pipeline.currentShader=this),this):this},setBoolean:function(s,e){return this.setUniform1(this.gl.uniform1i,s,Number(e))},set1f:function(s,e){return this.setUniform1(this.gl.uniform1f,s,e)},set2f:function(s,e,i){return this.setUniform2(this.gl.uniform2f,s,e,i)},set3f:function(s,e,i,h){return this.setUniform3(this.gl.uniform3f,s,e,i,h)},set4f:function(s,e,i,h,n){return this.setUniform4(this.gl.uniform4f,s,e,i,h,n)},set1fv:function(s,e){return this.setUniform1(this.gl.uniform1fv,s,e,!0)},set2fv:function(s,e){return this.setUniform1(this.gl.uniform2fv,s,e,!0)},set3fv:function(s,e){return this.setUniform1(this.gl.uniform3fv,s,e,!0)},set4fv:function(s,e){return this.setUniform1(this.gl.uniform4fv,s,e,!0)},set1iv:function(s,e){return this.setUniform1(this.gl.uniform1iv,s,e,!0)},set2iv:function(s,e){return this.setUniform1(this.gl.uniform2iv,s,e,!0)},set3iv:function(s,e){return this.setUniform1(this.gl.uniform3iv,s,e,!0)},set4iv:function(s,e){return this.setUniform1(this.gl.uniform4iv,s,e,!0)},set1i:function(s,e){return this.setUniform1(this.gl.uniform1i,s,e)},set2i:function(s,e,i){return this.setUniform2(this.gl.uniform2i,s,e,i)},set3i:function(s,e,i,h){return this.setUniform3(this.gl.uniform3i,s,e,i,h)},set4i:function(s,e,i,h,n){return this.setUniform4(this.gl.uniform4i,s,e,i,h,n)},setMatrix2fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,s,e,i,!0)},setMatrix3fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,s,e,i,!0)},setMatrix4fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,s,e,i,!0)},createProgram:function(s,e){s===void 0&&(s=this.vertSrc),e===void 0&&(e=this.fragSrc);var i=this.gl;return this.program&&i.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=e,this.program=this.renderer.createProgram(s,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});v.exports=r},71402:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=x},55478:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71402),c=t(98611),a={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};a=c(!1,a,l),v.exports=a},5583:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(91679),r=t(89053),s=t(71402),e=t(44775),i=new l({Extends:e,initialize:function(n){n.fragShader=c(n,"fragShader",a),n.vertShader=c(n,"vertShader",r),n.batchSize=c(n,"batchSize",1),n.vertices=c(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=c(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,n){e.prototype.resize.call(this,h,n),this.set2f("uResolution",h,n)},beginMask:function(h,n,o){this.renderer.beginBitmapMask(h,o)},endMask:function(h,n,o){var f=this.gl,u=this.renderer,d=h.bitmapMask;d&&f&&(u.drawBitmapMask(d,n,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),f.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});v.exports=i},81828:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(58136),a=t(47406),r=t(72632),s=t(87228),e=t(92462),i=t(75512),h=new l({Extends:s,initialize:function(o){o.shaders=[i.setGlowQuality(e.FXGlowFrag,o.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],s.call(this,o);var f=this.game;this.glow=new c.Glow(f),this.shadow=new c.Shadow(f),this.pixelate=new c.Pixelate(f),this.vignette=new c.Vignette(f),this.shine=new c.Shine(f),this.gradient=new c.Gradient(f),this.circle=new c.Circle(f),this.barrel=new c.Barrel(f),this.wipe=new c.Wipe(f),this.bokeh=new c.Bokeh(f);var u=[];u[a.GLOW]=this.onGlow,u[a.SHADOW]=this.onShadow,u[a.PIXELATE]=this.onPixelate,u[a.VIGNETTE]=this.onVignette,u[a.SHINE]=this.onShine,u[a.BLUR]=this.onBlur,u[a.GRADIENT]=this.onGradient,u[a.BLOOM]=this.onBloom,u[a.COLOR_MATRIX]=this.onColorMatrix,u[a.CIRCLE]=this.onCircle,u[a.BARREL]=this.onBarrel,u[a.DISPLACEMENT]=this.onDisplacement,u[a.WIPE]=this.onWipe,u[a.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(n,o,f){this.source=n,this.target=o,this.swap=f;var u=n.width,d=n.height,p=this.tempSprite,m=this.fxHandlers;if(p&&p.preFX)for(var y=p.preFX.list,g=0;g<y.length;g++){var T=y[g];T.active&&m[T.type].call(this,T,u,d)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,o=this.target;this.copy(n,o),this.source=o,this.target=n},onGlow:function(n,o,f){var u=this.shaders[a.GLOW];this.setShader(u),this.glow.onPreRender(n,u,o,f),this.runDraw()},onShadow:function(n){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(n,o),this.runDraw()},onPixelate:function(n,o,f){var u=this.shaders[a.PIXELATE];this.setShader(u),this.pixelate.onPreRender(n,u,o,f),this.runDraw()},onVignette:function(n){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(n,o),this.runDraw()},onShine:function(n,o,f){var u=this.shaders[a.SHINE];this.setShader(u),this.shine.onPreRender(n,u,o,f),this.runDraw()},onBlur:function(n,o,f){var u=r(n,"quality"),d=this.shaders[a.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,f),this.set1f("strength",r(n,"strength")),this.set3fv("color",r(n,"glcolor"));for(var p=r(n,"x"),m=r(n,"y"),y=r(n,"steps"),g=0;g<y;g++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(n){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(n,o),this.runDraw()},onBloom:function(n,o,f){var u=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",r(n,"blurStrength")),this.set3fv("color",r(n,"glcolor"));for(var d=2/o*r(n,"offsetX"),p=2/f*r(n,"offsetY"),m=r(n,"steps"),y=0;y<m;y++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,o,f){var u=this.shaders[a.CIRCLE];this.setShader(u),this.circle.onPreRender(n,u,o,f),this.runDraw()},onBarrel:function(n){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(n,o),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(n,o),this.runDraw()},onBokeh:function(n,o,f){var u=this.shaders[a.BOKEH];this.setShader(u),this.bokeh.onPreRender(n,u,o,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});v.exports=h},66901:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(65045),r=t(77310),s=t(69360),e=t(93736),i=t(44775),h=new l({Extends:r,initialize:function(o){var f=c(o,"fragShader",a);o.fragShader=f.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),r.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){i.prototype.boot.call(this);var n=this.gl,o=n.createTexture();n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(n,o){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(o),d=u.length;this.lightsActive=!0;var p,m=this.renderer,y=m.height,g=o.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var S=u[p].light,C=S.color,w="uLights["+p+"].";g.transformPoint(S.x,S.y,T),this.set2f(w+"position",T.x-o.scrollX*S.scrollFactorX*o.zoom,y-(T.y-o.scrollY*S.scrollFactorY*o.zoom)),this.set3f(w+"color",C.r,C.g,C.b),this.set1f(w+"intensity",S.intensity),this.set1f(w+"radius",S.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(n){var f=-n,u=Math.cos(f),d=Math.sin(f);o[1]=d,o[3]=-d,o[0]=o[4]=u}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=n}},setTexture2D:function(n,o){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var u=this.getNormalMap(o);this.isNewNormalMap(n,u)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(o&&o.parentContainer){var p=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else o&&(d=o.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(n,o){o===void 0&&(o=n.frame);var f=o.glTexture,u=this.getNormalMap(n);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),n.parentContainer){var d=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,o){return this.currentTexture!==n||this.currentNormalMap!==o},getNormalMap:function(n){var o;return n?n.displayTexture?o=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?o=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?o=n.tileset[0].image.dataSource[0]:o=n.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(n,o,f){this.lightsActive&&r.prototype.batchSprite.call(this,n,o,f)},batchTexture:function(n,o,f,u,d,p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H,j,J,X,W,L,G,z,k,K,$,Q,_){this.lightsActive&&r.prototype.batchTexture.call(this,n,o,f,u,d,p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H,j,J,X,W,L,G,z,k,K,$,Q,_)},batchTextureFrame:function(n,o,f,u,d,p,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,n,o,f,u,d,p,m)}});v.exports=h},71264:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(77310),r=t(85060),s=t(18166),e=t(71402),i=t(44775),h=new l({Extends:a,initialize:function(o){o.fragShader=c(o,"fragShader",r),o.vertShader=c(o,"vertShader",s),o.attributes=c(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,a.call(this,o)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=h},77310:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(11117),a=t(72632),r=t(53787),s=t(15968),e=t(69360),i=t(75512),h=t(71402),n=t(44775),o=new l({Extends:n,initialize:function(u){var d=u.game.renderer,p=a(u,"fragShader",r);u.fragShader=i.parseFragmentShaderMaxTextures(p,d.maxTextures),u.vertShader=a(u,"vertShader",s),u.attributes=a(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),n.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(f,u,d){this.manager.set(this,f);var p=this._tempMatrix1,m=this._tempMatrix2,y=this._tempMatrix3,g=f.frame,T=g.glTexture,S=g.u0,C=g.v0,w=g.u1,b=g.v1,A=g.x,D=g.y,B=g.cutWidth,N=g.cutHeight,Y=g.customPivot,H=f.displayOriginX,j=f.displayOriginY,J=-H+A,X=-j+D;if(f.isCropped){var W=f._crop;(W.flipX!==f.flipX||W.flipY!==f.flipY)&&g.updateCropUVs(W,f.flipX,f.flipY),S=W.u0,C=W.v0,w=W.u1,b=W.v1,B=W.width,N=W.height,A=W.x,D=W.y,J=-H+A,X=-j+D}var L=1,G=1;f.flipX&&(Y||(J+=-g.realWidth+H*2),L=-1),(f.flipY||g.source.isGLTexture&&!T.flipY)&&(Y||(X+=-g.realHeight+j*2),G=-1);var z=f.x,k=f.y;m.applyITRS(z,k,f.rotation,f.scaleX*L,f.scaleY*G),p.copyFrom(u.matrix),d?(p.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),m.e=z,m.f=k):(m.e-=u.scrollX*f.scrollFactorX,m.f-=u.scrollY*f.scrollFactorY),p.multiply(m,y);var K=y.setQuad(J,X,J+B,X+N,u.roundPixels),$=i.getTintAppendFloatAlpha,Q=u.alpha,_=$(f.tintTopLeft,Q*f._alphaTL),tt=$(f.tintTopRight,Q*f._alphaTR),nt=$(f.tintBottomLeft,Q*f._alphaBL),st=$(f.tintBottomRight,Q*f._alphaBR);this.shouldFlush(6)&&this.flush();var at=this.setGameObject(f,g);this.manager.preBatch(f),this.batchQuad(f,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],S,C,w,b,_,tt,nt,st,f.tintFill,T,at),this.manager.postBatch(f)},batchTexture:function(f,u,d,p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H,j,J,X,W,L,G,z,k,K,$,Q,_,tt,nt){this.manager.set(this,f);var st=this._tempMatrix1,at=this._tempMatrix2,rt=this._tempMatrix3,dt=H/d+K,mt=j/p+$,Tt=(H+J)/d+K,St=(j+X)/p+$,ft=g,vt=T,et=-N,ot=-Y;if(f.isCropped){var ut=f._crop,ct=ut.width,xt=ut.height;ft=ct,vt=xt,g=ct,T=xt,H=ut.x,j=ut.y;var wt=H,pt=j;b&&(wt=J-ut.x-ct),A&&(pt=X-ut.y-xt),dt=wt/d+K,mt=pt/p+$,Tt=(wt+ct)/d+K,St=(pt+xt)/p+$,et=-N+H,ot=-Y+j}A=A^(!tt&&u.isRenderTexture?1:0),b&&(ft*=-1,et+=g),A&&(vt*=-1,ot+=T),at.applyITRS(m,y,w,S,C),st.copyFrom(Q.matrix),_?(st.multiplyWithOffset(_,-Q.scrollX*D,-Q.scrollY*B),at.e=m,at.f=y):(at.e-=Q.scrollX*D,at.f-=Q.scrollY*B),st.multiply(at,rt);var Ct=rt.setQuad(et,ot,et+ft,ot+vt,Q.roundPixels);nt===void 0&&(nt=this.setTexture2D(u)),f&&this.manager.preBatch(f),this.batchQuad(f,Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5],Ct[6],Ct[7],dt,mt,Tt,St,W,L,G,z,k,u,nt),f&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,p,m,y,g){this.manager.set(this);var T=this._tempMatrix1.copyFrom(y),S=this._tempMatrix2;g?T.multiply(g,S):S=T;var C=S.setQuad(u,d,u+f.width,d+f.height,!1),w=this.setTexture2D(f.source.glTexture);p=i.getTintAppendFloatAlpha(p,m),this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],f.u0,f.v0,f.u1,f.v1,p,p,p,p,0,f.glTexture,w)},batchFillRect:function(f,u,d,p,m,y){this.renderer.pipelines.set(this);var g=this.calcMatrix;y&&y.multiply(m,g);var T=g.setQuad(f,u,f+d,u+p,!1),S=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,S.TL,S.TR,S.BL,S.BR,2)},batchFillTriangle:function(f,u,d,p,m,y,g,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(g,S);var C=S.getX(f,u),w=S.getY(f,u),b=S.getX(d,p),A=S.getY(d,p),D=S.getX(m,y),B=S.getY(m,y),N=this.fillTint;this.batchTri(null,C,w,b,A,D,B,0,0,1,1,N.TL,N.TR,N.BL,2)},batchStrokeTriangle:function(f,u,d,p,m,y,g,T,S){var C=this.tempTriangle;C[0].x=f,C[0].y=u,C[0].width=g,C[1].x=d,C[1].y=p,C[1].width=g,C[2].x=m,C[2].y=y,C[2].width=g,C[3].x=f,C[3].y=u,C[3].width=g,this.batchStrokePath(C,g,!1,T,S)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(u,p);for(var m=f.length,y=this.polygonCache,g,T,S=this.fillTint.TL,C=this.fillTint.TR,w=this.fillTint.BL,b=0;b<m;++b)T=f[b],y.push(T.x,T.y);g=c(y),m=g.length;for(var A=0;A<m;A+=3){var D=g[A+0]*2,B=g[A+1]*2,N=g[A+2]*2,Y=y[D+0],H=y[D+1],j=y[B+0],J=y[B+1],X=y[N+0],W=y[N+1],L=p.getX(Y,H),G=p.getY(Y,H),z=p.getX(j,J),k=p.getY(j,J),K=p.getX(X,W),$=p.getY(X,W);this.batchTri(null,L,G,z,k,K,$,0,0,1,1,S,C,w,2)}y.length=0},batchStrokePath:function(f,u,d,p,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=f.length-1,g=0;g<y;g++){var T=f[g],S=f[g+1];this.batchLine(T.x,T.y,S.x,S.y,T.width/2,S.width/2,u,g,!d&&g===y-1,p,m)}},batchLine:function(f,u,d,p,m,y,g,T,S,C,w){this.renderer.pipelines.set(this);var b=this.calcMatrix;w&&w.multiply(C,b);var A=d-f,D=p-u,B=Math.sqrt(A*A+D*D);if(B!==0){var N=m*(p-u)/B,Y=m*(f-d)/B,H=y*(p-u)/B,j=y*(f-d)/B,J=d-H,X=p-j,W=f-N,L=u-Y,G=d+H,z=p+j,k=f+N,K=u+Y,$=b.getX(J,X),Q=b.getY(J,X),_=b.getX(W,L),tt=b.getY(W,L),nt=b.getX(G,z),st=b.getY(G,z),at=b.getX(k,K),rt=b.getY(k,K),dt=this.strokeTint,mt=dt.TL,Tt=dt.TR,St=dt.BL,ft=dt.BR;if(this.batchQuad(null,at,rt,_,tt,$,Q,nt,st,0,0,1,1,mt,Tt,St,ft,2),!(g<=2)){var vt=this.prevQuad,et=this.firstQuad;T>0&&vt[4]?this.batchQuad(null,at,rt,_,tt,vt[0],vt[1],vt[2],vt[3],0,0,1,1,mt,Tt,St,ft,2):(et[0]=at,et[1]=rt,et[2]=_,et[3]=tt,et[4]=1),S&&et[4]?this.batchQuad(null,$,Q,nt,st,et[0],et[1],et[2],et[3],0,0,1,1,mt,Tt,St,ft,2):(vt[0]=$,vt[1]=Q,vt[2]=nt,vt[3]=st,vt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});v.exports=o},10919:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(83327),r=t(54677),s=t(44775),e=new l({Extends:s,initialize:function(h){h.vertShader=c(h,"vertShader",r),h.fragShader=c(h,"fragShader",a),h.attributes=c(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,h)},onRender:function(i,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(i,h,n,o,f,u,d,p,m,y,g,T){var S=i.color,C=i.intensity,w=i.radius,b=i.attenuation,A=S.r*C,D=S.g*C,B=S.b*C,N=h.alpha*i.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,o,g,T,w,b,A,D,B,N),this.batchLightVert(f,u,g,T,w,b,A,D,B,N),this.batchLightVert(d,p,g,T,w,b,A,D,B,N),this.batchLightVert(n,o,g,T,w,b,A,D,B,N),this.batchLightVert(d,p,g,T,w,b,A,D,B,N),this.batchLightVert(m,y,g,T,w,b,A,D,B,N),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(i,h,n,o,f,u,d,p,m,y){var g=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++T]=i,g[++T]=h,g[++T]=n,g[++T]=o,g[++T]=f,g[++T]=u,g[++T]=d,g[++T]=p,g[++T]=m,g[++T]=y,this.vertexCount++}});v.exports=e},80486:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(65246),a=t(72632),r=t(12569),s=t(99365),e=t(44775),i=new l({Extends:e,initialize:function(n){n.renderTarget=a(n,"renderTarget",1),n.fragShader=a(n,"fragShader",r),n.vertShader=a(n,"vertShader",s),n.attributes=a(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,n,o){o===void 0&&(o=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),o&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(h,n,o,f,u){this.manager.copyFrame(h,n,o,f,u)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,n,o){this.manager.drawFrame(h,n,o,this.colorMatrix)},blendFrames:function(h,n,o,f,u){this.manager.blendFrames(h,n,o,f,u)},blendFramesAdditive:function(h,n,o,f,u){this.manager.blendFramesAdditive(h,n,o,f,u)},clearFrame:function(h,n){this.manager.clearFrame(h,n)},blitFrame:function(h,n,o,f,u,d){this.manager.blitFrame(h,n,o,f,u,d)},copyFrameRect:function(h,n,o,f,u,d,p,m){this.manager.copyFrameRect(h,n,o,f,u,d,p,m)},bindAndDraw:function(h,n,o,f,u){o===void 0&&(o=!0),f===void 0&&(f=!0);var d=this.gl,p=this.renderer;this.bind(u),this.set1i("uMainSampler",0),n?(d.viewport(0,0,n.width,n.height),d.bindFramebuffer(d.FRAMEBUFFER,n.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n.texture,0),o&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),n&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});v.exports=i},87228:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(79993),a=t(56694),r=t(37486),s=t(72632),e=t(77310),i=t(12569),h=t(74118),n=t(37410),o=t(85060),f=t(18166),u=t(44775),d=new a({Extends:e,initialize:function(m){var y=s(m,"fragShader",i),g=s(m,"vertShader",f),T=s(m,"drawShader",i),S=[{name:"DrawSprite",fragShader:o,vertShader:f},{name:"CopySprite",fragShader:y,vertShader:g},{name:"DrawGame",fragShader:T,vertShader:f},{name:"ColorMatrix",fragShader:r}],C=s(m,"shaders",[]);m.shaders=S.concat(C),m.vertShader||(m.vertShader=g),m.batchSize=1,e.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var p=this.shaders,m=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new n(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var y=new ArrayBuffer(168);this.quadVertexData=y,this.quadVertexViewF32=new Float32Array(y),this.quadVertexBuffer=m.createVertexBuffer(y,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader},onResize:function(p,m){var y=this.quadVertexViewF32;y[1]=m,y[22]=m,y[14]=p,y[28]=p,y[35]=p,y[36]=m},batchQuad:function(p,m,y,g,T,S,C,w,b,A,D,B,N,Y,H,j,J,X,W){var L=Math.min(m,g,S,w),G=Math.min(y,T,C,b),z=Math.max(m,g,S,w),k=Math.max(y,T,C,b),K=z-L,$=k-G,Q=this.spriteBounds.setTo(L,G,K,$),_=p?p.preFX.padding:0,tt=K+_*2,nt=$+_*2,st=Math.abs(Math.max(tt,nt)),at=this.manager.getRenderTarget(st),rt=this.targetBounds.setTo(0,0,at.width,at.height);c(rt,Q.centerX,Q.centerY),this.tempSprite=p;var dt=this.gl,mt=this.renderer;mt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,at),p.preFX.onFX(this));var Tt=this.fsTarget;return this.flush(),dt.viewport(0,0,mt.width,mt.height),dt.bindFramebuffer(dt.FRAMEBUFFER,Tt.framebuffer),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,Tt.texture,0),dt.clearColor(0,0,0,0),dt.clear(dt.COLOR_BUFFER_BIT),this.setTexture2D(W),this.batchVert(m,y,A,D,0,X,Y),this.batchVert(g,T,A,N,0,X,j),this.batchVert(S,C,B,N,0,X,J),this.batchVert(m,y,A,D,0,X,Y),this.batchVert(S,C,B,N,0,X,J),this.batchVert(w,b,B,D,0,X,H),this.flush(),this.flipProjectionMatrix(!1),dt.activeTexture(dt.TEXTURE0),dt.bindTexture(dt.TEXTURE_2D,at.texture),dt.copyTexSubImage2D(dt.TEXTURE_2D,0,0,0,rt.x,rt.y,rt.width,rt.height),dt.bindFramebuffer(dt.FRAMEBUFFER,null),dt.bindTexture(dt.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(at,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,m,y,g,T,S,C){y===void 0&&(y=!0),g===void 0&&(g=!0),T===void 0&&(T=!1),C===void 0&&(C=this.copyShader);var w=this.gl,b=this.tempSprite;S&&(C=this.colorMatrixShader),this.currentShader=C;var A=this.setVertexBuffer(this.quadVertexBuffer);if(C.bind(A,!1),this.set1i("uMainSampler",0),b.preFX.onFXCopy(this),this.onCopySprite(p,m,b),S&&(this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture),p.height>m.height)w.viewport(0,0,p.width,p.height),this.setTargetUVs(p,m);else{var D=m.height-p.height;w.viewport(0,D,p.width,p.height),this.resetUVs()}if(w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture,0),y&&(w.clearColor(0,0,0,+!g),w.clear(w.COLOR_BUFFER_BIT)),T){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),T&&this.renderer.setBlendMode(B),w.bindFramebuffer(w.FRAMEBUFFER,null)},copy:function(p,m){var y=this.gl;this.set1i("uMainSampler",0),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,p.texture),y.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),y.bindFramebuffer(y.FRAMEBUFFER,m.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,m.texture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.quadVertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null)},blendFrames:function(p,m,y,g,T){this.manager.blendFrames(p,m,y,g,T)},blendFramesAdditive:function(p,m,y,g,T){this.manager.blendFramesAdditive(p,m,y,g,T)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var m=this.gl,y=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var g=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,S=this.targetBounds.y,C=T+p.width,w=S+p.height,b=g.getX(T,S),A=g.getX(T,w),D=g.getX(C,w),B=g.getX(C,S),N=g.getY(T,S),Y=g.getY(T,w),H=g.getY(C,w),j=g.getY(C,S),J=16777215;this.batchVert(b,N,0,0,0,0,J),this.batchVert(A,Y,0,1,0,0,J),this.batchVert(D,H,1,1,0,0,J),this.batchVert(b,N,0,0,0,0,J),this.batchVert(D,H,1,1,0,0,J),this.batchVert(B,j,1,0,0,0,J),y.restoreFramebuffer(!1,!0),y.currentFramebuffer||m.viewport(0,0,y.width,y.height),y.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,m,y,g,T,S,C,w){var b=this.quadVertexViewF32;b[2]=p,b[3]=m,b[9]=y,b[10]=g,b[16]=T,b[17]=S,b[23]=p,b[24]=m,b[30]=T,b[31]=S,b[37]=C,b[38]=w},setTargetUVs:function(p,m){var y=m.height/p.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=d},21213:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(77310),r=new l({Extends:a,initialize:function(e){e.topology=5,e.batchSize=c(e,"batchSize",256),a.call(this,e)}});v.exports=r},51212:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(77310),r=t(85060),s=t(18166),e=t(44775),i=new l({Extends:a,initialize:function(n){n.fragShader=c(n,"fragShader",r),n.vertShader=c(n,"vertShader",s),n.forceZero=!0,a.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=i},60848:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(2529),c=t(95723),a=t(56694),r=t(65246),s=t(37486),e=t(79060),i=t(72632),h=t(98921),n=t(99365),o=t(44775),f=new a({Extends:o,initialize:function(d){d.renderTarget=i(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=i(d,"vertShader",n),d.shaders=i(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:s}]),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,p,m,y){p===void 0&&(p=1),m===void 0&&(m=!0),y===void 0&&(y=!0);var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,u.texture),d?(g.viewport(0,0,d.width,d.height),g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture,0)):g.viewport(0,0,u.width,u.height),m&&(y?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT)),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blitFrame:function(u,d,p,m,y,g,T){p===void 0&&(p=1),m===void 0&&(m=!0),y===void 0&&(y=!0),g===void 0&&(g=!1),T===void 0&&(T=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,u.texture),u.height>d.height)S.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var C=d.height-u.height;S.viewport(0,C,u.width,u.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture,0),m&&(y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),g){var w=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}T&&this.flipY(),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),g&&this.renderer.setBlendMode(w),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,p,m,y,g,T,S){T===void 0&&(T=!0),S===void 0&&(S=!0);var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,u.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,u.texture,0),T&&(S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture),C.copyTexSubImage2D(C.TEXTURE_2D,0,0,0,p,m,y,g),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,p,m){p===void 0&&(p=!0),m===void 0&&(m=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,u.texture),d?(y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d.texture,0)):y.viewport(0,0,u.width,u.height),p?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(u,d,p,m,y,g){m===void 0&&(m=1),y===void 0&&(y=!0),g===void 0&&(g=this.linearShader);var T=this.gl;this.setShader(g),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,d.texture),p?(T.bindFramebuffer(T.FRAMEBUFFER,p.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,p.texture,0),T.viewport(0,0,p.width,p.height)):T.viewport(0,0,u.width,u.height),y?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,p,m,y){this.blendFrames(u,d,p,m,y,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,u.width,u.height),p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,m)},setUVs:function(u,d,p,m,y,g,T,S){var C=this.vertexViewF32;C[2]=u,C[3]=d,C[6]=p,C[7]=m,C[10]=y,C[11]=g,C[14]=u,C[15]=d,C[18]=y,C[19]=g,C[22]=T,C[23]=S},setTargetUVs:function(u,d){var p=d.height/u.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=f},65641:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=x},68726:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},67186:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},22709:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},74469:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},93953:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},51687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},25034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},18970:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(87751),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(s,e){s=this.getController(s),this.set1f("amount",s.amount,e)}});v.exports=r},2134:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(88222),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1,h=this.fullFrame2;this.copyFrame(s,h);for(var n=2/s.width*e.offsetX,o=2/s.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(s,i),this.set2f("offset",0,o),this.copySprite(i,s);this.blendFrames(h,s,i,e.strength),this.copyToGame(i)}});v.exports=r},63377:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(35491),a=t(75568),r=t(44481),s=t(80486),e=new l({Extends:s,initialize:function(h){s.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(i){var h=this.getController(),n=this.gl,o=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.activeShader),n.activeTexture(n.TEXTURE0),n.viewport(0,0,i.width,i.height),this.set1i("uMainSampler",0),this.set2f("resolution",i.width,i.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var u=0;u<h.steps;u++)this.set2f("offset",h.x,0),this.copySprite(i,o),this.set2f("offset",0,h.y),this.copySprite(o,i);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(i)}});v.exports=e},49745:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(69960),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,e,i,h){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("amount",s.amount,e),this.set1f("contrast",s.contrast,e),this.set1f("strength",s.strength,e),this.set2f("blur",s.blurX,s.blurY,e),this.setBoolean("isTiltShift",s.isTiltShift,e),i&&h&&this.set2f("resolution",i,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=r},4323:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(33754),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,e,i,h){s=this.getController(s),this.set1f("scale",s.scale,e),this.set1f("feather",s.feather,e),this.set1f("thickness",s.thickness,e),this.set3fv("color",s.glcolor,e),this.set4fv("backgroundColor",s.glcolor2,e),i&&h&&this.set2f("resolution",i,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=r},92066:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(80486),a=new l({Extends:c,initialize:function(s){c.call(this,{game:s})},onDraw:function(r){var s=this.fullFrame1;this.controller?this.manager.drawFrame(r,s,!0,this.controller):this.drawFrame(r,s),this.copyToGame(s)}});v.exports=a},89581:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(35668),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var e=this.game.textures.getFrame(s);e&&(this.glTexture=e.glTexture)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(s,i),this.copyToGame(i)}});v.exports=r},55084:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=t(69675),r=t(80486),s=t(75512),e=new l({Extends:r,initialize:function(h,n){var o=c(n,"quality",.1),f=c(n,"distance",10);r.call(this,{game:h,fragShader:s.setGlowQuality(a,h,o,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(i,h,n,o){i=this.getController(i),this.set1f("outerStrength",i.outerStrength,h),this.set1f("innerStrength",i.innerStrength,h),this.set4fv("glowColor",i.glcolor,h),this.setBoolean("knockout",i.knockout,h),n&&o&&this.set2f("resolution",n,o,h)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=e},41653:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(90993),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,e){s=this.getController(s),this.set1f("alpha",s.alpha,e),this.set1i("size",s.size,e),this.set3fv("color1",s.glcolor1,e),this.set3fv("color2",s.glcolor2,e),this.set2f("positionFrom",s.fromX,s.fromY,e),this.set2f("positionTo",s.toX,s.toY,e)}});v.exports=r},73416:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(37945),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(s,e,i,h){s=this.getController(s),this.set1f("amount",s.amount,e),i&&h&&this.set2f("resolution",i,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=r},58049:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(85718),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,e){s=this.getController(s);var i=s.samples;this.set1i("samples",i,e),this.set1f("intensity",s.intensity,e),this.set1f("decay",s.decay,e),this.set1f("power",s.power/i,e),this.set2f("lightPosition",s.x,s.y,e),this.set4fv("color",s.glcolor,e)}});v.exports=r},18026:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(13740),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,e,i,h){s=this.getController(s),this.setTime("time",e),this.set1f("speed",s.speed,e),this.set1f("lineWidth",s.lineWidth,e),this.set1f("gradient",s.gradient,e),this.setBoolean("reveal",s.reveal,e),i&&h&&this.set2f("resolution",i,h,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=r},72381:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(80617),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,e){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("strength",s.strength,e),this.set2f("position",s.x,s.y,e)}});v.exports=r},80542:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(62879),a=t(80486),r=new l({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,e){s=this.getController(s);var i=s.progress,h=s.wipeWidth,n=s.direction,o=s.axis;this.set4f("config",i,h,n,o,e),this.setBoolean("reveal",s.reveal,e)}});v.exports=r},58136:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};v.exports=l},62253:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65641),c=t(98611),a={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};a=c(!1,a,l),v.exports=a},2529:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(55301),c=t(56694),a=t(6659),r=t(40444),s=t(97081),e=t(74181),i=t(2893),h=t(9229),n=t(72283),o=t(74118),f=t(90881),u=t(84314),d=t(93736),p=t(47751),m=new c({Extends:a,initialize:function(g){a.call(this),this.game=g,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var y=this.game;this.canvas=y.canvas,this.fullscreen=y.device.fullscreen,this.scaleMode!==l.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),y.events.on(s.PRE_STEP,this.step,this),y.events.once(s.READY,this.refresh,this),y.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(y){this.getParent(y),this.getParentBounds();var g=y.width,T=y.height,S=y.scaleMode,C=y.zoom,w=y.autoRound;if(typeof g=="string"){var b=this.parentSize.width;b===0&&(b=window.innerWidth);var A=parseInt(g,10)/100;g=Math.floor(b*A)}if(typeof T=="string"){var D=this.parentSize.height;D===0&&(D=window.innerHeight);var B=parseInt(T,10)/100;T=Math.floor(D*B)}this.scaleMode=S,this.autoRound=w,this.autoCenter=y.autoCenter,this.resizeInterval=y.resizeInterval,w&&(g=Math.floor(g),T=Math.floor(T)),this.gameSize.setSize(g,T),C===l.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(g,T),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),y.minWidth>0&&this.displaySize.setMin(y.minWidth*C,y.minHeight*C),y.maxWidth>0&&this.displaySize.setMax(y.maxWidth*C,y.maxHeight*C),this.displaySize.setSize(g,T),this.orientation=h(g,T)},getParent:function(y){var g=y.parent;if(g!==null){if(this.parent=i(g),this.parentIsWindow=this.parent===document.body,y.expandParent&&y.scaleMode!==l.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}y.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=i(y.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var y=this.parentSize,g=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(g.height=e(!0));var T=g.width,S=g.height;if(y.width!==T||y.height!==S)return y.setSize(T,S),!0;if(this.canvas){var C=this.canvasBounds,w=this.canvas.getBoundingClientRect();if(w.x!==C.x||w.y!==C.y)return!0}return!1},lockOrientation:function(y){var g=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return g?g.call(screen,y):!1},setParentSize:function(y,g){return this.parentSize.setSize(y,g),this.refresh()},setGameSize:function(y,g){var T=this.autoRound;T&&(y=Math.floor(y),g=Math.floor(g));var S=this.width,C=this.height;return this.gameSize.resize(y,g),this.baseSize.resize(y,g),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(y/g),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,C)},resize:function(y,g){var T=this.zoom,S=this.autoRound;S&&(y=Math.floor(y),g=Math.floor(g));var C=this.width,w=this.height;this.gameSize.resize(y,g),this.baseSize.resize(y,g),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(y*T,g*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var b=this.canvas.style,A=y*T,D=g*T;return S&&(A=Math.floor(A),D=Math.floor(D)),(A!==y||D!==g)&&(b.width=A+"px",b.height=D+"px"),this.refresh(C,w)},setZoom:function(y){return this.zoom=y,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(y,g){y===void 0&&(y=this.width),g===void 0&&(g=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var S=this.canvas.style,C=T.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=S.marginLeft,C.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,y,g),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var y=h(this.width,this.height);y!==this.orientation&&(this.orientation=y,this.emit(r.ORIENTATION_CHANGE,y))}},updateScale:function(){var y=this.canvas.style,g=this.gameSize.width,T=this.gameSize.height,S,C,w=this.zoom,b=this.autoRound;this.scaleMode===l.SCALE_MODE.NONE?(this.displaySize.setSize(g*w,T*w),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),this._resetZoom&&(y.width=S+"px",y.height=C+"px",this._resetZoom=!1)):this.scaleMode===l.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,b&&(S=Math.floor(S),C=Math.floor(C)),y.width=S+"px",y.height=C+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var y=u(this.parentSize.width,this.gameSize.width,0,!0),g=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(y,g),1)},updateCenter:function(){var y=this.autoCenter;if(y!==l.CENTER.NO_CENTER){var g=this.canvas,T=g.style,S=g.getBoundingClientRect(),C=S.width,w=S.height,b=Math.floor((this.parentSize.width-C)/2),A=Math.floor((this.parentSize.height-w)/2);y===l.CENTER.CENTER_HORIZONTALLY?A=0:y===l.CENTER.CENTER_VERTICALLY&&(b=0),T.marginLeft=b+"px",T.marginTop=A+"px"}},updateBounds:function(){var y=this.canvasBounds,g=this.canvas.getBoundingClientRect();y.x=g.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),y.y=g.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),y.width=g.width,y.height=g.height},transformX:function(y){return(y-this.canvasBounds.left)*this.displayScale.x},transformY:function(y){return(y-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(y){y===void 0&&(y={navigationUI:"hide"});var g=this.fullscreen;if(!g.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!g.active){var T=this.getFullscreenTarget();g.keyboard?T[g.request](Element.ALLOW_KEYBOARD_INPUT):T[g.request](y)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(y){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,y)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var y=document.createElement("div");y.style.margin="0",y.style.padding="0",y.style.width="100%",y.style.height="100%",this.fullscreenTarget=y,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var g=this.canvas.parentNode;g.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var y=this.fullscreenTarget;if(y&&y.parentNode){var g=y.parentNode;g.insertBefore(this.canvas,y),g.removeChild(y)}}},stopFullscreen:function(){var y=this.fullscreen;if(!y.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;y.active&&document[y.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(y){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(y)},startListeners:function(){var y=this,g=this.domlisteners;if(g.orientationChange=function(){y.updateBounds(),y._checkOrientation=!0,y.dirty=!0},g.windowResize=function(){y.updateBounds(),y.dirty=!0},window.addEventListener("orientationchange",g.orientationChange,!1),window.addEventListener("resize",g.windowResize,!1),this.fullscreen.available){g.fullScreenChange=function(S){return y.onFullScreenChange(S)},g.fullScreenError=function(S){return y.onFullScreenError(S)};var T=["webkit","moz",""];T.forEach(function(S){document.addEventListener(S+"fullscreenchange",g.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",g.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.addEventListener("MSFullscreenError",g.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(y,g){y instanceof p||(g=y,y=void 0),g===void 0&&(g=new o);var T=this.baseSize,S=this.parentSize,C=this.canvasBounds,w=this.displayScale,b=C.x>=0?0:-(C.x*w.x),A=C.y>=0?0:-(C.y*w.y),D;S.width>=C.width?D=T.width:D=T.width-(C.width-S.width)*w.x;var B;return S.height>=C.height?B=T.height:B=T.height-(C.height-S.height)*w.y,g.setTo(b,A,D,B),y&&(g.width/=y.zoomX,g.height/=y.zoomY,g.centerX=y.centerX+y.scrollX,g.centerY=y.centerY+y.scrollY),g},step:function(y,g){this.parent&&(this._lastCheck+=g,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var y=this.domlisteners;window.removeEventListener("orientationchange",y.orientationChange,!1),window.removeEventListener("resize",y.windowResize,!1);var g=["webkit","moz",""];g.forEach(function(T){document.removeEventListener(T+"fullscreenchange",y.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",y.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",y.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=m},35098:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};v.exports=l},82085:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},11826:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},56691:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},34739:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},26681:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},11428:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},40444:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=t(55301),a={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};a=l(!1,a,c.CENTER),a=l(!1,a,c.ORIENTATION),a=l(!1,a,c.SCALE_MODE),a=l(!1,a,c.ZOOM),v.exports=a},47736:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=t(40587),a=function(r){var s=r.game.config.defaultPhysicsSystem,e=l(r.settings,"physics",!1);if(!(!s&&!e)){var i=[];if(s&&i.push(c(s+"Physics")),e)for(var h in e)h=c(h.concat("Physics")),i.indexOf(h)===-1&&i.push(h);return i}};v.exports=a},91088:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=function(a){var r=a.plugins.getDefaultScenePlugins(),s=l(a.settings,"plugins",!1);return Array.isArray(s)?s:r||[]};v.exports=c},90415:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=x},87157:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(63946),a=new l({initialize:function(s){this.sys=new c(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},13553:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(92980),a=t(7599),r=t(97081),s=t(10850),e=t(683),i=t(72283),h=t(87157),n=t(63946),o=new l({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}u.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h);var f,u,d,p;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,p=u.scene;var m;p instanceof h?m=this.createSceneFromInstance(d,p):typeof p=="object"?m=this.createSceneFromObject(d,p):typeof p=="function"&&(m=this.createSceneFromFunction(d,p)),d=m.sys.settings.key,this.keys[d]=m,this.scenes.push(m),this._data[d]&&(m.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||m.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,p;if(f){for(d=0;d<f;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(f,u,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:p}),this.isBooted||(this._data[f]={data:p}),null;f=this.getKey(f,u);var m;return u instanceof h?m=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,m=this.createSceneFromObject(f,u)):typeof u=="function"&&(m=this.createSceneFromFunction(f,u)),m.sys.settings.data=p,f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),(d||m.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),m},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),p=u.sys.settings.key;d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=i,f.init&&(f.init.call(f,d.data),d.status=c.INIT,d.isTransition&&u.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;u.load&&(p=u.load,p.reset()),p&&f.preload?(f.preload.call(f),d.status=c.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>c.START&&p.settings.status<=c.RUNNING&&p.step(f,u),p.scenePlugin._target&&p.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=c.LOADING&&d.settings.status<c.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=c.CREATING,f.create.call(f,d.data),d.status===c.DESTROYED)||(d.isTransition&&u.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=c.RUNNING,u.events.emit(a.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof h){var p=d.sys.settings.key;if(p!==""&&(f=p),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new n(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new h(u),p=d.sys.settings.key;p!==""?f=p:d.sys.settings.key=f,d.sys.init(this.game);for(var m=["init","preload","create","update","render"],y=0;y<m.length;y++){var g=s(u,m[y],null);g&&(d[m[y]]=g)}if(u.hasOwnProperty("extend")){for(var T in u.extend)if(u.extend.hasOwnProperty(T)){var S=u.extend[T];T==="data"&&d.hasOwnProperty("data")&&typeof S=="object"?d.data.merge(S):T!=="sys"&&(d[T]=S)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof h?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],p=this.scenes,m=0;m<p.length;m++){var y=p[m];y&&(!f||f&&y.sys.isActive())&&d.push(y)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var p=d.sys,m=p.settings.status;if(m>=c.START&&m<=c.CREATING)return this;if(m>=c.RUNNING&&m<=c.SLEEPING)p.shutdown(),p.sceneUpdate=i,p.start(u);else{p.sceneUpdate=i,p.start(u);var y;if(p.load&&(y=p.load),y&&p.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:p.settings.pack})))return p.settings.status=c.LOADING,y.once(e.COMPLETE,this.payloadComplete,this),y.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==c.SHUTDOWN){var p=d.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),p=this.getScene(u);return d&&p&&d!==p&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,p=this.getScene(f),m=this.getAt(d);this.scenes[u]=m,this.scenes[d]=p}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,p=this.getScene(f),m=this.getAt(d);this.scenes[u]=m,this.scenes[d]=p}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==-1&&p!==-1&&p<d){var m=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,m)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==-1&&p!==-1&&p>d){var m=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(m):this.scenes.splice(d-(p<d),0,m)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),p=this.getIndex(u);if(d!==p&&d!==-1&&p!==-1){var m=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=m}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,m=p.settings.visible&&(p.settings.status===c.RUNNING||p.settings.status===c.PAUSED)?"[*] ":"[-] ";m+=p.settings.key+" ("+u[p.settings.status]+")",f.push(m)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=o},64051:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(7599),r=t(72632),s=t(91963),e=new c({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",i,h),this},restart:function(i){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,i),this},transition:function(i){i===void 0&&(i={});var h=r(i,"target",!1),n=this.manager.getScene(h);if(!h||!this.checkValidTransition(n))return!1;var o=r(i,"duration",1e3);this._elapsed=0,this._target=n,this._duration=o,this._willSleep=r(i,"sleep",!1),this._willRemove=r(i,"remove",!1);var f=r(i,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=r(i,"onUpdateScope",this.scene));var u=r(i,"allowInput",!1);this.settings.transitionAllowInput=u;var d=n.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=u,r(i,"moveAbove",!1)?this.manager.moveAbove(this.key,h):r(i,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),n.sys.isSleeping()?n.sys.wake(r(i,"data")):this.manager.start(h,r(i,"data"));var p=r(i,"onStart",null),m=r(i,"onStartScope",this.scene);return p&&p.call(m,this.scene,n,o),this.systems.events.emit(a.TRANSITION_OUT,n,o),!0},checkValidTransition:function(i){return!(!i||i.sys.isActive()||i.sys.isTransitioning()||i===this.scene||this.systems.isTransitioning())},step:function(i,h){this._elapsed+=h,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var i=this._target.sys,h=this._target.sys.settings;i.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(i,h,n,o){return this.manager.add(i,h,n,o)},launch:function(i,h){return i&&i!==this.key&&this.manager.queueOp("start",i,h),this},run:function(i,h){return i&&i!==this.key&&this.manager.queueOp("run",i,h),this},pause:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("pause",i,h),this},resume:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("resume",i,h),this},sleep:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("sleep",i,h),this},wake:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("wake",i,h),this},switch:function(i){return i!==this.key&&this.manager.queueOp("switch",this.key,i),this},stop:function(i,h){return i===void 0&&(i=this.key),this.manager.queueOp("stop",i,h),this},setActive:function(i,h,n){h===void 0&&(h=this.key);var o=this.manager.getScene(h);return o&&o.sys.setActive(i,n),this},setVisible:function(i,h){h===void 0&&(h=this.key);var n=this.manager.getScene(h);return n&&n.sys.setVisible(i),this},isSleeping:function(i){return i===void 0&&(i=this.key),this.manager.isSleeping(i)},isActive:function(i){return i===void 0&&(i=this.key),this.manager.isActive(i)},isPaused:function(i){return i===void 0&&(i=this.key),this.manager.isPaused(i)},isVisible:function(i){return i===void 0&&(i=this.key),this.manager.isVisible(i)},swapPosition:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.swapPosition(i,h),this},moveAbove:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.moveAbove(i,h),this},moveBelow:function(i,h){return h===void 0&&(h=this.key),i!==h&&this.manager.moveBelow(i,h),this},remove:function(i){return i===void 0&&(i=this.key),this.manager.remove(i),this},moveUp:function(i){return i===void 0&&(i=this.key),this.manager.moveUp(i),this},moveDown:function(i){return i===void 0&&(i=this.key),this.manager.moveDown(i),this},bringToTop:function(i){return i===void 0&&(i=this.key),this.manager.bringToTop(i),this},sendToBack:function(i){return i===void 0&&(i=this.key),this.manager.sendToBack(i),this},get:function(i){return this.manager.getScene(i)},getStatus:function(i){var h=this.manager.getScene(i);if(h)return h.sys.getStatus()},getIndex:function(i){return i===void 0&&(i=this.key),this.manager.getIndex(i)},shutdown:function(){var i=this.systems.events;i.off(a.SHUTDOWN,this.shutdown,this),i.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",e,"scenePlugin"),v.exports=e},36765:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92980),c=t(10850),a=t(30657),r=t(90415),s={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:l.PENDING,key:c(e,"key",""),active:c(e,"active",!1),visible:c(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(e,"pack",!1),cameras:c(e,"cameras",null),map:c(e,"map",a(r,c(e,"mapAdd",{}))),physics:c(e,"physics",{}),loader:c(e,"loader",{}),plugins:c(e,"plugins",!1),input:c(e,"input",{})}}};v.exports=s},63946:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(92980),a=t(18360),r=t(7599),s=t(47736),e=t(91088),i=t(72283),h=t(36765),n=new l({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=h.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=i},init:function(o){this.settings.status=c.INIT,this.sceneUpdate=i,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var f=o.plugins;this.plugins=f,f.addToScene(this,a.Global,[a.CoreScene,e(this),s(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(o,f){var u=this.events;u.emit(r.PRE_UPDATE,o,f),u.emit(r.UPDATE,o,f),this.sceneUpdate.call(this.scene,o,f),u.emit(r.POST_UPDATE,o,f)},render:function(o){var f=this.displayList;f.depthSort(),this.events.emit(r.PRE_RENDER,o),this.cameras.render(o,f),this.events.emit(r.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var f=this.settings,u=this.getStatus();return u!==c.CREATING&&u!==c.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=c.PAUSED,f.active=!1,this.events.emit(r.PAUSE,this,o)),this},resume:function(o){var f=this.events,u=this.settings;return this.settings.active||(u.status=c.RUNNING,u.active=!0,f.emit(r.RESUME,this,o)),this},sleep:function(o){var f=this.settings,u=this.getStatus();return u!==c.CREATING&&u!==c.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=c.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(r.SLEEP,this,o)),this},wake:function(o){var f=this.events,u=this.settings;return u.status=c.RUNNING,u.active=!0,u.visible=!0,f.emit(r.WAKE,this,o),u.isTransition&&f.emit(r.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>c.PENDING&&o<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,f){return o?this.resume(f):this.pause(f)},start:function(o){var f=this.events,u=this.settings;o&&(u.data=o),u.status=c.START,u.active=!0,u.visible=!0,f.emit(r.START,this),f.emit(r.READY,this,o)},shutdown:function(o){var f=this.events,u=this.settings;f.off(r.TRANSITION_INIT),f.off(r.TRANSITION_START),f.off(r.TRANSITION_COMPLETE),f.off(r.TRANSITION_OUT),u.status=c.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(r.SHUTDOWN,this,o)},destroy:function(){var o=this.events,f=this.settings;f.status=c.DESTROYED,f.active=!1,f.visible=!1,o.emit(r.DESTROY,this),o.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});v.exports=n},92980:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=x},31803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},94817:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},28977:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},91959:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},363:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},15643:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},17058:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},77125:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},76018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},28620:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},41538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},34268:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},2342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},96541:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},74244:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},17046:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},13637:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},14733:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},33899:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},52418:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},31735:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8470:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},7599:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(92980),c=t(98611),a={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};a=c(!1,a,l),v.exports=a},25798:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(76038),r=t(98611),s=t(72283),e=new l({Extends:c,initialize:function(h,n,o){c.call(this),this.manager=h,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(console.error("addMarker "+i.name+" already exists in Sound"),!1):(i=r(!0,{name:"",start:0,duration:this.totalDuration-(i.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},i),this.markers[i.name]=i,!0)},updateMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(this.markers[i.name]=r(!0,this.markers[i.name],i),!0):(console.warn("Audio Marker: "+i.name+" missing in Sound: "+this.key),!1)},removeMarker:function(i){var h=this.markers[i];return h?(this.markers[i]=null,h):null},play:function(i,h){if(i===void 0&&(i=""),typeof i=="object"&&(h=i,i=""),typeof i!="string")return!1;if(!i)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[i])return console.warn("Marker: "+i+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[i],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var i=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,n=Math.pow(i,h);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},12486:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(32742),a=t(6659),r=t(76038),s=t(97081),e=t(71608),i=t(51463),h=t(72283),n=t(93736),o=new l({Extends:a,initialize:function(u){a.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,u.events.on(s.BLUR,this.onGameBlur,this),u.events.on(s.FOCUS,this.onGameFocus,this),u.events.on(s.PRE_STEP,this.update,this),u.events.once(s.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var m=c(u),y=d.spritemap[p];m.loop=y.hasOwnProperty("loop")?y.loop:!1,d.addMarker({name:p,start:y.start,duration:y.end-y.start,config:m})}return d},get:function(f){return i(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(r.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var p=this.addAudioSprite(f);return p.once(r.COMPLETE,p.destroy,p),p.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===f&&(p.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(f,u)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(p,m){p&&!p.pendingRemove&&f.call(u||d,p,m,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});v.exports=o},84191:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(27622),c=t(17546),a=t(55491),r={create:function(s){var e=s.config.audio,i=s.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new c(s):i.webAudio&&!e.disableWebAudio?new a(s):new l(s)}};v.exports=r},77578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},19679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},56951:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},16436:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},55154:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},57818:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},57890:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},83022:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},99170:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},64289:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},67214:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},53128:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},73078:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},76763:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},88426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},13765:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},80291:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},11124:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},55382:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},71157:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},31776:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},39450:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},21939:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},33019:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},76038:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),c=t(56694),a=t(76038),r=t(82897),s=new c({Extends:l,initialize:function(i,h,n){if(n===void 0&&(n={}),this.tags=i.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,i,h,n)},play:function(e,i){return this.manager.isLocked(this,"play",[e,i])||!l.prototype.play.call(this,e,i)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,i=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),i===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+i*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var i=this.tags[e];if(i.dataset.used==="false")return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&h.push(o)},this),h.sort(function(o,f){return o.loop===f.loop?f.seek/f.duration-o.seek/o.duration:o.loop?1:-1});var n=h[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(i){console.warn(i)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,h=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=h-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-h),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(a.LOOPED,this);else if(n>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=n}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=s},27622:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12486),c=t(56694),a=t(76038),r=t(34350),s=new c({Extends:l,initialize:function(i){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,i)},add:function(e,i){var h=new r(this,e,i);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var i=!1,h=function(){i=!0},n=function(){if(i){i=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",n);var o=[];if(e.game.cache.audio.entries.each(function(u,d){for(var p=0;p<d.length;p++){var m=d[p];m.dataset.locked==="true"&&o.push(m)}return!0}),o.length!==0){var f=o[o.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,o.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(u){u.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,i,h){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:i,value:h}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(i){i.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(i){i.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=s},56751:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),c=t(56694),a=t(6659),r=t(98611),s=t(72283),e=function(){return!1},i=function(){return null},h=function(){return this},n=new c({Extends:a,initialize:function(f,u,d){d===void 0&&(d={}),a.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:i,play:e,pause:e,resume:e,stop:e,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:i,resetConfig:i,update:s,calculateRate:i,destroy:function(){l.prototype.destroy.call(this)}});v.exports=n},17546:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12486),c=t(56694),a=t(6659),r=t(38662),s=t(72283),e=new c({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(i,h){var n=new r(this,i,h);return this.sounds.push(n),n},addAudioSprite:function(i,h){var n=this.add(i,h);return n.spritemap={},n},get:function(i){return l.prototype.get.call(this,i)},getAll:function(i){return l.prototype.getAll.call(this,i)},play:function(i,h){return!1},playAudioSprite:function(i,h,n){return!1},remove:function(i){return l.prototype.remove.call(this,i)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(i){return l.prototype.removeByKey.call(this,i)},stopByKey:function(i){return l.prototype.stopByKey.call(this,i)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(i,h){l.prototype.forEachActiveSound.call(this,i,h)},destroy:function(){l.prototype.destroy.call(this)}});v.exports=e},96008:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(25798),c=t(56694),a=t(76038),r=t(72632),s=new c({Extends:l,initialize:function(i,h,n){if(n===void 0&&(n={}),this.audioBuffer=i.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createPanner&&(this.spatialNode=i.context.createPanner(),this.volumeNode.connect(this.spatialNode)),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),i.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):i.context.createPanner?this.spatialNode.connect(i.destination):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,i,h,n)},play:function(e,i){return l.prototype.play.call(this,e,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,i=this.currentConfig.delay,h=this.manager.context.currentTime+i,n=(this.currentMarker?this.currentMarker.start:0)+e,o=this.duration-e;this.playTime=h-e,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,n),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,i),Math.max(0,h))},createBufferSource:function(){var e=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(h){h.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var i=this.spatialNode;i.panningModel=r(e,"panningModel","equalpower"),i.distanceModel=r(e,"distanceModel","inverse"),i.orientationX.value=r(e,"orientationX",0),i.orientationY.value=r(e,"orientationY",0),i.orientationZ.value=r(e,"orientationZ",-1),i.refDistance=r(e,"refDistance",1),i.maxDistance=r(e,"maxDistance",1e4),i.rolloffFactor=r(e,"rolloffFactor",1),i.coneInnerAngle=r(e,"coneInnerAngle",360),i.coneOuterAngle=r(e,"coneOuterAngle",0),i.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(i.positionX.value=r(e,"x",0),i.positionY.value=r(e,"y",0),i.positionZ.value=r(e,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),i=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),i&&i!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=i)}this.hasEnded?(this.hasEnded=!1,l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,i=0;i<this.rateUpdates.length;i++){var h=0;i<this.rateUpdates.length-1?h=this.rateUpdates[i+1].time:h=this.manager.context.currentTime-this.playTime,e+=(h-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return e},getLoopTime:function(){for(var e=0,i=0;i<this.rateUpdates.length-1;i++)e+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-e)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=s},55491:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82329),c=t(12486),a=t(56694),r=t(76038),s=t(97081),e=t(96008),i=t(72632),h=new a({Extends:c,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(n){var o=n.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,o){var f=new e(this,n,o);return this.sounds.push(f),f},decodeAudio:function(n,o){var f;Array.isArray(n)?f=n:f=[{key:n,data:o}];for(var u=this.game.cache.audio,d=f.length,p=0;p<f.length;p++){var m=f[p],y=m.key,g=m.data;typeof g=="string"&&(g=l(g));var T=function(C,w){u.add(C,w),this.emit(r.DECODED,C),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,y),S=function(C,w){console.error("Error decoding audio: "+C+" - ",w?w.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,y);this.context.decodeAudioData(g,T,S)}},setListenerPosition:function(n,o){return n===void 0&&(n=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(n,o),this},unlock:function(){var n=this,o=document.body,f=function u(){if(n.context&&o){var d=o.removeEventListener;n.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),n.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};o&&(o.addEventListener("touchstart",f,!1),o.addEventListener("touchend",f,!1),o.addEventListener("click",f,!1),o.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,o){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=i(this.listenerPosition,"x",null),d=i(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}c.prototype.update.call(this,n,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}c.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(r.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(r.GLOBAL_VOLUME,this,n)}}});v.exports=h},71207:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(59959),c=t(56694),a=t(72283),r=t(17922),s=new c({initialize:function(i){this.parent=i,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,i){return i?l.Add(this.list,e):l.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,i,h){return h?l.AddAt(this.list,e,i):l.AddAt(this.list,e,i,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,i){return e?(i===void 0&&(i=function(h,n){return h[e]-n[e]}),r(this.list,i),this):this},getByName:function(e){return l.GetFirst(this.list,"name",e)},getRandom:function(e,i){return l.GetRandom(this.list,e,i)},getFirst:function(e,i,h,n){return l.GetFirst(this.list,e,i,h,n)},getAll:function(e,i,h,n){return l.GetAll(this.list,e,i,h,n)},count:function(e,i){return l.CountAllMatching(this.list,e,i)},swap:function(e,i){l.Swap(this.list,e,i)},moveTo:function(e,i){return l.MoveTo(this.list,e,i)},moveAbove:function(e,i){return l.MoveAbove(this.list,e,i)},moveBelow:function(e,i){return l.MoveBelow(this.list,e,i)},remove:function(e,i){return i?l.Remove(this.list,e):l.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,i){return i?l.RemoveAt(this.list,e):l.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,i,h){return h?l.RemoveBetween(this.list,e,i):l.RemoveBetween(this.list,e,i,this.removeCallback,this)},removeAll:function(e){for(var i=this.list.length;i--;)this.remove(this.list[i],e);return this},bringToTop:function(e){return l.BringToTop(this.list,e)},sendToBack:function(e){return l.SendToBack(this.list,e)},moveUp:function(e){return l.MoveUp(this.list,e),e},moveDown:function(e){return l.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(e,i){return l.Replace(this.list,e,i)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,i,h,n){return l.SetAll(this.list,e,i,h,n),this},each:function(e,i){for(var h=[null],n=2;n<arguments.length;n++)h.push(arguments[n]);for(n=0;n<this.list.length;n++)h[0]=this.list[n],e.apply(i,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=s},33885:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s][0],r[s][1])},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var s in r)if(a(s,r[s])===!1)break;return this},contains:function(a){var r=this.entries;for(var s in r)if(r[s]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var s=this.entries,e=a.entries;for(var i in e)s.hasOwnProperty(i)&&r?s[i]=e[i]:this.set(i,e[i]);return this}});v.exports=c},74623:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(36716),r=new l({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var e=this._pending,i=e.indexOf(s);i!==-1&&e.splice(i,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,e=this._destroy,i=s.length;i--;)e.push(s[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,e=this._active,i,h;for(i=0;i<s.length;i++){h=s[i];var n=e.indexOf(h);n!==-1&&(e.splice(n,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(s.length=0,s=this._pending,i=0;i<s.length;i++)h=s[i],(!this.checkQueue||this.checkQueue&&e.indexOf(h)===-1)&&(e.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return s.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=r},68687:(v,x,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53466);function c(g){if(!(this instanceof c))return new c(g);this._maxEntries=Math.max(4,g||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(g){var T=this.data,S=[],C=this.toBBox;if(!p(g,T))return S;for(var w=[],b,A,D,B;T;){for(b=0,A=T.children.length;b<A;b++)D=T.children[b],B=T.leaf?C(D):D,p(g,B)&&(T.leaf?S.push(D):d(g,B)?this._all(D,S):w.push(D));T=w.pop()}return S},collides:function(g){var T=this.data,S=this.toBBox;if(!p(g,T))return!1;for(var C=[],w,b,A,D;T;){for(w=0,b=T.children.length;w<b;w++)if(A=T.children[w],D=T.leaf?S(A):A,p(g,D)){if(T.leaf||d(g,D))return!0;C.push(A)}T=C.pop()}return!1},load:function(g){if(!(g&&g.length))return this;if(g.length<this._minEntries){for(var T=0,S=g.length;T<S;T++)this.insert(g[T]);return this}var C=this._build(g.slice(),0,g.length-1,0);if(!this.data.children.length)this.data=C;else if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){var w=this.data;this.data=C,C=w}this._insert(C,this.data.height-C.height-1,!0)}return this},insert:function(g){return g&&this._insert(g,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(g,T){if(!g)return this;for(var S=this.data,C=this.toBBox(g),w=[],b=[],A,D,B,N;S||w.length;){if(S||(S=w.pop(),D=w[w.length-1],A=b.pop(),N=!0),S.leaf&&(B=a(g,S.children,T),B!==-1))return S.children.splice(B,1),w.push(S),this._condense(w),this;!N&&!S.leaf&&d(S,C)?(w.push(S),b.push(A),A=0,D=S,S=S.children[0]):D?(A++,S=D.children[A],N=!1):S=null}return this},toBBox:function(g){return g},compareMinX:i,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(g){return this.data=g,this},_all:function(g,T){for(var S=[];g;)g.leaf?T.push.apply(T,g.children):S.push.apply(S,g.children),g=S.pop();return T},_build:function(g,T,S,C){var w=S-T+1,b=this._maxEntries,A;if(w<=b)return A=m(g.slice(T,S+1)),r(A,this.toBBox),A;C||(C=Math.ceil(Math.log(w)/Math.log(b)),b=Math.ceil(w/Math.pow(b,C-1))),A=m([]),A.leaf=!1,A.height=C;var D=Math.ceil(w/b),B=D*Math.ceil(Math.sqrt(b)),N,Y,H,j;for(y(g,T,S,B,this.compareMinX),N=T;N<=S;N+=B)for(H=Math.min(N+B-1,S),y(g,N,H,D,this.compareMinY),Y=N;Y<=H;Y+=D)j=Math.min(Y+D-1,H),A.children.push(this._build(g,Y,j,C-1));return r(A,this.toBBox),A},_chooseSubtree:function(g,T,S,C){for(var w,b,A,D,B,N,Y,H;C.push(T),!(T.leaf||C.length-1===S);){for(Y=H=1/0,w=0,b=T.children.length;w<b;w++)A=T.children[w],B=n(A),N=f(g,A)-B,N<H?(H=N,Y=B<Y?B:Y,D=A):N===H&&B<Y&&(Y=B,D=A);T=D||T.children[0]}return T},_insert:function(g,T,S){var C=this.toBBox,w=S?g:C(g),b=[],A=this._chooseSubtree(w,this.data,T,b);for(A.children.push(g),e(A,w);T>=0&&b[T].children.length>this._maxEntries;)this._split(b,T),T--;this._adjustParentBBoxes(w,b,T)},_split:function(g,T){var S=g[T],C=S.children.length,w=this._minEntries;this._chooseSplitAxis(S,w,C);var b=this._chooseSplitIndex(S,w,C),A=m(S.children.splice(b,S.children.length-b));A.height=S.height,A.leaf=S.leaf,r(S,this.toBBox),r(A,this.toBBox),T?g[T-1].children.push(A):this._splitRoot(S,A)},_splitRoot:function(g,T){this.data=m([g,T]),this.data.height=g.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(g,T,S){var C,w,b,A,D,B,N,Y;for(B=N=1/0,C=T;C<=S-T;C++)w=s(g,0,C,this.toBBox),b=s(g,C,S,this.toBBox),A=u(w,b),D=n(w)+n(b),A<B?(B=A,Y=C,N=D<N?D:N):A===B&&D<N&&(N=D,Y=C);return Y},_chooseSplitAxis:function(g,T,S){var C=g.leaf?this.compareMinX:i,w=g.leaf?this.compareMinY:h,b=this._allDistMargin(g,T,S,C),A=this._allDistMargin(g,T,S,w);b<A&&g.children.sort(C)},_allDistMargin:function(g,T,S,C){g.children.sort(C);var w=this.toBBox,b=s(g,0,T,w),A=s(g,S-T,S,w),D=o(b)+o(A),B,N;for(B=T;B<S-T;B++)N=g.children[B],e(b,g.leaf?w(N):N),D+=o(b);for(B=S-T-1;B>=T;B--)N=g.children[B],e(A,g.leaf?w(N):N),D+=o(A);return D},_adjustParentBBoxes:function(g,T,S){for(var C=S;C>=0;C--)e(T[C],g)},_condense:function(g){for(var T=g.length-1,S;T>=0;T--)g[T].children.length===0?T>0?(S=g[T-1].children,S.splice(S.indexOf(g[T]),1)):this.clear():r(g[T],this.toBBox)},compareMinX:function(g,T){return g.left-T.left},compareMinY:function(g,T){return g.top-T.top},toBBox:function(g){return{minX:g.left,minY:g.top,maxX:g.right,maxY:g.bottom}}};function a(g,T,S){if(!S)return T.indexOf(g);for(var C=0;C<T.length;C++)if(S(g,T[C]))return C;return-1}function r(g,T){s(g,0,g.children.length,T,g)}function s(g,T,S,C,w){w||(w=m(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var b=T,A;b<S;b++)A=g.children[b],e(w,g.leaf?C(A):A);return w}function e(g,T){return g.minX=Math.min(g.minX,T.minX),g.minY=Math.min(g.minY,T.minY),g.maxX=Math.max(g.maxX,T.maxX),g.maxY=Math.max(g.maxY,T.maxY),g}function i(g,T){return g.minX-T.minX}function h(g,T){return g.minY-T.minY}function n(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function o(g){return g.maxX-g.minX+(g.maxY-g.minY)}function f(g,T){return(Math.max(T.maxX,g.maxX)-Math.min(T.minX,g.minX))*(Math.max(T.maxY,g.maxY)-Math.min(T.minY,g.minY))}function u(g,T){var S=Math.max(g.minX,T.minX),C=Math.max(g.minY,T.minY),w=Math.min(g.maxX,T.maxX),b=Math.min(g.maxY,T.maxY);return Math.max(0,w-S)*Math.max(0,b-C)}function d(g,T){return g.minX<=T.minX&&g.minY<=T.minY&&T.maxX<=g.maxX&&T.maxY<=g.maxY}function p(g,T){return T.minX<=g.maxX&&T.minY<=g.maxY&&T.maxX>=g.minX&&T.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(g,T,S,C,w){for(var b=[T,S],A;b.length;)S=b.pop(),T=b.pop(),!(S-T<=C)&&(A=T+Math.ceil((S-T)/C/2)*C,l(g,A,T,S,w),b.push(T,A,A,S))}v.exports=c},58403:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var s=0;s<this.entries.length;s++){var e=this.entries[s];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var s,e=this.entries.slice(),i=e.length;if(r)for(s=0;s<i&&a.call(r,e[s],s)!==!1;s++);else for(s=0;s<i&&a(e[s],s)!==!1;s++);return this},iterate:function(a,r){var s,e=this.entries.length;if(r)for(s=0;s<e&&a.call(r,this.entries[s],s)!==!1;s++);else for(s=0;s<e&&a(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(a){var r,s=[];for(r=1;r<arguments.length;r++)s.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var i=this.entries[r];i[a].apply(i,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new c;return a.entries.forEach(function(s){r.set(s)}),this.entries.forEach(function(s){r.set(s)}),r},intersect:function(a){var r=new c;return this.entries.forEach(function(s){a.contains(s)&&r.set(s)}),r},difference:function(a){var r=new c;return this.entries.forEach(function(s){a.contains(s)||r.set(s)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=c},90881:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82897),c=t(56694),a=t(84314),r=t(93736),s=new c({initialize:function(i,h,n,o){i===void 0&&(i=0),h===void 0&&(h=i),n===void 0&&(n=0),o===void 0&&(o=null),this._width=i,this._height=h,this._parent=o,this.aspectMode=n,this.aspectRatio=h===0?1:i/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.snapTo.set(e,i),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.minWidth=l(e,0,this.maxWidth),this.minHeight=l(i,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,i){return e===void 0&&(e=Number.MAX_VALUE),i===void 0&&(i=e),this.maxWidth=l(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(i,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,i){switch(e===void 0&&(e=0),i===void 0&&(i=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,i,!0);break;case s.ENVELOP:this.constrain(e,i,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,i){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,i){return i===void 0&&(i=!0),e=l(e,this.minWidth,this.maxWidth),i&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,i){return i===void 0&&(i=!0),e=l(e,this.minHeight,this.maxHeight),i&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,i,h){e===void 0&&(e=0),i===void 0&&(i=e),h===void 0&&(h=!0),e=this.getNewWidth(e),i=this.getNewHeight(i);var n=this.snapTo,o=i===0?1:e/i;return h&&this.aspectRatio>o||!h&&this.aspectRatio<o?(e=a(e,n.x),i=e/this.aspectRatio,n.y>0&&(i=a(i,n.y),e=i*this.aspectRatio)):(h&&this.aspectRatio<o||!h&&this.aspectRatio>o)&&(i=a(i,n.y),e=i*this.aspectRatio,n.x>0&&(e=a(e,n.x),i=e*(1/this.aspectRatio))),this._width=e,this._height=i,this},fitTo:function(e,i){return this.constrain(e,i,!0)},envelop:function(e,i){return this.constrain(e,i,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,v.exports=s},94160:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},95393:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},36716:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(82897),a=t(27119),r=t(86459),s=t(28621),e=t(31673),i=new l({Extends:e,initialize:function(n,o,f,u,d){e.call(this,n,o,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(h,n,o,f){return f===void 0&&(f=!0),this.context.drawImage(o,h,n),f&&this.update(),this},drawFrame:function(h,n,o,f,u){o===void 0&&(o=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(h,n);if(d){var p=d.canvasData,m=d.cutWidth,y=d.cutHeight,g=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,m,y,o,f,m/g,y/g),u&&this.update()}return this},setPixel:function(h,n,o,f,u,d){d===void 0&&(d=255),h=Math.abs(Math.floor(h)),n=Math.abs(Math.floor(n));var p=this.getIndex(h,n);if(p>-1){var m=this.context.getImageData(h,n,1,1);m.data[0]=o,m.data[1]=f,m.data[2]=u,m.data[3]=d,this.context.putImageData(m,h,n)}return this},putData:function(h,n,o,f,u,d,p){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=h.width),p===void 0&&(p=h.height),this.context.putImageData(h,n,o,f,u,d,p),this},getData:function(h,n,o,f){h=c(Math.floor(h),0,this.width-1),n=c(Math.floor(n),0,this.height-1),o=c(o,1,this.width-h),f=c(f,1,this.height-n);var u=this.context.getImageData(h,n,o,f);return u},getPixel:function(h,n,o){o||(o=new a);var f=this.getIndex(h,n);if(f>-1){var u=this.data,d=u[f+0],p=u[f+1],m=u[f+2],y=u[f+3];o.setTo(d,p,m,y)}return o},getPixels:function(h,n,o,f){h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=o),h=Math.abs(Math.round(h)),n=Math.abs(Math.round(n));for(var u=c(h,0,this.width),d=c(h+o,0,this.width),p=c(n,0,this.height),m=c(n+f,0,this.height),y=new a,g=[],T=p;T<m;T++){for(var S=[],C=u;C<d;C++)y=this.getPixel(C,T,y),S.push({x:C,y:T,color:y.color,alpha:y.alphaGL});g.push(S)}return g},getIndex:function(h,n){return h=Math.abs(Math.round(h)),n=Math.abs(Math.round(n)),h<this.width&&n<this.height?(h+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,n,o,f,u){return h===void 0&&(h=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(h,n,o,f),u&&this.update(),this},setSize:function(h,n){return n===void 0&&(n=h),(h!==this.width||n!==this.height)&&(this.canvas.width=h,this.canvas.height=n,this._source.width=h,this._source.height=n,this._source.isPowerOf2=s(h,n),this.frames.__BASE.setSize(h,n,0,0),this.width=h,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=i},845:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(95723),c=t(51052),a=t(61068),r=t(56694),s=t(86459),e=t(82047),i=t(72632),h=t(65641),n=t(37410),o=t(31673),f=t(75512),u=new r({Extends:o,initialize:function(p,m,y,g){y===void 0&&(y=256),g===void 0&&(g=256),this.type="DynamicTexture";var T=p.game.renderer,S=T&&T.type===s.CANVAS,C=S?a.create2D(this,y,g):[this];o.call(this,p,m,C,y,g),this.add("__BASE",0,0,0,y,g),this.renderer=T,this.isDrawing=!1,this.canvas=S?C:null,this.context=S?C.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,y,g).setScene(p.game.scene.systemScene,!1),this.renderTarget=S?null:new n(T,y,g,1,0,!1,!0,!0,!1),this.pipeline=S?null:T.pipelines.get(h.SINGLE_PIPELINE),this.setSize(y,g)},setSize:function(d,p){p===void 0&&(p=d);var m=this.get(),y=m.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var g=this.renderTarget;g&&(g.resize(d,p),m.glTexture=g.texture,y.isRenderTexture=!0,y.isGLTexture=!0,y.glTexture=g.texture,y.glTexture.flipY=!0),this.camera.setSize(d,p),y.width=d,y.height=p,m.setSize(d,p),this.width=d,this.height=p}else{var T=this.getSourceImage();m.cutX+d>T.width&&(d=T.width-m.cutX),m.cutY+p>T.height&&(p=T.height-m.cutY),m.setSize(d,p,m.cutX,m.cutY)}return this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,m,y,g,T){var S=this.camera,C=this.renderer;p===void 0&&(p=1),m===void 0&&(m=0),y===void 0&&(y=0),g===void 0&&(g=this.width),T===void 0&&(T=this.height);var w=d>>16&255,b=d>>8&255,A=d&255,D=this.renderTarget;if(S.preRender(),D){D.bind(!0);var B=this.pipeline.manager.set(this.pipeline),N=C.width/D.width,Y=C.height/D.height;B.drawFillRect(m*N,y*Y,g*N,T*Y,f.getTintFromFloats(A/255,b/255,w/255,1),p),D.unbind(!0)}else{var H=this.context;C.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+w+","+b+","+A+","+p+")",H.fillRect(m,y,g,T),C.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,p=this.renderTarget;p?p.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,p,m,y,g){m===void 0&&(m=0),y===void 0&&(y=0);var T=i(g,"alpha",1),S=i(g,"tint",16777215),C=i(g,"angle",0),w=i(g,"rotation",0),b=i(g,"scale",1),A=i(g,"scaleX",b),D=i(g,"scaleY",b),B=i(g,"originX",.5),N=i(g,"originY",.5),Y=i(g,"blendMode",0),H=i(g,"erase",!1),j=i(g,"skipBatch",!1),J=this.manager.resetStamp(T,S);return J.setAngle(0),C!==0?J.setAngle(C):w!==0&&J.setRotation(w),J.setScale(A,D),J.setTexture(d,p),J.setOrigin(B,N),J.setBlendMode(Y),H&&(this._eraseMode=!0),j?this.batchGameObject(J,m,y):this.draw(J,m,y),H&&(this._eraseMode=!1),this},erase:function(d,p,m){return this._eraseMode=!0,this.draw(d,p,m),this._eraseMode=!1,this},draw:function(d,p,m,y,g){return this.beginDraw(),this.batchDraw(d,p,m,y,g),this.endDraw(),this},drawFrame:function(d,p,m,y,g,T){return this.beginDraw(),this.batchDrawFrame(d,p,m,y,g,T),this.endDraw(),this},repeat:function(d,p,m,y,g,T,S,C,w){if(m===void 0&&(m=0),y===void 0&&(y=0),g===void 0&&(g=this.width),T===void 0&&(T=this.height),S===void 0&&(S=1),C===void 0&&(C=16777215),w===void 0&&(w=!1),d instanceof e?p=d:p=this.manager.getFrame(d,p),!p)return this;var b=this.manager.resetStamp(S,C);b.setFrame(p),b.setOrigin(0);var A=p.width,D=p.height;g=Math.floor(g),T=Math.floor(T);var B=Math.ceil(g/A),N=Math.ceil(T/D),Y=B*A-g,H=N*D-T;Y>0&&(Y=A-Y),H>0&&(H=D-H),m<0&&(B+=Math.ceil(Math.abs(m)/A)),y<0&&(N+=Math.ceil(Math.abs(y)/D));var j=m,J=y,X=!1,W=this.manager.stampCrop.setTo(0,0,A,D);w||this.beginDraw();for(var L=0;L<N;L++){if(J+D<0){J+=D;continue}for(var G=0;G<B;G++){if(X=!1,j+A<0){j+=A;continue}else j<0&&(X=!0,W.width=A+j,W.x=A-W.width);J<0&&(X=!0,W.height=D+J,W.y=D-W.height),Y>0&&G===B-1&&(X=!0,W.width=Y),H>0&&L===N-1&&(X=!0,W.height=H),X&&b.setCrop(W),this.batchGameObject(b,j,J),b.isCropped=!1,W.setTo(0,0,A,D),j+=A}j=m,J+=D}return w||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,m=this.renderTarget;d.preRender(),m?p.beginCapture(m.width,m.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,m,y,g){return Array.isArray(d)||(d=[d]),this.batchList(d,p,m,y,g),this},batchDrawFrame:function(d,p,m,y,g,T){m===void 0&&(m=0),y===void 0&&(y=0),g===void 0&&(g=1),T===void 0&&(T=16777215);var S=this.manager.getFrame(d,p);return S&&(this.renderTarget?this.pipeline.batchTextureFrame(S,m,y,T,g,this.camera.matrix,null):this.batchTextureFrame(S,m,y,g,T)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,m=this.renderTarget;if(m){var y=p.endCapture(),g=p.pipelines.setUtility();g.blitFrame(y,m,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,m,y,g){var T=d.length;if(T!==0)for(var S=0;S<T;S++){var C=d[S];!C||C===this||(C.renderWebGL||C.renderCanvas?this.batchGameObject(C,p,m):C.isParent||C.list?this.batchGroup(C.getChildren(),p,m):typeof C=="string"?this.batchTextureFrameKey(C,null,p,m,y,g):C instanceof e?this.batchTextureFrame(C,p,m,y,g):Array.isArray(C)&&this.batchList(C,p,m,y,g))}},batchGroup:function(d,p,m){p===void 0&&(p=0),m===void 0&&(m=0);for(var y=0;y<d.length;y++){var g=d[y];g.willRender(this.camera)&&this.batchGameObject(g,g.x+p,g.y+m)}},batchGameObject:function(d,p,m){p===void 0&&(p=d.x),m===void 0&&(m=d.y);var y=d.x,g=d.y,T=this.camera,S=this.renderer,C=this._eraseMode,w=d.mask;if(d.setPosition(p,m),this.canvas){if(C){var b=d.blendMode;d.blendMode=l.ERASE}w&&w.preRenderCanvas(S,d,T),d.renderCanvas(S,d,T,null),w&&w.postRenderCanvas(S,d,T),C&&(d.blendMode=b)}else S&&(w&&w.preRenderWebGL(S,d,T),C||S.setBlendMode(d.blendMode),d.renderWebGL(S,d,T),w&&w.postRenderWebGL(S,T,this.renderTarget));d.setPosition(y,g)},batchTextureFrameKey:function(d,p,m,y,g,T){var S=this.manager.getFrame(d,p);S&&this.batchTextureFrame(S,m,y,g,T)},batchTextureFrame:function(d,p,m,y,g){p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=1),g===void 0&&(g=16777215);var T=this.camera.matrix,S=this.renderTarget;if(S)this.pipeline.batchTextureFrame(d,p,m,g,y,T,null);else{var C=this.context,w=d.canvasData,b=d.source.image;C.save(),C.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",C.globalAlpha=y,T.setToContext(C),w.width>0&&w.height>0&&C.drawImage(b,w.x,w.y,w.width,w.height,p,m,w.width,w.height),C.restore()}},snapshotArea:function(d,p,m,y,g,T,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,g,!1,d,p,m,y,T,S):this.renderer.snapshotCanvas(this.canvas,g,!1,d,p,m,y,T,S),this},snapshot:function(d,p,m){return this.snapshotArea(0,0,this.width,this.height,d,p,m)},snapshotPixel:function(d,p,m){return this.snapshotArea(d,p,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,m,y){var g=this.manager.resetStamp();g.setTexture(this),g.setOrigin(0),g.renderWebGL(d,g,m,y)},renderCanvas:function(){},preDestroy:function(){a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});v.exports=u},82047:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(82897),a=t(98611),r=new l({initialize:function(e,i,h,n,o,f,u){this.texture=e,this.name=i,this.source=e.source[h],this.sourceIndex=h,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(f,u,n,o)},setSize:function(s,e,i,h){i===void 0&&(i=0),h===void 0&&(h=0),this.cutX=i,this.cutY=h,this.cutWidth=s,this.cutHeight=e,this.width=s,this.height=e,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(e/2);var n=this.data,o=n.cut;o.x=i,o.y=h,o.w=s,o.h=e,o.r=i+s,o.b=h+e,n.sourceSize.w=s,n.sourceSize.h=e,n.spriteSourceSize.w=s,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(s*s+e*e);var f=n.drawImage;return f.x=i,f.y=h,f.width=s,f.height=e,this.updateUVs()},setTrim:function(s,e,i,h,n,o){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=e,u.x=i,u.y=h,u.w=n,u.h=o,u.r=i+n,u.b=h+o,this.x=i,this.y=h,this.width=n,this.height=o,this.halfWidth=n*.5,this.halfHeight=o*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(s,e,i,h,n,o,f){var u=this.cutX,d=this.cutY,p=this.cutWidth,m=this.cutHeight,y=this.realWidth,g=this.realHeight;e=c(e,0,y),i=c(i,0,g),h=c(h,0,y-e),n=c(n,0,g-i);var T=u+e,S=d+i,C=h,w=n,b=this.data;if(b.trim){var A=b.spriteSourceSize;h=c(h,0,p-e),n=c(n,0,m-i);var D=e+h,B=i+n,N=!(A.r<e||A.b<i||A.x>D||A.y>B);if(N){var Y=Math.max(A.x,e),H=Math.max(A.y,i),j=Math.min(A.r,D)-Y,J=Math.min(A.b,B)-H;C=j,w=J,o?T=u+(p-(Y-A.x)-j):T=u+(Y-A.x),f?S=d+(m-(H-A.y)-J):S=d+(H-A.y),e=Y,i=H,h=j,n=J}else T=0,S=0,C=0,w=0}else o&&(T=u+(p-e-h)),f&&(S=d+(m-i-n));var X=this.source.width,W=this.source.height;return s.u0=Math.max(0,T/X),s.v0=Math.max(0,S/W),s.u1=Math.min(1,(T+C)/X),s.v1=Math.min(1,(S+w)/W),s.x=e,s.y=i,s.cx=T,s.cy=S,s.cw=C,s.ch=w,s.width=h,s.height=n,s.flipX=o,s.flipY=f,s},updateCropUVs:function(s,e,i){return this.setCropUVs(s,s.x,s.y,s.width,s.height,e,i)},setUVs:function(s,e,i,h,n,o){var f=this.data.drawImage;return f.width=s,f.height=e,this.u0=i,this.v0=h,this.u1=n,this.v1=o,this},updateUVs:function(){var s=this.cutX,e=this.cutY,i=this.cutWidth,h=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=h;var o=this.source.width,f=this.source.height;return this.u0=s/o,this.v0=e/f,this.u1=(s+i)/o,this.v1=(e+h)/f,this},updateUVsInverted:function(){var s=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/e,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var s=new r(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=a(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=r},31673:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(82047),a=t(32547),r='Texture "%s" has no frame "%s"',s=new l({initialize:function(i,h,n,o,f){Array.isArray(n)||(n=[n]),this.manager=i,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<n.length;u++)this.source.push(new a(this,n[u],o,f))},add:function(e,i,h,n,o,f){if(this.has(e))return null;var u=new c(this,e,i,h,n,o,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var i=this.get(e);return i.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var i=this.frames[e];return i||(console.warn(r,this.key,e),i=this.frames[this.firstFrame]),i},getTextureSourceIndex:function(e){for(var i=0;i<this.source.length;i++)if(this.source[i]===e)return i;return-1},getFramesFromTextureSource:function(e,i){i===void 0&&(i=!1);var h=[];for(var n in this.frames)if(!(n==="__BASE"&&!i)){var o=this.frames[n];o.sourceIndex===e&&h.push(o)}return h},getFrameNames:function(e){e===void 0&&(e=!1);var i=Object.keys(this.frames);if(!e){var h=i.indexOf("__BASE");h!==-1&&i.splice(h,1)}return i},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e];return i?i.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e],h;return i?h=i.sourceIndex:(console.warn(r,this.key,e),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var h=this.source[i];this.dataSource.push(new a(this,e[i],h.width,h.height))}},setFilter:function(e){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(e);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(e)},destroy:function(){var e,i=this.source,h=this.dataSource;for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(e=0;e<h.length;e++)h[e]&&h[e].destroy();for(var n in this.frames){var o=this.frames[n];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=s},6237:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=t(17487),a=t(56694),r=t(27119),s=t(86459),e=t(845),i=t(6659),h=t(38203),n=t(82047),o=t(97081),f=t(52780),u=t(10850),d=t(1539),p=t(42911),m=t(69150),y=t(74118),g=t(31673),T=new a({Extends:i,initialize:function(C){i.call(this),this.game=C,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,C.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var S=this.game.config;this.addBase64("__DEFAULT",S.defaultImage),this.addBase64("__MISSING",S.missingImage),this.addBase64("__WHITE",S.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY),this.stamp=new d(this.game.scene.systemScene).setOrigin(0))},checkKey:function(S){return this.exists(S)?(this.silentWarnings||console.error("Texture key already in use: "+S),!1):!0},remove:function(S){if(typeof S=="string")if(this.exists(S))S=this.get(S);else return this.silentWarnings||console.warn("No texture found matching key: "+S),this;return this.list.hasOwnProperty(S.key)&&(S.destroy(),this.emit(h.REMOVE,S.key),this.emit(h.REMOVE_KEY+S.key)),this},removeKey:function(S){return this.list.hasOwnProperty(S)&&delete this.list[S],this},addBase64:function(S,C){if(this.checkKey(S)){var w=this,b=new Image;b.onerror=function(){w.emit(h.ERROR,S)},b.onload=function(){var A=w.create(S,b);m.Image(A,0),w.emit(h.ADD,S,A),w.emit(h.ADD_KEY+S,A),w.emit(h.LOAD,S,A)},b.src=C}return this},getBase64:function(S,C,w,b){w===void 0&&(w="image/png"),b===void 0&&(b=.92);var A="",D=this.getFrame(S,C);if(D&&(D.source.isRenderTexture||D.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(D){var B=D.canvasData,N=l.create2D(this,B.width,B.height),Y=N.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&Y.drawImage(D.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),A=N.toDataURL(w,b),l.remove(N)}return A},addImage:function(S,C,w){var b=null;return this.checkKey(S)&&(b=this.create(S,C),m.Image(b,0),w&&b.setDataSource(w),this.emit(h.ADD,S,b),this.emit(h.ADD_KEY+S,b)),b},addGLTexture:function(S,C,w,b){var A=null;return this.checkKey(S)&&(w===void 0&&(w=C.width),b===void 0&&(b=C.height),A=this.create(S,C,w,b),A.add("__BASE",0,0,0,w,b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)),A},addCompressedTexture:function(S,C,w){var b=null;if(this.checkKey(S)){if(b=this.create(S,C),b.add("__BASE",0,0,0,C.width,C.height),w)if(Array.isArray(w))for(var A=0;A<w.length;A++)m.JSONHash(b,A,w[A]);else m.JSONHash(b,0,w);this.emit(h.ADD,S,b),this.emit(h.ADD_KEY+S,b)}return b},addRenderTexture:function(S,C){var w=null;return this.checkKey(S)&&(w=this.create(S,C),w.add("__BASE",0,0,0,C.width,C.height),this.emit(h.ADD,S,w),this.emit(h.ADD_KEY+S,w)),w},generate:function(S,C){if(this.checkKey(S)){var w=l.create(this,1,1);return C.canvas=w,f(C),this.addCanvas(S,w)}else return null},createCanvas:function(S,C,w){if(C===void 0&&(C=256),w===void 0&&(w=256),this.checkKey(S)){var b=l.create(this,C,w,s.CANVAS,!0);return this.addCanvas(S,b)}return null},addCanvas:function(S,C,w){w===void 0&&(w=!1);var b=null;return w?b=new c(this,S,C,C.width,C.height):this.checkKey(S)&&(b=new c(this,S,C,C.width,C.height),this.list[S]=b,this.emit(h.ADD,S,b),this.emit(h.ADD_KEY+S,b)),b},addDynamicTexture:function(S,C,w){var b=null;return typeof S=="string"&&!this.exists(S)?b=new e(this,S,C,w):(b=S,S=b.key),this.checkKey(S)?(this.list[S]=b,this.emit(h.ADD,S,b),this.emit(h.ADD_KEY+S,b)):b=null,b},addAtlas:function(S,C,w,b){return Array.isArray(w.textures)||Array.isArray(w.frames)?this.addAtlasJSONArray(S,C,w,b):this.addAtlasJSONHash(S,C,w,b)},addAtlasJSONArray:function(S,C,w,b){var A=null;if(C instanceof g?(S=A.key,A=C):this.checkKey(S)&&(A=this.create(S,C)),A){if(Array.isArray(w))for(var D=w.length===1,B=0;B<A.source.length;B++){var N=D?w[0]:w[B];m.JSONArray(A,B,N)}else m.JSONArray(A,0,w);b&&A.setDataSource(b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)}return A},addAtlasJSONHash:function(S,C,w,b){var A=null;if(C instanceof g?(S=A.key,A=C):this.checkKey(S)&&(A=this.create(S,C)),A){if(Array.isArray(w))for(var D=0;D<w.length;D++)m.JSONHash(A,D,w[D]);else m.JSONHash(A,0,w);b&&A.setDataSource(b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)}return A},addAtlasXML:function(S,C,w,b){var A=null;return C instanceof g?(S=A.key,A=C):this.checkKey(S)&&(A=this.create(S,C)),A&&(m.AtlasXML(A,0,w),b&&A.setDataSource(b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)),A},addUnityAtlas:function(S,C,w,b){var A=null;return C instanceof g?(S=A.key,A=C):this.checkKey(S)&&(A=this.create(S,C)),A&&(m.UnityYAML(A,0,w),b&&A.setDataSource(b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)),A},addSpriteSheet:function(S,C,w,b){var A=null;if(C instanceof g?(S=A.key,A=C):this.checkKey(S)&&(A=this.create(S,C)),A){var D=A.source[0].width,B=A.source[0].height;m.SpriteSheet(A,0,0,0,D,B,w),b&&A.setDataSource(b),this.emit(h.ADD,S,A),this.emit(h.ADD_KEY+S,A)}return A},addSpriteSheetFromAtlas:function(S,C){if(!this.checkKey(S))return null;var w=u(C,"atlas",null),b=u(C,"frame",null);if(!(!w||!b)){var A=this.get(w),D=A.get(b);if(D){var B=this.create(S,D.source.image);return D.trimmed?m.SpriteSheetFromAtlas(B,D,C):m.SpriteSheet(B,0,D.cutX,D.cutY,D.cutWidth,D.cutHeight,C),this.emit(h.ADD,S,B),this.emit(h.ADD_KEY+S,B),B}}},create:function(S,C,w,b){var A=null;return this.checkKey(S)&&(A=new g(this,S,C,w,b),this.list[S]=A),A},exists:function(S){return this.list.hasOwnProperty(S)},get:function(S){return S===void 0&&(S="__DEFAULT"),this.list[S]?this.list[S]:S instanceof g?S:S instanceof n?S.texture:this.list.__MISSING},cloneFrame:function(S,C){if(this.list[S])return this.list[S].get(C).clone()},getFrame:function(S,C){if(this.list[S])return this.list[S].get(C)},parseFrame:function(S){if(S){if(typeof S=="string")return this.getFrame(S);if(Array.isArray(S)&&S.length===2)return this.getFrame(S[0],S[1]);if(p(S))return this.getFrame(S.key,S.frame);if(S instanceof g)return S.get();if(S instanceof n)return S}else return},getTextureKeys:function(){var S=[];for(var C in this.list)C!=="__DEFAULT"&&C!=="__MISSING"&&C!=="__WHITE"&&S.push(C);return S},getPixel:function(S,C,w,b){var A=this.getFrame(w,b);if(A){S-=A.x,C-=A.y;var D=A.data.cut;if(S+=D.x,C+=D.y,S>=D.x&&S<D.r&&C>=D.y&&C<D.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(A.source.image,S,C,1,1,0,0,1,1);var N=B.getImageData(0,0,1,1);return new r(N.data[0],N.data[1],N.data[2],N.data[3])}}return null},getPixelAlpha:function(S,C,w,b){var A=this.getFrame(w,b);if(A){S-=A.x,C-=A.y;var D=A.data.cut;if(S+=D.x,C+=D.y,S>=D.x&&S<D.r&&C>=D.y&&C<D.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(A.source.image,S,C,1,1,0,0,1,1);var N=B.getImageData(0,0,1,1);return N.data[3]}}return null},setTexture:function(S,C,w){return this.list[C]&&(S.texture=this.list[C],S.frame=S.texture.get(w)),S},renameTexture:function(S,C){var w=this.get(S);return w&&S!==C?(w.key=C,this.list[C]=w,delete this.list[S],!0):!1},each:function(S,C){for(var w=[null],b=1;b<arguments.length;b++)w.push(arguments[b]);for(var A in this.list)w[0]=this.list[A],S.apply(C,w)},resetStamp:function(S,C){S===void 0&&(S=1),C===void 0&&(C=16777215);var w=this.stamp;return w.setCrop(),w.setPosition(0),w.setAngle(0),w.setScale(1),w.setAlpha(S),w.setTint(C),w},destroy:function(){for(var S in this.list)this.list[S].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});v.exports=T},32547:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61068),c=t(56694),a=t(28621),r=t(27394),s=new c({initialize:function(i,h,n,o,f){f===void 0&&(f=!1);var u=i.manager.game;this.renderer=u.renderer,this.texture=i,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=n||h.naturalWidth||h.videoWidth||h.width||0,this.height=o||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&h instanceof WebGLTexture,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(u)},init:function(e){var i=this.renderer;if(i){var h=this.source;if(i.gl){var n=this.image,o=this.flipY,f=this.width,u=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=i.createCanvasTexture(n,!1,o):this.isVideo?this.glTexture=i.createVideoTexture(n,!1,o):this.isRenderTexture?this.glTexture=i.createTextureFromSource(null,f,u,d):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=i.createTextureFromSource(h):this.glTexture=i.createTextureFromSource(n,f,u,d)}else this.isRenderTexture&&(this.image=h.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,i=this.image,h=this.flipY,n=e.gl;n&&this.isCanvas?this.glTexture=e.updateCanvasTexture(i,this.glTexture,h):n&&this.isVideo&&(this.glTexture=e.updateVideoTexture(i,this.glTexture,h))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=s},65154:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};v.exports=x},49644:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},29569:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},60079:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},72665:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},93006:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},69018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},85549:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},38203:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=t(65154),a={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:c,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};a=l(!1,a,c),v.exports=a},35082:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[l];t.add("__BASE",l,0,0,a.width,a.height);for(var r=c.getElementsByTagName("SubTexture"),s,e=0;e<r.length;e++){var i=r[e].attributes,h=i.name.value,n=parseInt(i.x.value,10),o=parseInt(i.y.value,10),f=parseInt(i.width.value,10),u=parseInt(i.height.value,10);if(s=t.add(h,l,n,o,f,u),i.frameX){var d=Math.abs(parseInt(i.frameX.value,10)),p=Math.abs(parseInt(i.frameY.value,10)),m=parseInt(i.frameWidth.value,10),y=parseInt(i.frameHeight.value,10);s.setTrim(f,u,d,p,m,y)}}return t};v.exports=x},83332:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.source[l];return t.add("__BASE",l,0,0,c.width,c.height),t};v.exports=x},21560:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.source[l];return t.add("__BASE",l,0,0,c.width,c.height),t};v.exports=x},64423:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),c=function(a,r,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var i=Array.isArray(s.textures)?s.textures[r].frames:s.frames,h,n=0;n<i.length;n++){var o=i[n];if(h=a.add(o.filename,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=o.anchor||o.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),h.customData=l(o)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};v.exports=c},17264:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),c=function(a,r,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var i=s.frames,h;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];if(h=a.add(n,r,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+n);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=o.anchor||o.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y),h.customData=l(o)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?a.customData[u]=s[u].slice(0):a.customData[u]=s[u]);return a};v.exports=c},67409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=[171,75,84,88,32,49,49,187,13,10,26,10],c,a=new Uint8Array(t,0,12);for(c=0;c<a.length;c++)if(a[c]!==l[c]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*r),e=s.getUint32(0,!0)===67305985,i=s.getUint32(1*r,e);if(i!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=s.getUint32(4*r,e),n=s.getUint32(6*r,e),o=s.getUint32(7*r,e),f=Math.max(1,s.getUint32(11*r,e)),u=s.getUint32(12*r,e),d=new Array(f),p=12+13*4+u,m=n,y=o;for(c=0;c<f;c++){var g=new Int32Array(t,p,1)[0];p+=4,d[c]={data:new Uint8Array(t,p,g),width:m,height:y},m=Math.max(1,m>>1),y=Math.max(1,y>>1),p+=g}return{mipmaps:d,width:n,height:o,internalFormat:h,compressed:!0,generateMipmap:!1}};v.exports=x},24904:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(S,C,w,b,A,D,B){return B===void 0&&(B=16),Math.floor((S+w)/A)*Math.floor((C+b)/D)*B}function t(S,C){return S=Math.max(S,16),C=Math.max(C,8),S*C/4}function l(S,C){return S=Math.max(S,8),C=Math.max(C,8),S*C/2}function c(S,C){return x(S,C,3,3,4,4,8)}function a(S,C){return x(S,C,3,3,4,4)}function r(S,C){return x(S,C,4,3,5,4)}function s(S,C){return x(S,C,4,4,5,5)}function e(S,C){return x(S,C,5,4,6,5)}function i(S,C){return x(S,C,5,5,6,6)}function h(S,C){return x(S,C,7,4,8,5)}function n(S,C){return x(S,C,7,5,8,6)}function o(S,C){return x(S,C,7,7,8,8)}function f(S,C){return x(S,C,9,4,10,5)}function u(S,C){return x(S,C,9,5,10,6)}function d(S,C){return x(S,C,9,7,10,8)}function p(S,C){return x(S,C,9,9,10,10)}function m(S,C){return x(S,C,11,9,12,10)}function y(S,C){return x(S,C,11,11,12,12)}var g={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:l,glFormat:35840},3:{sizeFunc:l,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:a,glFormat:33777},9:{sizeFunc:a,glFormat:33778},11:{sizeFunc:a,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:a,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:a,glFormat:37490},27:{sizeFunc:a,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:s,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:i,glFormat:37812},32:{sizeFunc:h,glFormat:37813},33:{sizeFunc:n,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:f,glFormat:37816},36:{sizeFunc:u,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:p,glFormat:37819},39:{sizeFunc:m,glFormat:37820},40:{sizeFunc:y,glFormat:37821}},T=function(S){for(var C=new Uint32Array(S,0,13),w=C[2],b=g[w].glFormat,A=g[w].sizeFunc,D=C[11],B=C[7],N=C[6],Y=52+C[12],H=new Uint8Array(S,Y),j=new Array(D),J=0,X=B,W=N,L=0;L<D;L++){var G=A(X,W);j[L]={data:new Uint8Array(H.buffer,H.byteOffset+J,G),width:X,height:W},X=Math.max(1,X>>1),W=Math.max(1,W>>1),J+=G}return{mipmaps:j,width:B,height:N,internalFormat:b,compressed:!0,generateMipmap:!1}};v.exports=T},6143:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=function(a,r,s,e,i,h,n){var o=l(n,"frameWidth",null),f=l(n,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=a.source[r];a.add("__BASE",r,0,0,u.width,u.height);var d=l(n,"startFrame",0),p=l(n,"endFrame",-1),m=l(n,"margin",0),y=l(n,"spacing",0),g=Math.floor((i-m+y)/(o+y)),T=Math.floor((h-m+y)/(f+y)),S=g*T;S===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>S||d<-S)&&(d=0),d<0&&(d=S+d),(p===-1||p>S||p<d)&&(p=S);for(var C=m,w=m,b=0,A=0,D=0,B=0;B<S;B++){b=0,A=0;var N=C+o,Y=w+f;N>i&&(b=N-i),Y>h&&(A=Y-h),B>=d&&B<=p&&(a.add(D,r,s+C,e+w,o-b,f-A),D++),C+=o+y,C+o>i&&(C=m,w+=f+y)}return a};v.exports=c},20030:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=function(a,r,s){var e=l(s,"frameWidth",null),i=l(s,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height),l(s,"startFrame",0),l(s,"endFrame",-1);for(var n=l(s,"margin",0),o=l(s,"spacing",0),f=r.cutX,u=r.cutY,d=r.cutWidth,p=r.cutHeight,m=r.realWidth,y=r.realHeight,g=Math.floor((m-n+o)/(e+o)),T=Math.floor((y-n+o)/(i+o)),S=r.x,C=e-S,w=e-(m-d-S),b=r.y,A=i-b,D=i-(y-p-b),B,N=n,Y=n,H=0,j=0,J=0;J<T;J++){for(var X=J===0,W=J===T-1,L=0;L<g;L++){var G=L===0,z=L===g-1;if(B=a.add(H,j,f+N,u+Y,e,i),G||X||z||W){var k=G?S:0,K=X?b:0,$=0,Q=0;G&&($+=e-C),z&&($+=e-w),X&&(Q+=i-A),W&&(Q+=i-D);var _=e-$,tt=i-Q;B.cutWidth=_,B.cutHeight=tt,B.setTrim(e,i,k,K,_,tt)}N+=o,G?N+=C:z?N+=w:N+=e,H++}N=n,Y+=o,X?Y+=A:W?Y+=D:Y+=i}return a};v.exports=c},89187:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,t=function(c,a,r,s){var e=x-s.y-s.height;c.add(r,a,s.x,e,s.width,s.height)},l=function(c,a,r){var s=c.source[a];c.add("__BASE",a,0,0,s.width,s.height),x=s.height;for(var e=r.split(`
`),i=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",n="",o={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(i);if(u){var d=u[1]==="- ",p=u[2],m=u[3];if(d&&(n!==h&&(t(c,a,n,o),h=n),o={x:0,y:0,width:0,height:0}),p==="name"){n=m;continue}switch(p){case"x":case"y":case"width":case"height":o[p]=parseInt(m,10);break}}}return n!==h&&t(c,a,n,o),c};v.exports=l},69150:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r,s,e,i,h,n,o){(e===void 0||e<=0)&&(e=32),(i===void 0||i<=0)&&(i=32),h===void 0&&(h=0),n===void 0&&(n=0),this.name=r,this.firstgid=s|0,this.imageWidth=e|0,this.imageHeight=i|0,this.imageMargin=h|0,this.imageSpacing=n|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r){return this.images.push({gid:a,image:r}),this.total++,this}});v.exports=c},46422:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=new l({initialize:function(r){if(this.gids=[],r!==void 0)for(var s=0;s<r.length;++s)for(var e=r[s],i=0;i<e.total;++i)this.gids[e.firstgid+i]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var s=r.getTileData(a.gid);if(s)return s.type}}},setTextureAndFrame:function(a,r,s,e){if(r===null&&this.gids&&e.gid!==void 0){var i=this.gids[e.gid];i&&(r===null&&i.image!==void 0&&(r=i.image.key),s===null&&(s=e.gid-i.firstgid),a.scene.textures.getFrame(r,s)||(r=null,s=null))}a.setTexture(r,s)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var s=this.gids[r.gid];s!==void 0&&this.setFromJSON(a,s.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){r.forEach(function(e){a.setData(e.name,e.value)});return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});v.exports=c},15043:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),c=t(16586),a=t(90715),r=t(89797),s=function(e,i,h,n,o,f,u,d){h===void 0&&(h=32),n===void 0&&(n=32),o===void 0&&(o=10),f===void 0&&(f=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(u)){var m=i!==void 0?i:"map";p=a(m,l.ARRAY_2D,u,h,n,d)}else if(i!==void 0){var y=e.cache.tilemap.get(i);y?p=a(i,y.format,y.data,h,n,d):console.warn("No map data found for key "+i)}return p===null&&(p=new c({tileWidth:h,tileHeight:n,width:o,height:f})),new r(e,p)};v.exports=s},29633:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(12920),r=t(28699),s=t(66658),e=new l({Mixins:[c.Alpha,c.Flip,c.Visible],initialize:function(h,n,o,f,u,d,p,m){this.layer=h,this.index=n,this.x=o,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:u,this.baseHeight=m!==void 0?m:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,h){return!(i<this.pixelX||h<this.pixelY||i>this.right||h>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=r(i.properties),this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var h=this.tilemapLayer;if(h){var n=h.tileToWorldXY(this.x,this.y,void 0,i);return n.x}return this.x*this.baseWidth},getRight:function(i){var h=this.tilemapLayer;return h?this.getLeft(i)+this.width*h.scaleX:this.getLeft(i)+this.width},getTop:function(i){var h=this.tilemapLayer;if(h){var n=h.tileToWorldXY(this.x,this.y,void 0,i);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(i){var h=this.tilemapLayer;return h?this.getTop(i)+this.height*h.scaleY:this.getTop(i)+this.height},getBounds:function(i,h){return h===void 0&&(h=new s),h.x=this.getLeft(i),h.y=this.getTop(i),h.width=this.getRight(i)-h.x,h.height=this.getBottom(i)-h.y,h},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,h,n,o){return!(n<=this.pixelX||o<=this.pixelY||i>=this.right||h>=this.bottom)},isInteresting:function(i,h){return i&&h?this.canCollide||this.hasInterestingFace:i?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,h,n,o,f){if(h===void 0&&(h=i),n===void 0&&(n=i),o===void 0&&(o=i),f===void 0&&(f=!0),this.collideLeft=i,this.collideRight=h,this.collideUp=n,this.collideDown=o,this.faceLeft=i,this.faceRight=h,this.faceTop=n,this.faceBottom=o,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,h){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=h),this},setSize:function(i,h,n,o){return i!==void 0&&(this.width=i),h!==void 0&&(this.height=h),n!==void 0&&(this.baseWidth=n),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===a.HEXAGONAL){var h=this.layer.staggerAxis,n=this.layer.staggerIndex,o=this.layer.hexSideLength,f,u;h==="y"?(u=(this.baseHeight-o)/2+o,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):h==="x"&&(f=(this.baseWidth-o)/2+o,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var h=i.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});v.exports=e},89797:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(14556),c=t(56694),a=t(75606),r=t(93560),s=t(72632),e=t(94990),i=t(46422),h=t(12920),n=t(52257),o=t(72677),f=t(13747),u=t(29633),d=t(5047),p=t(87177),m=t(47975),y=new c({initialize:function(T,S){this.scene=T,this.tileWidth=S.tileWidth,this.tileHeight=S.tileHeight,this.width=S.width,this.height=S.height,this.orientation=S.orientation,this.renderOrder=S.renderOrder,this.format=S.format,this.version=S.version,this.properties=S.properties,this.widthInPixels=S.widthInPixels,this.heightInPixels=S.heightInPixels,this.imageCollections=S.imageCollections,this.images=S.images,this.layers=S.layers,this.tiles=S.tiles,this.tilesets=S.tilesets,this.objects=S.objects,this.currentLayerIndex=0,this.hexSideLength=S.hexSideLength;var C=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(C),WorldToTileX:d.GetWorldToTileXFunction(C),WorldToTileY:d.GetWorldToTileYFunction(C),TileToWorldXY:d.GetTileToWorldXYFunction(C),TileToWorldX:d.GetTileToWorldXFunction(C),TileToWorldY:d.GetTileToWorldYFunction(C),GetTileCorners:d.GetTileCornersFunction(C)}},setRenderOrder:function(g){var T=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=T[g]),T.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,T,S,C,w,b,A,D){if(g===void 0)return null;if(T==null&&(T=g),!this.scene.sys.textures.exists(T))return console.warn("Invalid Tileset Image: "+T),null;var B=this.scene.sys.textures.get(T),N=this.getTilesetIndex(g);if(N===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var Y=this.tilesets[N];return Y?(Y.setTileSize(S,C),Y.setSpacing(w,b),Y.setImage(B),Y):(S===void 0&&(S=this.tileWidth),C===void 0&&(C=this.tileHeight),w===void 0&&(w=0),b===void 0&&(b=0),A===void 0&&(A=0),D===void 0&&(D={x:0,y:0}),Y=new m(g,A,S,C,w,b,void 0,void 0,D),Y.setImage(B),this.tilesets.push(Y),this.tiles=l(this),Y)},copy:function(g,T,S,C,w,b,A,D){return D=this.getLayer(D),D!==null?(d.Copy(g,T,S,C,w,b,A,D),this):null},createBlankLayer:function(g,T,S,C,w,b,A,D){S===void 0&&(S=0),C===void 0&&(C=0),w===void 0&&(w=this.width),b===void 0&&(b=this.height),A===void 0&&(A=this.tileWidth),D===void 0&&(D=this.tileHeight);var B=this.getLayerIndex(g);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var N=new e({name:g,tileWidth:A,tileHeight:D,width:w,height:b,orientation:this.orientation}),Y,H=0;H<b;H++){Y=[];for(var j=0;j<w;j++)Y.push(new u(N,-1,j,H,A,D,this.tileWidth,this.tileHeight));N.data.push(Y)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var J=new p(this.scene,this,this.currentLayerIndex,T,S,C);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(g,T,S,C){var w=this.getLayerIndex(g);if(w===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var b=this.layers[w];if(b.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=w,S===void 0&&(S=b.x),C===void 0&&(C=b.y);var A=new p(this.scene,this,w,T,S,C);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(g,T,S){S===void 0&&(S=!0);var C=[],w=this.getObjectLayer(g);if(!w)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),C;var b=new i(S?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var A=w.objects,D=0;D<T.length;D++){var B=T[D],N=s(B,"id",null),Y=s(B,"gid",null),H=s(B,"name",null),j=s(B,"type",null);b.enabled=!s(B,"ignoreTileset",null);for(var J,X=[],W=0;W<A.length;W++)J=A[W],(N===null&&Y===null&&H===null&&j===null||N!==null&&J.id===N||Y!==null&&J.gid===Y||H!==null&&J.name===H||j!==null&&b.getTypeIncludingTile(J)===j)&&X.push(J);for(var L=s(B,"classType",f),G=s(B,"scene",this.scene),z=s(B,"container",null),k=s(B,"key",null),K=s(B,"frame",null),$=0;$<X.length;$++){J=X[$];var Q=new L(G);if(Q.setName(J.name),Q.setPosition(J.x,J.y),b.setTextureAndFrame(Q,k,K,J),J.width&&(Q.displayWidth=J.width),J.height&&(Q.displayHeight=J.height),this.orientation===h.ISOMETRIC){var _=this.tileWidth/this.tileHeight,tt={x:Q.x-Q.y,y:(Q.x+Q.y)/_};Q.x=tt.x,Q.y=tt.y}var nt={x:Q.originX*J.width,y:(Q.originY-(J.gid?1:0))*J.height};if(J.rotation){var st=a(J.rotation);n(nt,st),Q.rotation=st}Q.x+=nt.x,Q.y+=nt.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&Q.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(Q.visible=!1),b.setPropertiesFromTiledObject(Q,J),z?z.add(Q):G.add.existing(Q),C.push(Q)}}return C},createFromTiles:function(g,T,S,C,w,b){return b=this.getLayer(b),b===null?null:d.CreateFromTiles(g,T,S,C,w,b)},fill:function(g,T,S,C,w,b,A){return b===void 0&&(b=!0),A=this.getLayer(A),A===null?null:(d.Fill(g,T,S,C,w,b,A),this)},filterObjects:function(g,T,S){if(typeof g=="string"){var C=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+C),null}return g.objects.filter(T,S)},filterTiles:function(g,T,S,C,w,b,A,D){return D=this.getLayer(D),D===null?null:d.FilterTiles(g,T,S,C,w,b,A,D)},findByIndex:function(g,T,S,C){return C=this.getLayer(C),C===null?null:d.FindByIndex(g,T,S,C)},findObject:function(g,T,S){if(typeof g=="string"){var C=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+C),null}return g.objects.find(T,S)||null},findTile:function(g,T,S,C,w,b,A,D){return D=this.getLayer(D),D===null?null:d.FindTile(g,T,S,C,w,b,A,D)},forEachTile:function(g,T,S,C,w,b,A,D){return D=this.getLayer(D),D===null?null:(d.ForEachTile(g,T,S,C,w,b,A,D),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,T){for(var S=0;S<g.length;S++)if(g[S].name===T)return S;return null},getLayer:function(g){var T=this.getLayerIndex(g);return T!==null?this.layers[T]:null},getObjectLayer:function(g){var T=this.getIndex(this.objects,g);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof p&&g.tilemap===this?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,T,S,C){return C=this.getLayer(C),C===null?null:d.GetTileAt(g,T,S,C)},getTileAtWorldXY:function(g,T,S,C,w){return w=this.getLayer(w),w===null?null:d.GetTileAtWorldXY(g,T,S,C,w)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,T,S,C,w,b){return b=this.getLayer(b),b===null?null:d.GetTilesWithin(g,T,S,C,w,b)},getTilesWithinShape:function(g,T,S,C){return C=this.getLayer(C),C===null?null:d.GetTilesWithinShape(g,T,S,C)},getTilesWithinWorldXY:function(g,T,S,C,w,b,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithinWorldXY(g,T,S,C,w,b,A)},getTileset:function(g){var T=this.getIndex(this.tilesets,g);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,T,S){return S=this.getLayer(S),S===null?null:d.HasTileAt(g,T,S)},hasTileAtWorldXY:function(g,T,S,C){return C=this.getLayer(C),C===null?null:d.HasTileAtWorldXY(g,T,S,C)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,T,S,C,w){return C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:d.PutTileAt(g,T,S,C,w)},putTileAtWorldXY:function(g,T,S,C,w,b){return C===void 0&&(C=!0),b=this.getLayer(b),b===null?null:d.PutTileAtWorldXY(g,T,S,C,w,b)},putTilesAt:function(g,T,S,C,w){return C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:(d.PutTilesAt(g,T,S,C,w),this)},randomize:function(g,T,S,C,w,b){return b=this.getLayer(b),b===null?null:(d.Randomize(g,T,S,C,w,b),this)},calculateFacesAt:function(g,T,S){return S=this.getLayer(S),S===null?null:(d.CalculateFacesAt(g,T,S),this)},calculateFacesWithin:function(g,T,S,C,w){return w=this.getLayer(w),w===null?null:(d.CalculateFacesWithin(g,T,S,C,w),this)},removeLayer:function(g){var T=this.getLayerIndex(g);if(T!==null){o(this.layers,T);for(var S=T;S<this.layers.length;S++)this.layers[S].tilemapLayer&&this.layers[S].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var T=this.getLayerIndex(g);return T!==null?(g=this.layers[T],g.tilemapLayer.destroy(),o(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,T=0;T<g.length;T++)g[T].tilemapLayer&&g[T].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,T,S){T===void 0&&(T=-1),S===void 0&&(S=!0);var C=[];Array.isArray(g)||(g=[g]);for(var w=0;w<g.length;w++){var b=g[w];C.push(this.removeTileAt(b.x,b.y,!0,S,b.tilemapLayer)),T>-1&&this.putTileAt(T,b.x,b.y,S,b.tilemapLayer)}return C},removeTileAt:function(g,T,S,C,w){return S===void 0&&(S=!0),C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:d.RemoveTileAt(g,T,S,C,w)},removeTileAtWorldXY:function(g,T,S,C,w,b){return S===void 0&&(S=!0),C===void 0&&(C=!0),b=this.getLayer(b),b===null?null:d.RemoveTileAtWorldXY(g,T,S,C,w,b)},renderDebug:function(g,T,S){return S=this.getLayer(S),S===null?null:(this.orientation===h.ORTHOGONAL&&d.RenderDebug(g,T,S),this)},renderDebugFull:function(g,T){for(var S=this.layers,C=0;C<S.length;C++)d.RenderDebug(g,T,S[C]);return this},replaceByIndex:function(g,T,S,C,w,b,A){return A=this.getLayer(A),A===null?null:(d.ReplaceByIndex(g,T,S,C,w,b,A),this)},setCollision:function(g,T,S,C,w){return T===void 0&&(T=!0),S===void 0&&(S=!0),w===void 0&&(w=!0),C=this.getLayer(C),C===null?null:(d.SetCollision(g,T,S,C,w),this)},setCollisionBetween:function(g,T,S,C,w){return S===void 0&&(S=!0),C===void 0&&(C=!0),w=this.getLayer(w),w===null?null:(d.SetCollisionBetween(g,T,S,C,w),this)},setCollisionByProperty:function(g,T,S,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionByProperty(g,T,S,C),this)},setCollisionByExclusion:function(g,T,S,C){return T===void 0&&(T=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionByExclusion(g,T,S,C),this)},setCollisionFromCollisionGroup:function(g,T,S){return g===void 0&&(g=!0),T===void 0&&(T=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionFromCollisionGroup(g,T,S),this)},setTileIndexCallback:function(g,T,S,C){return C=this.getLayer(C),C===null?null:(d.SetTileIndexCallback(g,T,S,C),this)},setTileLocationCallback:function(g,T,S,C,w,b,A){return A=this.getLayer(A),A===null?null:(d.SetTileLocationCallback(g,T,S,C,w,b,A),this)},setLayer:function(g){var T=this.getLayerIndex(g);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(g,T){this.tileWidth=g,this.tileHeight=T,this.widthInPixels=this.width*g,this.heightInPixels=this.height*T;for(var S=0;S<this.layers.length;S++){this.layers[S].baseTileWidth=g,this.layers[S].baseTileHeight=T;for(var C=this.layers[S].data,w=this.layers[S].width,b=this.layers[S].height,A=0;A<b;A++)for(var D=0;D<w;D++){var B=C[A][D];B!==null&&B.setSize(void 0,void 0,g,T)}}return this},setLayerTileSize:function(g,T,S){if(S=this.getLayer(S),S===null)return this;S.tileWidth=g,S.tileHeight=T;for(var C=S.data,w=S.width,b=S.height,A=0;A<b;A++)for(var D=0;D<w;D++){var B=C[A][D];B!==null&&B.setSize(g,T)}return this},shuffle:function(g,T,S,C,w){return w=this.getLayer(w),w===null?null:(d.Shuffle(g,T,S,C,w),this)},swapByIndex:function(g,T,S,C,w,b,A){return A=this.getLayer(A),A===null?null:(d.SwapByIndex(g,T,S,C,w,b,A),this)},tileToWorldX:function(g,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldX(g,T,S)},tileToWorldY:function(g,T,S){return S=this.getLayer(S),S===null?null:this._convert.TileToWorldY(g,T,S)},tileToWorldXY:function(g,T,S,C,w){return w=this.getLayer(w),w===null?null:this._convert.TileToWorldXY(g,T,S,C,w)},getTileCorners:function(g,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.GetTileCorners(g,T,S,C)},weightedRandomize:function(g,T,S,C,w,b){return b=this.getLayer(b),b===null?null:(d.WeightedRandomize(T,S,C,w,g,b),this)},worldToTileX:function(g,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileX(g,T,S,C)},worldToTileY:function(g,T,S,C){return C=this.getLayer(C),C===null?null:this._convert.WorldToTileY(g,T,S,C)},worldToTileXY:function(g,T,S,C,w,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileXY(g,T,S,C,w,b)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=y},4843:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(99325),c=t(15043);l.register("tilemap",function(a){var r=a!==void 0?a:{};return c(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(61286),c=t(15043);l.register("tilemap",function(a,r,s,e,i,h,n){return a===null&&(a=void 0),r===null&&(r=void 0),s===null&&(s=void 0),e===null&&(e=void 0),i===null&&(i=void 0),c(this.scene,a,r,s,e,i,h,n)})},87177:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(64937),a=t(89980),r=t(5047),s=t(96193),e=t(93736),i=new l({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,s],initialize:function(n,o,f,u,d,p){a.call(this,n,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=f,this.layer=o.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new e,this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(d,p),this.setOrigin(0,0),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var n=[],o=[],f=this.tilemap;Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var d=h[u];if(typeof d=="string"&&(d=f.getTileset(d)),d){o.push(d);for(var p=d.firstgid,m=0;m<d.total;m++)n[p+m]=d}}this.gidMap=n,this.tileset=o},setRenderOrder:function(h){var n=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=n.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,n){return r.CalculateFacesAt(h,n,this.layer),this},calculateFacesWithin:function(h,n,o,f){return r.CalculateFacesWithin(h,n,o,f,this.layer),this},createFromTiles:function(h,n,o,f,u){return r.CreateFromTiles(h,n,o,f,u,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,n,o,f,u,d,p){return r.Copy(h,n,o,f,u,d,p,this.layer),this},fill:function(h,n,o,f,u,d){return r.Fill(h,n,o,f,u,d,this.layer),this},filterTiles:function(h,n,o,f,u,d,p){return r.FilterTiles(h,n,o,f,u,d,p,this.layer)},findByIndex:function(h,n,o){return r.FindByIndex(h,n,o,this.layer)},findTile:function(h,n,o,f,u,d,p){return r.FindTile(h,n,o,f,u,d,p,this.layer)},forEachTile:function(h,n,o,f,u,d,p){return r.ForEachTile(h,n,o,f,u,d,p,this.layer),this},setTint:function(h,n,o,f,u,d){h===void 0&&(h=16777215);var p=function(m){m.tint=h};return this.forEachTile(p,this,n,o,f,u,d)},getTileAt:function(h,n,o){return r.GetTileAt(h,n,o,this.layer)},getTileAtWorldXY:function(h,n,o,f){return r.GetTileAtWorldXY(h,n,o,f,this.layer)},getIsoTileAtWorldXY:function(h,n,o,f,u){o===void 0&&(o=!0);var d=this.tempVec;return r.IsometricWorldToTileXY(h,n,!0,d,u,this.layer,o),this.getTileAt(d.x,d.y,f)},getTilesWithin:function(h,n,o,f,u){return r.GetTilesWithin(h,n,o,f,u,this.layer)},getTilesWithinShape:function(h,n,o){return r.GetTilesWithinShape(h,n,o,this.layer)},getTilesWithinWorldXY:function(h,n,o,f,u,d){return r.GetTilesWithinWorldXY(h,n,o,f,u,d,this.layer)},hasTileAt:function(h,n){return r.HasTileAt(h,n,this.layer)},hasTileAtWorldXY:function(h,n,o){return r.HasTileAtWorldXY(h,n,o,this.layer)},putTileAt:function(h,n,o,f){return r.PutTileAt(h,n,o,f,this.layer)},putTileAtWorldXY:function(h,n,o,f,u){return r.PutTileAtWorldXY(h,n,o,f,u,this.layer)},putTilesAt:function(h,n,o,f){return r.PutTilesAt(h,n,o,f,this.layer),this},randomize:function(h,n,o,f,u){return r.Randomize(h,n,o,f,u,this.layer),this},removeTileAt:function(h,n,o,f){return r.RemoveTileAt(h,n,o,f,this.layer)},removeTileAtWorldXY:function(h,n,o,f,u){return r.RemoveTileAtWorldXY(h,n,o,f,u,this.layer)},renderDebug:function(h,n){return r.RenderDebug(h,n,this.layer),this},replaceByIndex:function(h,n,o,f,u,d){return r.ReplaceByIndex(h,n,o,f,u,d,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,n){return h===void 0&&(h=1),n===void 0&&(n=1),this.cullPaddingX=h,this.cullPaddingY=n,this},setCollision:function(h,n,o,f){return r.SetCollision(h,n,o,this.layer,f),this},setCollisionBetween:function(h,n,o,f){return r.SetCollisionBetween(h,n,o,f,this.layer),this},setCollisionByProperty:function(h,n,o){return r.SetCollisionByProperty(h,n,o,this.layer),this},setCollisionByExclusion:function(h,n,o){return r.SetCollisionByExclusion(h,n,o,this.layer),this},setCollisionFromCollisionGroup:function(h,n){return r.SetCollisionFromCollisionGroup(h,n,this.layer),this},setTileIndexCallback:function(h,n,o){return r.SetTileIndexCallback(h,n,o,this.layer),this},setTileLocationCallback:function(h,n,o,f,u,d){return r.SetTileLocationCallback(h,n,o,f,u,d,this.layer),this},shuffle:function(h,n,o,f){return r.Shuffle(h,n,o,f,this.layer),this},swapByIndex:function(h,n,o,f,u,d){return r.SwapByIndex(h,n,o,f,u,d,this.layer),this},tileToWorldX:function(h,n){return this.tilemap.tileToWorldX(h,n,this)},tileToWorldY:function(h,n){return this.tilemap.tileToWorldY(h,n,this)},tileToWorldXY:function(h,n,o,f){return this.tilemap.tileToWorldXY(h,n,o,f,this)},getTileCorners:function(h,n,o){return this.tilemap.getTileCorners(h,n,o,this)},weightedRandomize:function(h,n,o,f,u){return r.WeightedRandomize(n,o,f,u,h,this.layer),this},worldToTileX:function(h,n,o){return this.tilemap.worldToTileX(h,n,o,this)},worldToTileY:function(h,n,o){return this.tilemap.worldToTileY(h,n,o,this)},worldToTileXY:function(h,n,o,f,u){return this.tilemap.worldToTileXY(h,n,o,f,u,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});v.exports=i},17394:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(69360),c=new l,a=new l,r=new l,s=function(e,i,h,n){var o=i.cull(h),f=o.length,u=h.alpha*i.alpha;if(!(f===0||u<=0)){var d=c,p=a,m=r;p.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),d.copyFrom(h.matrix);var y=e.currentContext,g=i.gidMap;y.save(),n?(d.multiplyWithOffset(n,-h.scrollX*i.scrollFactorX,-h.scrollY*i.scrollFactorY),p.e=i.x,p.f=i.y,d.multiply(p,m),m.copyToContext(y)):(p.e-=h.scrollX*i.scrollFactorX,p.f-=h.scrollY*i.scrollFactorY,p.copyToContext(y)),(!e.antialias||i.scaleX>1||i.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var T=0;T<f;T++){var S=o[T],C=g[S.index];if(C){var w=C.image.getSourceImage(),b=C.getTileTextureCoordinates(S.index),A=C.tileWidth,D=C.tileHeight;if(!(b===null||A===0||D===0)){var B=A*.5,N=D*.5;b.x+=C.tileOffset.x,b.y+=C.tileOffset.y,y.save(),y.translate(S.pixelX+B,S.pixelY+N),S.rotation!==0&&y.rotate(S.rotation),(S.flipX||S.flipY)&&y.scale(S.flipX?-1:1,S.flipY?-1:1),y.globalAlpha=u*S.alpha,y.drawImage(w,b.x,b.y,A,D,-B,-N,A,D),y.restore()}}}y.restore()}};v.exports=s},96193:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72283),c=l,a=l;c=t(51395),a=t(17394),v.exports={renderWebGL:c,renderCanvas:a}},51395:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(75512),c=function(a,r,s){var e=r.cull(s),i=e.length,h=s.alpha*r.alpha;if(!(i===0||h<=0)){var n=r.gidMap,o=a.pipelines.set(r.pipeline,r),f=l.getTintAppendFloatAlpha,u=r.scrollFactorX,d=r.scrollFactorY,p=r.x,m=r.y,y=r.scaleX,g=r.scaleY;a.pipelines.preBatch(r);for(var T=0;T<i;T++){var S=e[T],C=n[S.index];if(C){var w=C.getTileTextureCoordinates(S.index);if(w!==null){var b=C.glTexture,A=o.setTexture2D(b,r),D=C.tileWidth,B=C.tileHeight,N=w.x,Y=w.y,H=C.tileWidth*.5,j=C.tileHeight*.5,J=C.tileOffset.x,X=C.tileOffset.y,W=f(S.tint,h*S.alpha);o.batchTexture(r,b,b.width,b.height,p+S.pixelX*y+(H*y-J),m+S.pixelY*g+(j*g-X),S.width,S.height,y,g,S.rotation,S.flipX,S.flipY,u,d,H,j,N,Y,D,B,W,W,W,W,!1,0,0,s,null,!0,A)}}}a.pipelines.postBatch(r)}};v.exports=c},47975:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(93736),a=new l({initialize:function(s,e,i,h,n,o,f,u,d){(i===void 0||i<=0)&&(i=32),(h===void 0||h<=0)&&(h=32),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=s,this.firstgid=e,this.tileWidth=i,this.tileHeight=h,this.tileMargin=n,this.tileSpacing=o,this.tileProperties=f,this.tileData=u,this.tileOffset=new c,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var s=this.getTileData(r);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,s){return r!==void 0&&(this.tileWidth=r),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,s){return r!==void 0&&(this.tileMargin=r),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,s){var e=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),i=Math.floor(i),this.rows=e,this.columns=i,this.total=e*i,this.texCoordinates.length=0;for(var h=this.tileMargin,n=this.tileMargin,o=0;o<this.rows;o++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:h,y:n}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},92839:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),c=function(a,r,s){var e=l(a,r,!0,s),i=l(a,r-1,!0,s),h=l(a,r+1,!0,s),n=l(a-1,r,!0,s),o=l(a+1,r,!0,s),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),i&&i.collides&&(f&&(e.faceTop=!1),i.faceBottom=!f),h&&h.collides&&(f&&(e.faceBottom=!1),h.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),o&&o.collides&&(f&&(e.faceRight=!1),o.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};v.exports=c},60386:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),c=t(50811),a=function(r,s,e,i,h){for(var n=null,o=null,f=null,u=null,d=c(r,s,e,i,null,h),p=0;p<d.length;p++){var m=d[p];m&&(m.collides?(n=l(m.x,m.y-1,!0,h),o=l(m.x,m.y+1,!0,h),f=l(m.x-1,m.y,!0,h),u=l(m.x+1,m.y,!0,h),m.faceTop=!(n&&n.collides),m.faceBottom=!(o&&o.collides),m.faceLeft=!(f&&f.collides),m.faceRight=!(u&&u.collides)):m.resetFaces())}};v.exports=a},13125:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=new l,a=function(r,s,e,i){var h=e.tilemapLayer,n=h.cullPaddingX,o=h.cullPaddingY,f=h.tilemap.tileToWorldXY(r,s,c,i,h);return f.x>i.worldView.x+h.scaleX*e.tileWidth*(-n-.5)&&f.x<i.worldView.right+h.scaleX*e.tileWidth*(n-.5)&&f.y>i.worldView.y+h.scaleY*e.tileHeight*(-o-1)&&f.y<i.worldView.bottom+h.scaleY*e.tileHeight*(o-.5)};v.exports=a},17347:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60386),c=t(50811),a=t(62839),r=t(29633),s=function(e,i,h,n,o,f,u,d){u===void 0&&(u=!0);var p=c(e,i,h,n,null,d),m=[];p.forEach(function(b){var A=new r(b.layer,b.index,b.x,b.y,b.width,b.height,b.baseWidth,b.baseHeight);A.copy(b),m.push(A)});for(var y=o-e,g=f-i,T=0;T<m.length;T++){var S=m[T],C=S.x+y,w=S.y+g;a(C,w,d)&&d.data[w][C]&&(S.x=C,S.y=w,S.updatePixelXY(),d.data[w][C]=S)}u&&l(o-1,f-1,h+2,n+2,d),p.length=0,m.length=0};v.exports=s},93604:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(51202),a=function(r,s,e,i,h,n){e||(e={}),Array.isArray(r)||(r=[r]);var o=n.tilemapLayer;i||(i=o.scene),h||(h=i.cameras.main);var f=l(0,0,n.width,n.height,null,n),u=[],d;for(d=0;d<f.length;d++){var p=f[d];if(r.indexOf(p.index)!==-1){var m=o.tileToWorldXY(p.x,p.y,void 0,h,n);e.x=m.x,e.y=m.y,u.push(i.make.sprite(e))}}if(typeof s=="number")for(d=0;d<r.length;d++)c(r[d],s,0,0,n.width,n.height,n);else if(Array.isArray(s))for(d=0;d<r.length;d++)c(r[d],s[d],0,0,n.width,n.height,n);return u};v.exports=a},71586:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(74118),c=t(82127),a=t(84314),r=new l,s=function(e,i){var h=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(h.tileWidth*n.scaleX),f=Math.floor(h.tileHeight*n.scaleY),u=a(i.worldView.x-n.x,o,0,!0)-n.cullPaddingX,d=c(i.worldView.right-n.x,o,0,!0)+n.cullPaddingX,p=a(i.worldView.y-n.y,f,0,!0)-n.cullPaddingY,m=c(i.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return r.setTo(u,p,d-u,m-p)};v.exports=s},381:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(71586),c=t(6987),a=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var h=r.tilemapLayer,n=l(r,s);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};v.exports=a},97734:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(60386),a=t(68234),r=function(s,e,i,h,n,o,f){for(var u=f.collideIndexes.indexOf(s)!==-1,d=l(e,i,h,n,null,f),p=0;p<d.length;p++)d[p].index=s,a(d[p],u);o&&c(e-1,i-1,h+2,n+2,f)};v.exports=r},63555:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n,o){var f=l(s,e,i,h,n,o);return f.filter(a,r)};v.exports=c},37982:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l===void 0&&(l=0),c===void 0&&(c=!1);var r=0,s,e,i;if(c){for(e=a.height-1;e>=0;e--)for(s=a.width-1;s>=0;s--)if(i=a.data[e][s],i&&i.index===t){if(r===l)return i;r+=1}}else for(e=0;e<a.height;e++)for(s=0;s<a.width;s++)if(i=a.data[e][s],i&&i.index===t){if(r===l)return i;r+=1}return null};v.exports=x},48297:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n,o){var f=l(s,e,i,h,n,o);return f.find(a,r)||null};v.exports=c},80916:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n,o){var f=l(s,e,i,h,n,o);f.forEach(a,r)};v.exports=c},31493:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(381),a=t(37524),r=t(20887),s=t(72283),e=t(19242),i=function(h){return h===l.ORTHOGONAL?c:h===l.HEXAGONAL?a:h===l.STAGGERED?e:h===l.ISOMETRIC?r:s};v.exports=i},15494:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62839),c=function(a,r,s,e){if(s===void 0&&(s=!1),l(a,r,e)){var i=e.data[r][a]||null;return i?i.index===-1?s?i:null:i:null}else return null};v.exports=c},24640:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(15494),c=t(93736),a=new c,r=function(s,e,i,h,n){return n.tilemapLayer.worldToTileXY(s,e,!0,a,h),l(a.x,a.y,i,n)};v.exports=r},48495:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e){var i=e.baseTileWidth,h=e.baseTileHeight,n=e.tilemapLayer,o=0,f=0;n&&(s||(s=n.scene.cameras.main),o=n.x+s.scrollX*(1-n.scrollFactorX),f=n.y+s.scrollY*(1-n.scrollFactorY),i*=n.scaleX,h*=n.scaleY);var u=o+a*i,d=f+r*h;return[new l(u,d),new l(u+i,d),new l(u+i,d+h),new l(u,d+h)]};v.exports=c},7160:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(63634),a=t(72283),r=t(48495),s=function(e){return e===l.ORTHOGONAL?r:e===l.ISOMETRIC?a:e===l.HEXAGONAL?c:(e===l.STAGGERED,a)};v.exports=s},16884:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(72283),a=t(44150),r=function(s){return s===l.ORTHOGONAL?a:c};v.exports=r},68182:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(21715),a=t(21808),r=t(72283),s=t(33388),e=t(46836),i=function(h){return h===l.ORTHOGONAL?e:h===l.ISOMETRIC?a:h===l.HEXAGONAL?c:h===l.STAGGERED?s:r};v.exports=i},3752:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(72283),a=t(84132),r=t(42477),s=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:c};v.exports=s},50811:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=function(a,r,s,e,i,h){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=h.width),e===void 0&&(e=h.height),i||(i={});var n=l(i,"isNotEmpty",!1),o=l(i,"isColliding",!1),f=l(i,"hasInterestingFace",!1);a<0&&(s+=a,a=0),r<0&&(e+=r,r=0),a+s>h.width&&(s=Math.max(h.width-a,0)),r+e>h.height&&(e=Math.max(h.height-r,0));for(var u=[],d=r;d<r+e;d++)for(var p=a;p<a+s;p++){var m=h.data[d][p];if(m!==null){if(n&&m.index===-1||o&&!m.collides||f&&!m.hasInterestingFace)continue;u.push(m)}}return u};v.exports=c},31674:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(84068),c=t(50811),a=t(7563),r=t(72283),s=t(93736),e=function(f,u){return a.RectangleToTriangle(u,f)},i=new s,h=new s,n=new s,o=function(f,u,d,p){if(f===void 0)return[];var m=r;f instanceof l.Circle?m=a.CircleToRectangle:f instanceof l.Rectangle?m=a.RectangleToRectangle:f instanceof l.Triangle?m=e:f instanceof l.Line&&(m=a.LineToRectangle),p.tilemapLayer.worldToTileXY(f.left,f.top,!0,h,d);var y=h.x,g=h.y;p.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,d);var T=Math.ceil(n.x),S=Math.ceil(n.y),C=Math.max(T-y,1),w=Math.max(S-g,1),b=c(y,g,C,w,u,p),A=p.tileWidth,D=p.tileHeight;p.tilemapLayer&&(A*=p.tilemapLayer.scaleX,D*=p.tilemapLayer.scaleY);for(var B=[],N=new l.Rectangle(0,0,A,D),Y=0;Y<b.length;Y++){var H=b[Y];p.tilemapLayer.tileToWorldXY(H.x,H.y,i,d),N.x=i.x,N.y=i.y,m(f,N)&&B.push(H)}return B};v.exports=o},44662:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(93736),a=new c,r=new c,s=function(e,i,h,n,o,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,i,!0,a,f,u);var p=a.x,m=a.y;d(e+h,i+n,!1,r,f,u);var y=Math.ceil(r.x),g=Math.ceil(r.y);return l(p,m,y-p,g-m,o,u)};v.exports=s},29296:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(10618),a=t(806),r=function(s){return s===l.ORTHOGONAL?a:c};v.exports=r},32688:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(11516),a=t(18750),r=t(72283),s=t(90562),e=t(45676),i=function(h){return h===l.ORTHOGONAL?e:h===l.ISOMETRIC?a:h===l.HEXAGONAL?c:h===l.STAGGERED?s:r};v.exports=i},74326:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=t(10618),a=t(3689),r=t(70520),s=function(e){return e===l.ORTHOGONAL?r:e===l.STAGGERED?a:c};v.exports=s},46598:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(62839),c=function(a,r,s){if(l(a,r,s)){var e=s.data[r][a];return e!==null&&e.index>-1}else return!1};v.exports=c},28654:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(46598),c=t(93736),a=new c,r=function(s,e,i,h){h.tilemapLayer.worldToTileXY(s,e,!0,a,i);var n=a.x,o=a.y;return l(n,o,h)};v.exports=r},6358:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82127),c=t(84314),a=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,h=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),o=r.hexSideLength,f,u,d,p;if(this.staggerAxis==="y"){var m=(n-o)/2+o;f=c(s.worldView.x-i.x,h,0,!0)-i.cullPaddingX,u=l(s.worldView.right-i.x,h,0,!0)+i.cullPaddingX,d=c(s.worldView.y-i.y,m,0,!0)-i.cullPaddingY,p=l(s.worldView.bottom-i.y,m,0,!0)+i.cullPaddingY}else{var y=(h-o)/2+o;f=c(s.worldView.x-i.x,y,0,!0)-i.cullPaddingX,u=l(s.worldView.right-i.x,y,0,!0)+i.cullPaddingX,d=c(s.worldView.y-i.y,n,0,!0)-i.cullPaddingY,p=l(s.worldView.bottom-i.y,n,0,!0)+i.cullPaddingY}return{left:f,right:u,top:d,bottom:p}};v.exports=a},37524:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(6358),c=t(6987),a=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var h=r.tilemapLayer,n=l(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};v.exports=a},63634:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21715),c=t(93736),a=new c,r=function(s,e,i,h){var n=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(n*=f.scaleX,o*=f.scaleY);var u=l(s,e,a,i,h),d=[],p=.5773502691896257,m,y;this.staggerAxis==="y"?(m=p*n,y=o/2):(m=n/2,y=p*o);for(var g=0;g<6;g++){var T=2*Math.PI*(.5-g)/6;d.push(new c(u.x+m*Math.cos(T),u.y+y*Math.sin(T)))}return d};v.exports=r},21715:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i){s||(s=new l);var h=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),u=o.y+e.scrollY*(1-o.scrollFactorY),h*=o.scaleX,n*=o.scaleY);var d=h/2,p=n/2,m,y;return this.staggerAxis==="y"?(m=f+h*a+h,y=u+1.5*r*p+p,r%2===0&&(this.staggerIndex==="odd"?m-=d:m+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(m=f+1.5*a*d+d,y=u+n*a+n,a%2===0&&(this.staggerIndex==="odd"?y-=p:y+=p)),s.set(m,y)};v.exports=c},11516:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i,h){e||(e=new l);var n=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(i||(i=f.scene.cameras.main),a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,p=0,m=.6666666666666666,y=n/2,g=o/2,T,S,C,w,b;h.staggerAxis==="y"?(T=(a-y)/(u*n),S=(r-g)/g,C=u*T+d*S,w=p*T+m*S):(T=(a-y)/y,S=(r-g)/(u*o),C=d*T+u*S,w=m*T+p*S),b=-C-w;var A=Math.round(C),D=Math.round(w),B=Math.round(b),N=Math.abs(A-C),Y=Math.abs(D-w),H=Math.abs(B-b);N>Y&&N>H?A=-D-B:Y>H&&(D=-A-B);var j,J=D;return h.staggerIndex==="odd"?j=J%2===0?D/2+A:D/2+A-.5:j=J%2===0?D/2+A:D/2+A+.5,e.set(j,J)};v.exports=c},62839:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t>=0&&t<c.width&&l>=0&&l<c.height};v.exports=x},20887:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(13125),c=function(a,r,s,e){s===void 0&&(s=[]),e===void 0&&(e=0),s.length=0;var i=a.tilemapLayer,h=a.data,n=a.width,o=a.height,f=i.skipCull,u=0,d=n,p=0,m=o,y,g,T;if(e===0){for(g=p;g<m;g++)for(y=u;y<d;y++)if(f||l(y,g,a,r)){if(T=h[g][y],!T||T.index===-1||!T.visible||T.alpha===0)continue;s.push(T)}}else if(e===1){for(g=p;g<m;g++)for(y=d;y>=u;y--)if(f||l(y,g,a,r)){if(T=h[g][y],!T||T.index===-1||!T.visible||T.alpha===0)continue;s.push(T)}}else if(e===2){for(g=m;g>=p;g--)for(y=u;y<d;y++)if(f||l(y,g,a,r)){if(T=h[g][y],!T||T.index===-1||!T.visible||T.alpha===0)continue;s.push(T)}}else if(e===3){for(g=m;g>=p;g--)for(y=d;y>=u;y--)if(f||l(y,g,a,r)){if(T=h[g][y],!T||T.index===-1||!T.visible||T.alpha===0)continue;s.push(T)}}return i.tilesDrawn=s.length,i.tilesTotal=n*o,s};v.exports=c},21808:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i){s||(s=new l);var h=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),h*=o.scaleX,u=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var d=f+(a-r)*(h/2),p=u+(a+r)*(n/2);return s.set(d,p)};v.exports=c},18750:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i,h,n){e||(e=new l);var o=h.baseTileWidth,f=h.baseTileHeight,u=h.tilemapLayer;u&&(i||(i=u.scene.cameras.main),r=r-(u.y+i.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,a=a-(u.x+i.scrollX*(1-u.scrollFactorX)),o*=u.scaleX);var d=o/2,p=f/2;a=a-d,n||(r=r-f);var m=.5*(a/d+r/p),y=.5*(-a/d+r/p);return s&&(m=Math.floor(m),y=Math.floor(y)),e.set(m,y)};v.exports=c},29003:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29633),c=t(62839),a=t(92839),r=t(68234),s=function(e,i,h,n,o){if(n===void 0&&(n=!0),!c(i,h,o))return null;var f,u=o.data[h][i],d=u&&u.collides;e instanceof l?(o.data[h][i]===null&&(o.data[h][i]=new l(o,e.index,i,h,o.tileWidth,o.tileHeight)),o.data[h][i].copy(e)):(f=e,o.data[h][i]===null?o.data[h][i]=new l(o,f,i,h,o.tileWidth,o.tileHeight):o.data[h][i].index=f);var p=o.data[h][i],m=o.collideIndexes.indexOf(p.index)!==-1;if(f=e instanceof l?e.index:e,f===-1)p.width=o.tileWidth,p.height=o.tileHeight;else{var y=o.tilemapLayer.tilemap.tiles,g=y[f][2],T=o.tilemapLayer.tileset[g];p.width=T.tileWidth,p.height=T.tileHeight}return r(p,m),n&&d!==p.collides&&a(i,h,o),p};v.exports=s},48565:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29003),c=t(93736),a=new c,r=function(s,e,i,h,n,o){return o.tilemapLayer.worldToTileXY(e,i,!0,a,n,o),l(s,a.x,a.y,h,o)};v.exports=r},56547:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(60386),c=t(29003),a=function(r,s,e,i,h){if(i===void 0&&(i=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var n=r.length,o=r[0].length,f=0;f<n;f++)for(var u=0;u<o;u++){var d=r[f][u];c(d,s+u,e+f,!1,h)}i&&l(s-1,e-1,o+2,n+2,h)};v.exports=a},91180:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(72861),a=function(r,s,e,i,h,n){var o,f=l(r,s,e,i,{},n);if(!h)for(h=[],o=0;o<f.length;o++)h.indexOf(f[o].index)===-1&&h.push(f[o].index);for(o=0;o<f.length;o++)f[o].index=c(h)};v.exports=a},929:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(29633),c=t(62839),a=t(92839),r=function(s,e,i,h,n){if(i===void 0&&(i=!0),h===void 0&&(h=!0),!c(s,e,n))return null;var o=n.data[e][s];if(o)n.data[e][s]=i?null:new l(n,-1,s,e,n.tileWidth,n.tileHeight);else return null;return h&&o&&o.collides&&a(s,e,n),o};v.exports=r},17384:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(929),c=t(93736),a=new c,r=function(s,e,i,h,n,o){return o.tilemapLayer.worldToTileXY(s,e,!0,a,n,o),l(a.x,a.y,i,h,o)};v.exports=r},93763:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(95509),a=new c(105,210,231,150),r=new c(243,134,48,200),s=new c(40,39,37,150),e=function(i,h,n){h===void 0&&(h={});var o=h.tileColor!==void 0?h.tileColor:a,f=h.collidingTileColor!==void 0?h.collidingTileColor:r,u=h.faceColor!==void 0?h.faceColor:s,d=l(0,0,n.width,n.height,null,n);i.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),i.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var m=d[p],y=m.width,g=m.height,T=m.pixelX,S=m.pixelY,C=m.collides?f:o;C!==null&&(i.fillStyle(C.color,C.alpha/255),i.fillRect(T,S,y,g)),T+=1,S+=1,y-=2,g-=2,u!==null&&(i.lineStyle(1,u.color,u.alpha/255),m.faceTop&&i.lineBetween(T,S,T+y,S),m.faceRight&&i.lineBetween(T+y,S,T+y,S+g),m.faceBottom&&i.lineBetween(T,S+g,T+y,S+g),m.faceLeft&&i.lineBetween(T,S,T,S+g))}};v.exports=e},51202:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n){for(var o=l(s,e,i,h,null,n),f=0;f<o.length;f++)o[f]&&o[f].index===a&&(o[f].index=r)};v.exports=c},6987:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=t.data,s=t.width,e=t.height,i=t.tilemapLayer,h=Math.max(0,l.left),n=Math.min(s,l.right),o=Math.max(0,l.top),f=Math.min(e,l.bottom),u,d,p;if(c===0)for(d=o;d<f;d++)for(u=h;r[d]&&u<n;u++)p=r[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===1)for(d=o;d<f;d++)for(u=n;r[d]&&u>=h;u--)p=r[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===2)for(d=f;d>=o;d--)for(u=h;r[d]&&u<n;u++)p=r[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===3)for(d=f;d>=o;d--)for(u=n;r[d]&&u>=h;u--)p=r[d][u],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);return i.tilesDrawn=a.length,i.tilesTotal=s*e,a};v.exports=x},51710:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),c=t(60386),a=t(91181),r=function(s,e,i,h,n){e===void 0&&(e=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++)a(s[o],e,h);if(n)for(var f=0;f<h.height;f++)for(var u=0;u<h.width;u++){var d=h.data[f][u];d&&s.indexOf(d.index)!==-1&&l(d,e)}i&&c(0,0,h.width,h.height,h)};v.exports=r},15216:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),c=t(60386),a=t(91181),r=function(s,e,i,h,n,o){if(i===void 0&&(i=!0),h===void 0&&(h=!0),o===void 0&&(o=!0),!(s>e)){for(var f=s;f<=e;f++)a(f,i,n);if(o)for(var u=0;u<n.height;u++)for(var d=0;d<n.width;d++){var p=n.data[u][d];p&&p.index>=s&&p.index<=e&&l(p,i)}h&&c(0,0,n.width,n.height,n)}};v.exports=r},33158:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),c=t(60386),a=t(91181),r=function(s,e,i,h){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<h.height;n++)for(var o=0;o<h.width;o++){var f=h.data[n][o];f&&s.indexOf(f.index)===-1&&(l(f,e),a(f.index,e,h))}i&&c(0,0,h.width,h.height,h)};v.exports=r},4180:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),c=t(60386),a=t(19256),r=function(s,e,i,h){e===void 0&&(e=!0),i===void 0&&(i=!0);for(var n=0;n<h.height;n++)for(var o=0;o<h.width;o++){var f=h.data[n][o];if(f){for(var u in s)if(a(f.properties,u)){var d=s[u];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)f.properties[u]===d[p]&&l(f,e)}}}i&&c(0,0,h.width,h.height,h)};v.exports=r},18625:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(68234),c=t(60386),a=function(r,s,e){r===void 0&&(r=!0),s===void 0&&(s=!0);for(var i=0;i<e.height;i++)for(var h=0;h<e.width;h++){var n=e.data[i][h];if(n){var o=n.getCollisionGroup();o&&o.objects&&o.objects.length>0&&l(n,r)}}s&&c(0,0,e.width,e.height,e)};v.exports=a},91181:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=c.collideIndexes.indexOf(t);l&&a===-1?c.collideIndexes.push(t):!l&&a!==-1&&c.collideIndexes.splice(a,1)};v.exports=x},68234:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=x},11628:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){if(typeof t=="number")a.callbacks[t]=l!==null?{callback:l,callbackContext:c}:void 0;else for(var r=0,s=t.length;r<s;r++)a.callbacks[t[r]]=l!==null?{callback:l,callbackContext:c}:void 0};v.exports=x},72732:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n){for(var o=l(a,r,s,e,null,n),f=0;f<o.length;f++)o[f].setCollisionCallback(i,h)};v.exports=c},34397:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=t(18592),a=function(r,s,e,i,h){var n=l(r,s,e,i,null,h),o=n.map(function(u){return u.index});c(o);for(var f=0;f<n.length;f++)n[f].index=o[f]};v.exports=a},53945:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(82127),c=t(84314),a=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,h=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),o=c(s.worldView.x-i.x,h,0,!0)-i.cullPaddingX,f=l(s.worldView.right-i.x,h,0,!0)+i.cullPaddingX,u=c(s.worldView.y-i.y,n/2,0,!0)-i.cullPaddingY,d=l(s.worldView.bottom-i.y,n/2,0,!0)+i.cullPaddingY;return{left:o,right:f,top:u,bottom:d}};v.exports=a},19242:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53945),c=t(6987),a=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var h=r.tilemapLayer,n=l(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};v.exports=a},33388:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i){s||(s=new l);var h=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,u=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),h*=o.scaleX,u=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var d=f+a*h+r%2*(h/2),p=u+r*(n/2);return s.set(d,p)};v.exports=c},84132:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=c.baseTileHeight,r=c.tilemapLayer,s=0;return r&&(l===void 0&&(l=r.scene.cameras.main),s=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+t*(a/2)+a};v.exports=x},90562:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i,h){e||(e=new l);var n=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(i||(i=f.scene.cameras.main),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),o*=f.scaleY,a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var u=s?Math.floor(r/(o/2)):r/(o/2),d=s?Math.floor((a+u%2*.5*n)/n):(a+u%2*.5*n)/n;return e.set(d,u)};v.exports=c},3689:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=a.baseTileHeight,s=a.tilemapLayer;return s&&(c||(c=s.scene.cameras.main),t=t-(s.y+c.scrollY*(1-s.scrollFactorY)),r*=s.scaleY),l?Math.floor(t/(r/2)):t/(r/2)};v.exports=x},55217:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h,n){for(var o=l(s,e,i,h,null,n),f=0;f<o.length;f++)o[f]&&(o[f].index===a?o[f].index=r:o[f].index===r&&(o[f].index=a))};v.exports=c},44150:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=c.baseTileWidth,r=c.tilemapLayer,s=0;return r&&(l||(l=r.scene.cameras.main),s=r.x+l.scrollX*(1-r.scrollFactorX),a*=r.scaleX),s+t*a};v.exports=x},46836:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(44150),c=t(42477),a=t(93736),r=function(s,e,i,h,n){return i||(i=new a(0,0)),i.x=l(s,h,n),i.y=c(e,h,n),i};v.exports=r},42477:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=c.baseTileHeight,r=c.tilemapLayer,s=0;return r&&(l||(l=r.scene.cameras.main),s=r.y+l.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+t*a};v.exports=x},39677:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(50811),c=function(a,r,s,e,i,h){if(i){var n,o=l(a,r,s,e,null,h),f=0;for(n=0;n<i.length;n++)f+=i[n].weight;if(!(f<=0))for(n=0;n<o.length;n++){for(var u=Math.random()*f,d=0,p=-1,m=0;m<i.length;m++)if(d+=i[m].weight,u<=d){var y=i[m].index;p=Array.isArray(y)?y[Math.floor(Math.random()*y.length)]:y;break}o[n].index=p}}};v.exports=c},806:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45676),c=t(93736),a=new c,r=function(s,e,i,h){return l(s,0,e,a,i,h),a.x};v.exports=r},45676:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93736),c=function(a,r,s,e,i,h){s===void 0&&(s=!0),e||(e=new l);var n=h.baseTileWidth,o=h.baseTileHeight,f=h.tilemapLayer;f&&(i||(i=f.scene.cameras.main),a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var u=a/n,d=r/o;return s&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};v.exports=c},70520:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45676),c=t(93736),a=new c,r=function(s,e,i,h){return l(0,s,e,a,i,h),a.y};v.exports=r},5047:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={ORIENTATION:t(12920)};v.exports=l},52678:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=t(84758),a={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};a=l(!1,a,c.ORIENTATION),v.exports=a},94990:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12920),a=t(72632),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},16586:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(12920),a=t(72632),r=new l({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},15256:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=new l({initialize:function(s){s===void 0&&(s={}),this.name=c(s,"name","object layer"),this.opacity=c(s,"opacity",1),this.properties=c(s,"properties",{}),this.propertyTypes=c(s,"propertytypes",{}),this.type=c(s,"type","objectgroup"),this.visible=c(s,"visible",!0),this.objects=c(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},21394:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(12920),c=function(a){return a=a.toLowerCase(),a==="isometric"?l.ISOMETRIC:a==="staggered"?l.STAGGERED:a==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};v.exports=c},90715:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),c=t(84346),a=t(96097),r=t(2378),s=t(44909),e=function(i,h,n,o,f,u){var d;switch(h){case l.ARRAY_2D:d=c(i,n,o,f,u);break;case l.CSV:d=a(i,n,o,f,u);break;case l.TILED_JSON:d=r(i,n,u);break;case l.WELTMEISTER:d=s(i,n,u);break;default:console.warn("Unrecognized tilemap data format: "+h),d=null}return d};v.exports=e},84346:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),c=t(94990),a=t(16586),r=t(29633),s=function(e,i,h,n,o){for(var f=new c({tileWidth:h,tileHeight:n}),u=new a({name:e,tileWidth:h,tileHeight:n,format:l.ARRAY_2D,layers:[f]}),d=[],p=i.length,m=0,y=0;y<i.length;y++){d[y]=[];for(var g=i[y],T=0;T<g.length;T++){var S=parseInt(g[T],10);isNaN(S)||S===-1?d[y][T]=o?null:new r(f,-1,T,y,h,n):d[y][T]=new r(f,S,T,y,h,n)}m===0&&(m=g.length)}return u.width=f.width=m,u.height=f.height=p,u.widthInPixels=f.widthInPixels=m*h,u.heightInPixels=f.heightInPixels=p*n,f.data=d,u};v.exports=s},96097:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),c=t(84346),a=function(r,s,e,i,h){var n=s.trim().split(`
`).map(function(f){return f.split(",")}),o=c(r,n,e,i,h);return o.format=l.CSV,o};v.exports=a},30951:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(94990),c=t(29633),a=function(r,s){for(var e=[],i=0;i<r.layer.length;i++){for(var h=r.layer[i],n=new l({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),o=[],f=[],u=0;u<h.data.length;u++){for(var d=0;d<h.data[u].length;d++){var p=h.data[u][d]-1,m;p>-1?m=new c(n,p,d,u,h.tilesize,h.tilesize):m=s?null:new c(n,-1,d,u,h.tilesize,h.tilesize),o.push(m)}f.push(o),o=[]}n.data=f,e.push(n)}return e};v.exports=a},47488:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),c=function(a){for(var r=[],s=[],e=0;e<a.layer.length;e++){var i=a.layer[e],h=i.tilesetName;h!==""&&s.indexOf(h)===-1&&(s.push(h),r.push(new l(h,0,i.tilesize,i.tilesize,0,0)))}return r};v.exports=c},44909:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(93560),c=t(16586),a=t(30951),r=t(47488),s=function(e,i,h){if(i.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,o=0,f=0;f<i.layer.length;f++)i.layer[f].width>n&&(n=i.layer[f].width),i.layer[f].height>o&&(o=i.layer[f].height);var u=new c({width:n,height:o,name:e,tileWidth:i.layer[0].tilesize,tileHeight:i.layer[0].tilesize,format:l.WELTMEISTER});return u.layers=a(i,h),u.tilesets=r(i),u};v.exports=s},24507:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(98611),c=function(a){for(var r,s,e,i,h,n=0;n<a.layers.length;n++){r=a.layers[n],i=null;for(var o=0;o<r.data.length;o++){h=r.data[o];for(var f=0;f<h.length;f++)s=h[f],!(s===null||s.index<0)&&(e=a.tiles[s.index][2],i=a.tilesets[e],s.width=i.tileWidth,s.height=i.tileHeight,i.tileProperties&&i.tileProperties[s.index-i.firstgid]&&(s.properties=l(s.properties,i.tileProperties[s.index-i.firstgid])))}}};v.exports=c},43908:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=window.atob(t),c=l.length,a=new Array(c/4),r=0;r<c;r+=4)a[r/4]=(l.charCodeAt(r)|l.charCodeAt(r+1)<<8|l.charCodeAt(r+2)<<16|l.charCodeAt(r+3)<<24)>>>0;return a};v.exports=x},14556:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),c=function(a){var r,s,e=[];for(r=0;r<a.imageCollections.length;r++)for(var i=a.imageCollections[r],h=i.images,n=0;n<h.length;n++){var o=h[n];s=new l(o.image,o.gid,i.imageWidth,i.imageHeight,0,0),s.updateTileData(i.imageWidth,i.imageHeight),a.tilesets.push(s)}for(r=0;r<a.tilesets.length;r++){s=a.tilesets[r];for(var f=s.tileMargin,u=s.tileMargin,d=0,p=0,m=0,y=s.firstgid;y<s.firstgid+s.total&&(e[y]=[f,u,r],f+=s.tileWidth+s.tileSpacing,d++,!(d===s.total||(p++,p===s.columns&&(f=s.tileMargin,u+=s.tileHeight+s.tileSpacing,p=0,m++,m===s.rows))));y++);}return e};v.exports=c},92044:(v,x,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=function(a,r,s){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+l(r,"startx",0)*a.tilewidth+l(r,"offsetx",0),i=r.y+l(r,"starty",0)*a.tileheight+l(r,"offsety",0);return{i:0,layers:r.layers,name:s.name+r.name+"/",opacity:s.opacity*r.opacity,visible:s.visible&&r.visible,x:s.x+e,y:s.y+i}};v.exports=c},8847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,t=1073741824,l=536870912,c=function(a){var r=!!(a&x),s=!!(a&t),e=!!(a&l);a=a&~(x|t|l);var i=0,h=!1;return r&&s&&e?(i=Math.PI/2,h=!0):r&&s&&!e?(i=Math.PI,h=!1):r&&!s&&e?(i=Math.PI/2,h=!1):r&&!s&&!e?(i=0,h=!0):!r&&s&&e?(i=3*Math.PI/2,h=!1):!r&&s&&!e?(i=Math.PI,h=!0):!r&&!s&&e?(i=3*Math.PI/2,h=!0):!r&&!s&&!e&&(i=0,h=!1),{gid:a,flippedHorizontal:r,flippedVertical:s,flippedAntiDiagonal:e,rotation:i,flipped:h}};v.exports=c},78339:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=t(92044),a=function(r){for(var s=[],e=[],i=c(r);i.i<i.layers.length||e.length>0;){if(i.i>=i.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=e.pop();continue}var h=i.layers[i.i];if(i.i++,h.type!=="imagelayer"){if(h.type==="group"){var n=c(r,h,i);e.push(i),i=n}continue}var o=l(h,"offsetx",0)+l(h,"startx",0),f=l(h,"offsety",0)+l(h,"starty",0);s.push({name:i.name+h.name,image:h.image,x:i.x+o+h.x,y:i.y+f+h.y,alpha:i.opacity*h.opacity,visible:i.visible&&h.visible,properties:l(h,"properties",{})})}return s};v.exports=a},2378:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(48646),c=t(14556),a=t(12920),r=t(28699),s=t(93560),e=t(21394),i=t(16586),h=t(78339),n=t(61136),o=t(95925),f=t(93392),u=function(d,p,m){var y=r(p),g=new i({width:y.width,height:y.height,name:d,tileWidth:y.tilewidth,tileHeight:y.tileheight,orientation:e(y.orientation),format:s.TILED_JSON,version:y.version,properties:y.properties,renderOrder:y.renderorder,infinite:y.infinite});g.orientation===a.HEXAGONAL&&(g.hexSideLength=y.hexsidelength,g.staggerAxis=y.staggeraxis,g.staggerIndex=y.staggerindex),g.layers=o(y,m),g.images=h(y);var T=f(y);return g.tilesets=T.tilesets,g.imageCollections=T.imageCollections,g.objects=n(y),g.tiles=c(g),l(g),g};v.exports=u},4281:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(28820),c=t(8847),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(e,i,h){i===void 0&&(i=0),h===void 0&&(h=0);var n=l(e,r);if(n.x+=i,n.y+=h,e.gid){var o=c(e.gid);n.gid=o.gid,n.flippedHorizontal=o.flippedHorizontal,n.flippedVertical=o.flippedVertical,n.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(a):e.polygon?n.polygon=e.polygon.map(a):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};v.exports=s},61136:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72632),c=t(4281),a=t(15256),r=t(92044),s=function(e){for(var i=[],h=[],n=r(e);n.i<n.layers.length||h.length>0;){if(n.i>=n.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=h.pop();continue}var o=n.layers[n.i];if(n.i++,o.opacity*=n.opacity,o.visible=n.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var f=r(e,o,n);h.push(n),n=f}continue}o.name=n.name+o.name;for(var u=n.x+l(o,"startx",0)+l(o,"offsetx",0),d=n.y+l(o,"starty",0)+l(o,"offsety",0),p=[],m=0;m<o.objects.length;m++){var y=c(o.objects[m],u,d);p.push(y)}var g=new a(o);g.objects=p,i.push(g)}return i};v.exports=s},95925:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(43908),c=t(12920),a=t(92044),r=t(21394),s=t(72632),e=t(94990),i=t(8847),h=t(29633),n=function(o,f){for(var u=s(o,"infinite",!1),d=[],p=[],m=a(o);m.i<m.layers.length||p.length>0;){if(m.i>=m.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=p.pop();continue}var y=m.layers[m.i];if(m.i++,y.type!=="tilelayer"){if(y.type==="group"){var g=a(o,y,m);p.push(m),m=g}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var T=0;T<y.chunks.length;T++)y.chunks[T].data=l(y.chunks[T].data);y.data&&(y.data=l(y.data)),delete y.encoding}var S,C,w,b,A=[],D=0;if(u){var B=s(y,"startx",0)+y.x,N=s(y,"starty",0)+y.y;S=new e({name:m.name+y.name,x:m.x+s(y,"offsetx",0)+B*o.tilewidth,y:m.y+s(y,"offsety",0)+N*o.tileheight,width:y.width,height:y.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*y.opacity,visible:m.visible&&y.visible,properties:s(y,"properties",[]),orientation:r(o.orientation)}),S.orientation===c.HEXAGONAL&&(S.hexSideLength=o.hexsidelength,S.staggerAxis=o.staggeraxis,S.staggerIndex=o.staggerindex);for(var Y=0;Y<y.height;Y++){A[Y]=[null];for(var H=0;H<y.width;H++)A[Y][H]=null}for(Y=0,Q=y.chunks.length;Y<Q;Y++)for(var j=y.chunks[Y],J=j.x-B,X=j.y-N,W=0,L=0,G=j.data.length;L<G;L++){var z=D+J,k=W+X;C=i(j.data[L]),C.gid>0?(w=new h(S,C.gid,z,k,o.tilewidth,o.tileheight),w.rotation=C.rotation,w.flipX=C.flipped,A[k][z]=w):(b=f?null:new h(S,-1,z,k,o.tilewidth,o.tileheight),A[k][z]=b),D++,D===j.width&&(W++,D=0)}}else{S=new e({name:m.name+y.name,x:m.x+s(y,"offsetx",0)+y.x,y:m.y+s(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*y.opacity,visible:m.visible&&y.visible,properties:s(y,"properties",[]),orientation:r(o.orientation)}),S.orientation===c.HEXAGONAL&&(S.hexSideLength=o.hexsidelength,S.staggerAxis=o.staggeraxis,S.staggerIndex=o.staggerindex);for(var K=[],$=0,Q=y.data.length;$<Q;$++)C=i(y.data[$]),C.gid>0?(w=new h(S,C.gid,D,A.length,o.tilewidth,o.tileheight),w.rotation=C.rotation,w.flipX=C.flipped,K.push(w)):(b=f?null:new h(S,-1,D,A.length,o.tilewidth,o.tileheight),K.push(b)),D++,D===y.width&&(A.push(K),D=0,K=[])}S.data=A,d.push(S)}return d};v.exports=n},93392:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(47975),c=t(97042),a=t(4281),r=t(39642),s=function(e){for(var i=[],h=[],n=null,o,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new l(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var p=void 0,m=void 0;if(Array.isArray(u.tiles)){p=p||{},m=m||{};for(var y=0;y<u.tiles.length;y++){var g=u.tiles[y];if(g.properties){var T={};g.properties.forEach(function(Y){T[Y.name]=Y.value}),m[g.id]=T}if(g.objectgroup&&((p[g.id]||(p[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var S=g.objectgroup.objects.map(function(Y){return a(Y)});p[g.id].objectgroup.objects=S}g.animation&&((p[g.id]||(p[g.id]={})).animation=g.animation),g.type&&((p[g.id]||(p[g.id]={})).type=g.type)}}Array.isArray(u.wangsets)&&(p=p||{},m=m||{},r(u.wangsets,p)),p&&(d.tileData=p,d.tileProperties=m)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(o in d.tileData){var C=d.tileData[o].objectgroup;if(C&&C.objects){var w=C.objects.map(function(Y){return a(Y)});d.tileData[o].objectgroup.objects=w}}}d.updateTileData(u.imagewidth,u.imageheight),i.push(d)}else{var b=new c(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),A=0;for(y=0;y<u.tiles.length;y++){g=u.tiles[y];var D=g.image,B=parseInt(g.id,10),N=u.firstgid+B;b.addImage(N,D),A=Math.max(B,A)}b.maxId=A,h.push(b)}n&&(n.lastgid=u.firstgid-1),n=u}return{tilesets:i,imageCollections:h}};v.exports=s},39642:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){for(var c=0;c<t.length;c++){var a=t[c],r=c;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var s={},e={},i,h,n;if(Array.isArray(a.edgecolors))for(i=0;i<a.edgecolors.length;i++)n=1+i,h=a.edgecolors[i],h.name!==""&&(s[n]=h.name);if(Array.isArray(a.cornercolors))for(i=0;i<a.cornercolors.length;i++)n=1+i,h=a.cornercolors[i],h.name!==""&&(e[n]=h.name);if(Array.isArray(a.colors))for(i=0;i<a.colors.length;i++)h=a.colors[i],n=1+i,h.name!==""&&(s[n]=e[n]=h.name);for(var o=[s,e,s,e,s,e,s,e],f=0;f<a.wangtiles.length;f++){var u=a.wangtiles[f],d=l[u.tileid]||(l[u.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],m=0;m<Math.min(o.length,u.wangid.length);m++){if(h=u.wangid[m],h===0){p.push(void 0);continue}var y=o[m][h];if(y!==void 0){p.push(y);continue}p.push(h)}d[r]=p}}}};v.exports=x},50044:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(91963),a=t(7599),r=t(57911),s=t(66458),e=new l({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var i=this.systems.events;i.on(a.PRE_UPDATE,this.preUpdate,this),i.on(a.UPDATE,this.update,this),i.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(i){var h;return i instanceof r?(h=i,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new r(i),this._pendingInsertion.push(h),h},delayedCall:function(i,h,n,o){return this.addEvent({delay:i,callback:h,args:n,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(i){Array.isArray(i)||(i=[i]);for(var h=0;h<i.length;h++){var n=i[h];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var i=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(i===0&&h===0)){var n,o;for(n=0;n<i;n++){o=this._pendingRemoval[n];var f=this._active.indexOf(o);f>-1&&this._active.splice(f,1),o.destroy()}for(n=0;n<h;n++)o=this._pendingInsertion[n],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(i,h){if(this.now=i,!this.paused){h*=this.timeScale;for(var n=0;n<this._active.length;n++){var o=this._active[n];if(!o.paused&&(o.elapsed+=h*o.timeScale,o.elapsed>=o.delay)){var f=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,f>=o.delay)for(;f>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),f-=o.delay,o.repeatCount--;o.elapsed=f,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",e,"time"),v.exports=e},20517:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(61286),r=t(72632),s=t(7599),e=new l({Extends:c,initialize:function(h,n){c.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var o=this.systems.events;o.on(s.PRE_UPDATE,this.preUpdate,this),o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.destroy,this),n&&this.add(n)},preUpdate:function(i,h){this.paused||(this.elapsed+=h)},update:function(){if(!this.paused){var i,h=this.events,n=!1,o=this.systems,f;for(i=0;i<h.length;i++){var u=h[i];if(!u.complete&&u.time<=this.elapsed){if(u.complete=!0,this.totalComplete++,u.once&&(n=!0),u.set&&u.target)for(var d in u.set)u.target[d]=u.set[d];u.tween&&o.tweens.add(u.tween),u.sound&&(typeof u.sound=="string"?o.sound.play(u.sound):o.sound.play(u.sound.key,u.sound.config)),f=u.target?u.target:this,u.event&&this.emit(u.event,f),u.run&&u.run.call(f),u.stop&&this.stop()}}if(n)for(i=0;i<h.length;i++)h[i].complete&&h[i].once&&(h.splice(i,1),i--);this.totalComplete>=h.length&&(this.complete=!0)}},play:function(i){return i===void 0&&(i=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,i&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var i=0;i<this.events.length;i++)this.events[i].complete=!1;return this.play(!1)},add:function(i){Array.isArray(i)||(i=[i]);var h=this.events,n=0;h.length>0&&(n=h[h.length-1].time);for(var o=0;o<i.length;o++){var f=i[o],u=r(f,"at",0),d=r(f,"in",null);d!==null&&(u=this.elapsed+d);var p=r(f,"from",null);p!==null&&(u=n+p),h.push({complete:!1,time:u,run:r(f,"run",null),event:r(f,"event",null),target:r(f,"target",null),set:r(f,"set",null),tween:r(f,"tween",null),sound:r(f,"sound",null),once:r(f,"once",!1),stop:r(f,"stop",!1)}),n=u}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var i=Math.min(this.totalComplete,this.events.length);return i/this.events.length},destroy:function(){var i=this.systems.events;i.off(s.PRE_UPDATE,this.preUpdate,this),i.off(s.UPDATE,this.update,this),i.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(i){return new e(this.scene,i)}),v.exports=e},57911:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(72632),a=new l({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(r){if(this.delay=c(r,"delay",0),this.repeat=c(r,"repeat",0),this.loop=c(r,"loop",!1),this.callback=c(r,"callback",void 0),this.callbackScope=c(r,"callbackScope",this),this.args=c(r,"args",[]),this.timeScale=c(r,"timeScale",1),this.startAt=c(r,"startAt",0),this.paused=c(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},97121:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),c=t(56694),a=t(5454),r=t(68710),s=t(91963),e=t(7599),i=t(91944),h=t(39366),n=t(68061),o=t(45641),f=t(56034),u=new c({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],m=0;m<d.length;m++){var y=d[m];y instanceof h||y instanceof o?p.push(y):Array.isArray(y.tweens)?p.push(f(this,y)):p.push(n(this,y))}return p.length===1?p[0]:p},add:function(d){var p=d,m=this.tweens;return p instanceof h||p instanceof o||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),m.push(p.reset()),p},addMultiple:function(d){for(var p,m=[],y=this.tweens,g=0;g<d.length;g++)p=d[g],p instanceof h||p instanceof o||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),y.push(p.reset()),m.push(p);return m},chain:function(d){var p=f(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=r(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return i(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var m=this.prevTime-this.startTime,y=m-this.nextTime,g=m-this.time*1e3;return y>0||d?(m/=1e3,this.time=m,this.nextTime+=y+(y>=this.gap?4:this.gap-y)):g=0,g},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var m,y,g=[],T=this.tweens;for(m=0;m<T.length;m++)y=T[m],y.update(p)&&g.push(y);var S=g.length;if(S&&T.length>0){for(m=0;m<S;m++){y=g[m];var C=T.indexOf(y);C>-1&&(y.isPendingRemove()||y.isDestroyed())&&(T.splice(C,1),y.destroy())}g.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(l(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var m,y=[null];for(m=1;m<arguments.length;m++)y.push(arguments[m]);return this.tweens.forEach(function(g){y[0]=g,d.apply(p,y)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],m=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var y=d.length,g=0;g<m.length;g++)for(var T=m[g],S=0;S<y;S++)!T.isDestroyed()&&T.hasTarget(d[S])&&p.push(T);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,m,y=0;y<p.length;y++)if(m=p[y],m.isPlaying()&&m.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),m=0;m<p.length;m++)p[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",u,"tweens"),v.exports=u},63130:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){return t&&t.hasOwnProperty(l)?t[l]:c};v.exports=x},21902:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(35060),c=t(40587),a=function(r,s){var e=l.Power0;if(typeof r=="string")if(l.hasOwnProperty(r))e=l[r];else{var i="";if(r.indexOf(".")){i=r.substring(r.indexOf(".")+1);var h=i.toLowerCase();h==="in"?i="easeIn":h==="out"?i="easeOut":h==="inout"&&(i="easeInOut")}r=c(r.substring(0,r.indexOf(".")+1)+i),l.hasOwnProperty(r)&&(e=l[r])}else typeof r=="function"&&(e=r);if(!s)return e;var n=s.slice(0);return n.unshift(0),function(o){return n[0]=o,e.apply(this,n)}};v.exports=a},4840:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63210),c=t(88332),a=t(47614),r={bezier:l,catmull:c,catmullrom:c,linear:a},s=function(e){if(e===null)return null;var i=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(i=r[e]):typeof e=="function"&&(i=e),i};v.exports=s},28348:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a;if(t.hasOwnProperty(l)){var r=typeof t[l];r==="function"?a=function(s,e,i,h,n,o){return t[l](s,e,i,h,n,o)}:a=function(){return t[l]}}else typeof c=="function"?a=c:a=function(){return c};return a};v.exports=x},92407:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(53709),c=function(a){var r,s=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&s.push({key:r,value:a.props[r]});else for(r in a)l.indexOf(r)===-1&&r.substring(0,1)!=="_"&&s.push({key:r,value:a[r]});return s};v.exports=c},65868:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),c=function(a){var r=l(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};v.exports=c},9744:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(17489),c=t(61616);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function r(h){return!!h.getStart&&typeof h.getStart=="function"}function s(h){return!!h.getEnd&&typeof h.getEnd=="function"}function e(h){return r(h)||s(h)||a(h)}var i=function(h,n){var o,f=function(j,J,X){return X},u=function(j,J,X){return X},d=null,p=typeof n;if(p==="number")f=function(){return n};else if(Array.isArray(n))u=function(){return n[0]},f=function(){return n[n.length-1]};else if(p==="string"){var m=n.toLowerCase(),y=m.substring(0,6)==="random",g=m.substring(0,3)==="int";if(y||g){var T=m.indexOf("("),S=m.indexOf(")"),C=m.indexOf(",");if(T&&S&&C){var w=parseFloat(m.substring(T+1,C)),b=parseFloat(m.substring(C+1,S));y?f=function(){return c(w,b)}:f=function(){return l(w,b)}}else throw new Error("invalid random() format")}else{m=m[0];var A=parseFloat(n.substr(2));switch(m){case"+":f=function(j,J,X){return X+A};break;case"-":f=function(j,J,X){return X-A};break;case"*":f=function(j,J,X){return X*A};break;case"/":f=function(j,J,X){return X/A};break;default:f=function(){return parseFloat(n)}}}}else if(p==="function")f=n;else if(p==="object")if(e(n))a(n)&&(d=n.getActive),s(n)&&(f=n.getEnd),r(n)&&(u=n.getStart);else if(n.hasOwnProperty("value"))o=i(h,n.value);else{var D=n.hasOwnProperty("to"),B=n.hasOwnProperty("from"),N=n.hasOwnProperty("start");if(D&&(B||N)){if(o=i(h,n.to),N){var Y=i(h,n.start);o.getActive=Y.getEnd}if(B){var H=i(h,n.from);o.getStart=H.getEnd}}}return o||(o={getActive:d,getEnd:f,getStart:u}),o};v.exports=i},68710:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),c=t(99730),a=t(20494),r=t(63130),s=t(21902),e=t(28348),i=t(10850),h=t(9744),n=t(72066),o=t(39366),f=function(u,d,p){if(d instanceof o)return d.parent=u,d;p===void 0?p=c:p=n(c,p);var m=i(d,"from",0),y=i(d,"to",1),g=[{value:m}],T=i(d,"delay",p.delay),S=i(d,"easeParams",p.easeParams),C=i(d,"ease",p.ease),w=h("value",y),b=new o(u,g),A=b.add(0,"value",w.getEnd,w.getStart,w.getActive,s(i(d,"ease",C),i(d,"easeParams",S)),e(d,"delay",T),i(d,"duration",p.duration),r(d,"yoyo",p.yoyo),i(d,"hold",p.hold),i(d,"repeat",p.repeat),i(d,"repeatDelay",p.repeatDelay),!1,!1);A.start=m,A.current=m,b.completeDelay=a(d,"completeDelay",0),b.loop=Math.round(a(d,"loop",0)),b.loopDelay=Math.round(a(d,"loopDelay",0)),b.paused=r(d,"paused",!1),b.persist=r(d,"persist",!1),b.callbackScope=i(d,"callbackScope",b);for(var D=l.TYPES,B=0;B<D.length;B++){var N=D[B],Y=i(d,N,!1);if(Y){var H=i(d,N+"Params",[]);b.setCallback(N,Y,H)}}return b};v.exports=f},91944:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(21902),c=t(10850),a=t(83392),r=function(s,e){e===void 0&&(e={});var i,h=c(e,"start",0),n=c(e,"ease",null),o=c(e,"grid",null),f=c(e,"from",0),u=f==="first",d=f==="center",p=f==="last",m=typeof f=="number",y=Array.isArray(s),g=parseFloat(y?s[0]:s),T=y?parseFloat(s[1]):0,S=Math.max(g,T);if(y&&(h+=g),o){var C=o[0],w=o[1],b=0,A=0,D=0,B=0,N=[];p?(b=C-1,A=w-1):m?(b=f%C,A=Math.floor(f/C)):d&&(b=(C-1)/2,A=(w-1)/2);for(var Y=a.MIN_SAFE_INTEGER,H=0;H<w;H++){N[H]=[];for(var j=0;j<C;j++){D=b-j,B=A-H;var J=Math.sqrt(D*D+B*B);J>Y&&(Y=J),N[H][j]=J}}}var X=n?l(n):null;return o?i=function(W,L,G,z){var k=0,K=z%C,$=Math.floor(z/C);K>=0&&K<C&&$>=0&&$<w&&(k=N[$][K]);var Q;if(y){var _=T-g;X?Q=k/Y*_*X(k/Y):Q=k/Y*_}else X?Q=k*g*X(k/Y):Q=k*g;return Q+h}:i=function(W,L,G,z,k){k--;var K;u?K=z:d?K=Math.abs(k/2-z):p?K=k-z:m&&(K=Math.abs(f-z));var $;if(y){var Q;d?Q=(T-g)/k*(K*2):Q=(T-g)/k*K,X?$=Q*X(K/k):$=Q}else X?$=k*S*X(K/k):$=K*g;return $+h},i};v.exports=r},68061:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),c=t(99730),a=t(20494),r=t(63130),s=t(21902),e=t(4840),i=t(28348),h=t(92407),n=t(65868),o=t(10850),f=t(9744),u=t(72066),d=t(39366),p=function(m,y,g){if(y instanceof d)return y.parent=m,y;g===void 0?g=c:g=u(c,g);var T=n(y);!T&&g.targets&&(T=g.targets);for(var S=h(y),C=o(y,"delay",g.delay),w=o(y,"duration",g.duration),b=o(y,"easeParams",g.easeParams),A=o(y,"ease",g.ease),D=o(y,"hold",g.hold),B=o(y,"repeat",g.repeat),N=o(y,"repeatDelay",g.repeatDelay),Y=r(y,"yoyo",g.yoyo),H=r(y,"flipX",g.flipX),j=r(y,"flipY",g.flipY),J=o(y,"interpolation",g.interpolation),X=function(nt,st,at,rt){if(at==="texture"){var dt=rt,mt=void 0;Array.isArray(rt)?(dt=rt[0],mt=rt[1]):rt.hasOwnProperty("value")?(dt=rt.value,Array.isArray(rt.value)?(dt=rt.value[0],mt=rt.value[1]):typeof rt.value=="string"&&(dt=rt.value)):typeof rt=="string"&&(dt=rt),nt.addFrame(st,dt,mt,i(rt,"delay",C),o(rt,"duration",w),o(rt,"hold",D),o(rt,"repeat",B),o(rt,"repeatDelay",N),r(rt,"flipX",H),r(rt,"flipY",j))}else{var Tt=f(at,rt),St=e(o(rt,"interpolation",J));nt.add(st,at,Tt.getEnd,Tt.getStart,Tt.getActive,s(o(rt,"ease",A),o(rt,"easeParams",b)),i(rt,"delay",C),o(rt,"duration",w),r(rt,"yoyo",Y),o(rt,"hold",D),o(rt,"repeat",B),o(rt,"repeatDelay",N),r(rt,"flipX",H),r(rt,"flipY",j),St,St?rt:null)}},W=new d(m,T),L=0;L<S.length;L++)for(var G=S[L].key,z=S[L].value,k=0;k<T.length;k++)G==="scale"&&!T[k].hasOwnProperty("scale")?(X(W,k,"scaleX",z),X(W,k,"scaleY",z)):X(W,k,G,z);W.completeDelay=a(y,"completeDelay",0),W.loop=Math.round(a(y,"loop",0)),W.loopDelay=Math.round(a(y,"loopDelay",0)),W.paused=r(y,"paused",!1),W.persist=r(y,"persist",!1),W.callbackScope=o(y,"callbackScope",W);for(var K=l.TYPES,$=0;$<K.length;$++){var Q=K[$],_=o(y,Q,!1);if(_){var tt=o(y,Q+"Params",[]);W.setCallback(Q,_,tt)}}return W};v.exports=p},56034:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),c=t(20494),a=t(63130),r=t(65868),s=t(10850),e=t(68061),i=t(45641),h=function(n,o){if(o instanceof i)return o.parent=n,o;var f=new i(n);f.startDelay=s(o,"delay",0),f.completeDelay=c(o,"completeDelay",0),f.loop=Math.round(c(o,"loop",s(o,"repeat",0))),f.loopDelay=Math.round(c(o,"loopDelay",s(o,"repeatDelay",0))),f.paused=a(o,"paused",!1),f.persist=a(o,"persist",!0),f.callbackScope=s(o,"callbackScope",f);var u,d=l.TYPES;for(u=0;u<d.length;u++){var p=d[u],m=s(o,p,!1);if(m){var y=s(o,p+"Params",[]);f.setCallback(p,m,y)}}var g=s(o,"tweens",null);if(Array.isArray(g)){var T=[],S=r(o),C=void 0;for(S&&(C={targets:S}),u=0;u<g.length;u++)T.push(e(f,g[u],C));f.add(T)}return f};v.exports=h},79619:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},6383:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},72582:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},90281:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},80803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},13640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},10472:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},5379:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},43449:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},61541:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},54272:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};v.exports=l},502:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(6659),a=t(54272),r=t(55303),s=new l({Extends:c,initialize:function(i){c.call(this),this.parent=i,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,i,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:i,params:h}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=s},65521:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(56694),c=t(54272),a=t(55303),r=new l({initialize:function(e,i,h,n,o,f,u,d,p,m){this.tween=e,this.targetIndex=i,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=o,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,e=s.totalTargets,i=this.targetIndex,h=s.targets[i],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,n,0,i,e,s),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var f=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=f*a.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,e,i){var h=this.tween,n=h.totalTargets,o=this.targetIndex,f=h.targets[o],u=this.key,d=u!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||i)&&(this.start=this.getStartValue(f,u,this.start,o,n,h)),i){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,o,n,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=r},99730:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=x},53709:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(502),c=t(56694),a=t(54272),r=t(99325),s=t(61286),e=t(83392),i=t(55303),h=t(15718),n=t(96490),o=new c({Extends:l,initialize:function(u,d){l.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,p,m,y,g,T,S,C,w,b,A,D,B,N){var Y=new h(this,f,u,d,p,m,y,g,T,S,C,w,b,A,D,B,N);return this.totalData=this.data.push(Y),Y},addFrame:function(f,u,d,p,m,y,g,T,S,C){var w=new n(this,f,u,d,p,m,y,g,T,S,C);return this.totalData=this.data.push(w),w},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var p=0;p<this.totalData;p++){var m=this.data[p];m.key===f&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=u,d&&(m.start=m.current))}return this},restart:function(){switch(this.state){case i.REMOVED:case i.FINISHED:this.seek(),this.parent.makeActive(this);break;case i.PENDING:case i.PENDING_REMOVE:this.parent.reset(this);break;case i.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,f>0){for(var m=Math.floor(f/u),y=f-m*u,g=0;g<m;g++)this.update(u);y>0&&this.update(y)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var p=this.duration,m=this.completeDelay,y=this.loopCounter,g=this.loopDelay;y>0?this.totalDuration=p+m+(p+g)*y:this.totalDuration=p+m},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=i.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),r.register("tween",function(f){return this.scene.sys.tweens.create(f)}),v.exports=o},45641:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(66458),c=t(502),a=t(56694),r=t(54272),s=t(99325),e=t(61286),i=t(55303),h=new a({Extends:c,initialize:function(o){c.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?i.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(n){var o=this.parent.create(n);Array.isArray(o)||(o=[o]);for(var f=this.data,u=0;u<o.length;u++){var d=o[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(n){return l(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var o=this.data,f=0;f<this.totalData;f++)if(o[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,o=this.totalData,f=0;f<o;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,o){this.emit(n,this);var f=this.callbacks[o];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),s.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),v.exports=h},15718:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65521),c=t(82897),a=t(56694),r=t(54272),s=new a({Extends:l,initialize:function(i,h,n,o,f,u,d,p,m,y,g,T,S,C,w,b,A){l.call(this,i,h,p,m,y,g,T,S,C,w),this.key=n,this.getActiveValue=u,this.getEndValue=o,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=b,this.interpolationData=A},reset:function(e){l.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex],h=this.key;e&&(i[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(i[h]=this.getActiveValue(i,h,0))},update:function(e){var i=this.tween,h=i.totalTargets,n=this.targetIndex,o=i.targets[n],f=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,f,o[f],n,h,i),this.end=this.getEndValue(o,f,this.start,n,h,i),this.current=this.start,o[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var p=this.elapsed,m=this.duration,y=0,g=!1;p+=e,p>=m?(y=p-m,p=m,g=!0):p<0&&(p=0);var T=c(p/m,0,1);if(this.elapsed=p,this.progress=T,this.previous=this.current,g)u?(this.current=this.end,o[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(this.current=this.start,o[f]=this.start,this.setStateFromStart(y));else{u||(T=1-T);var S=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,S):this.current=this.start+(this.end-this.start)*S,o[f]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var h=this.tween;if(!h.isSeeking){var n=h.targets[this.targetIndex],o=this.key,f=this.current,u=this.previous;h.emit(e,h,o,n,f,u);var d=h.callbacks[i];d&&d.func.apply(h.callbackScope,[h,n,o,f,u].concat(d.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=s},96490:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(65521),c=t(82897),a=t(56694),r=t(54272),s=new a({Extends:l,initialize:function(i,h,n,o,f,u,d,p,m,y,g){l.call(this,i,h,f,u,!1,d,p,m,y,g),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=o,this.yoyo=p!==0},reset:function(e){l.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=i.texture.key,this.startFrame=i.frame.name),e&&i.setTexture(this.startTexture,this.startFrame)},update:function(e){var i=this.tween,h=this.targetIndex,n=i.targets[h];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),f=this.isPlayingBackward();if(o||f){var u=this.elapsed,d=this.duration,p=0,m=!1;u+=e,u>=d?(p=u-d,u=d,m=!0):u<0&&(u=0);var y=c(u/d,0,1);this.elapsed=u,this.progress=y,m&&(o?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var h=this.tween;if(!h.isSeeking){var n=h.targets[this.targetIndex],o=this.key;h.emit(e,h,o,n);var f=h.callbacks[i];f&&f.func.apply(h.callbackScope,[h,n,o].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=s},55303:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=x},56694:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,e,i){var h=i?s[e]:Object.getOwnPropertyDescriptor(s,e);return!i&&h.value&&typeof h.value=="object"&&(h=h.value),h&&x(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function l(s,e){var i=Object.getOwnPropertyDescriptor(s,e);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function c(s,e,i,h){for(var n in e)if(e.hasOwnProperty(n)){var o=t(e,n,i);if(o!==!1){var f=h||s;if(l(f.prototype,n)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,n,o)}else s.prototype[n]=e[n]}}function a(s,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)c(s,e[i].prototype||e[i])}}function r(s){s||(s={});var e,i;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");e=s.initialize,delete s.initialize}else if(s.Extends){var h=s.Extends;e=function(){h.apply(this,arguments)}}else e=function(){};s.Extends?(e.prototype=Object.create(s.Extends.prototype),e.prototype.constructor=e,i=s.Extends,delete s.Extends):e.prototype.constructor=e;var n=null;return s.Mixins&&(n=s.Mixins,delete s.Mixins),a(e,n),c(e,s,!0,i),e}r.extend=c,r.mixin=a,r.ignoreFinals=!1,v.exports=r},72283:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};v.exports=x},10618:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};v.exports=x},78991:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r){if(r===void 0&&(r=t),c>0){var s=c-t.length;if(s<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.push(l),a&&a.call(r,l),l):null;for(var e=l.length-1;e>=0;)t.indexOf(l[e])!==-1&&l.splice(e,1),e--;if(e=l.length,e===0)return null;c>0&&e>s&&(l.splice(s),e=s);for(var i=0;i<e;i++){var h=l[i];t.push(h),a&&a.call(r,h)}return l};v.exports=x},48522:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a,r,s){if(c===void 0&&(c=0),s===void 0&&(s=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(l))return t.indexOf(l)===-1?(t.splice(c,0,l),r&&r.call(s,l),l):null;for(var i=l.length-1;i>=0;)t.indexOf(l[i])!==-1&&l.pop(),i--;if(i=l.length,i===0)return null;a>0&&i>e&&(l.splice(e),i=e);for(var h=i-1;h>=0;h--){var n=l[h];t.splice(c,0,n),r&&r.call(s,n)}return l};v.exports=x},58742:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.indexOf(l);return c!==-1&&c<t.length&&(t.splice(c,1),t.push(l)),l};v.exports=x},30164:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=a.length);var h=0;if(l(a,e,i))for(var n=e;n<i;n++){var o=a[n];o[r]===s&&h++}return h};v.exports=c},36337:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],l.apply(c,r);return t};v.exports=x},46208:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),l(a,e,i)){var h,n=[null];for(h=5;h<arguments.length;h++)n.push(arguments[h]);for(h=e;h<i;h++)n[0]=a[h],r.apply(s,n)}return a};v.exports=c},2406:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l.length){if(l.length===1)return l[0]}else return NaN;var a=1,r,s;if(c){if(t<l[0][c])return l[0];for(;l[a][c]<t;)a++}else for(;l[a]<t;)a++;return a>l.length&&(a=l.length),c?(r=l[a-1][c],s=l[a][c],s-t<=t-r?l[a]:l[a-1]):(r=l[a-1],s=l[a],s-t<=t-r?s:r)};v.exports=x},5454:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=[]);for(var c=0;c<t.length;c++)Array.isArray(t[c])?x(t[c],l):l.push(t[c]);return l};v.exports=x},71608:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=a.length);var h=[];if(l(a,e,i))for(var n=e;n<i;n++){var o=a[n];(!r||r&&s===void 0&&o.hasOwnProperty(r)||r&&s!==void 0&&o[r]===s)&&h.push(o)}return h};v.exports=c},51463:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),l(a,e,i))for(var h=e;h<i;h++){var n=a[h];if(!r||r&&s===void 0&&n.hasOwnProperty(r)||r&&s!==void 0&&n[r]===s)return n}return null};v.exports=c},72861:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){l===void 0&&(l=0),c===void 0&&(c=t.length);var a=l+Math.floor(Math.random()*c);return t[a]===void 0?null:t[a]};v.exports=x},24218:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===c)return t;var a=t.indexOf(l),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r===t.length-1?t.push(l):t.splice(r,0,l)),t};v.exports=x},58258:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===c)return t;var a=t.indexOf(l),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(l):t.splice(r,0,l)),t};v.exports=x},51172:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.indexOf(l);if(c>0){var a=t[c-1],r=t.indexOf(a);t[c]=a,t[r]=l}return t};v.exports=x},68396:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=t.indexOf(l);if(a===-1||c<0||c>=t.length)throw new Error("Supplied index out of bounds");return a!==c&&(t.splice(a,1),t.splice(c,0,l)),l};v.exports=x},27555:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.indexOf(l);if(c!==-1&&c<t.length-1){var a=t[c+1],r=t.indexOf(a);t[c]=a,t[r]=l}return t};v.exports=x},13401:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=[],s,e=!1;if((c||a)&&(e=!0,c||(c=""),a||(a="")),l<t)for(s=t;s>=l;s--)e?r.push(c+s.toString()+a):r.push(s);else for(s=t;s<=l;s++)e?r.push(c+s.toString()+a):r.push(s);return r};v.exports=x},89955:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(67233),c=function(a,r,s){a===void 0&&(a=0),r===void 0&&(r=null),s===void 0&&(s=1),r===null&&(r=a,a=0);for(var e=[],i=Math.max(l((r-a)/(s||1)),0),h=0;h<i;h++)e.push(a),a+=s;return e};v.exports=c},53466:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(c,a,r){var s=c[a];c[a]=c[r],c[r]=s}function t(c,a){return c<a?-1:c>a?1:0}var l=function(c,a,r,s,e){for(r===void 0&&(r=0),s===void 0&&(s=c.length-1),e===void 0&&(e=t);s>r;){if(s-r>600){var i=s-r+1,h=a-r+1,n=Math.log(i),o=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*o*(i-o)/i)*(h-i/2<0?-1:1),u=Math.max(r,Math.floor(a-h*o/i+f)),d=Math.min(s,Math.floor(a+(i-h)*o/i+f));l(c,a,u,d,e)}var p=c[a],m=r,y=s;for(x(c,r,a),e(c[s],p)>0&&x(c,r,s);m<y;){for(x(c,m,y),m++,y--;e(c[m],p)<0;)m++;for(;e(c[y],p)>0;)y--}e(c[r],p)===0?x(c,r,y):(y++,x(c,y,s)),y<=a&&(r=y+1),a<=y&&(s=y-1)}};v.exports=l},75757:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),c=t(18592),a=function(s,e,i){for(var h=[],n=0;n<s.length;n++)for(var o=0;o<e.length;o++)for(var f=0;f<i;f++)h.push({a:s[n],b:e[o]});return h},r=function(s,e,i){var h=l(i,"max",0),n=l(i,"qty",1),o=l(i,"random",!1),f=l(i,"randomB",!1),u=l(i,"repeat",0),d=l(i,"yoyo",!1),p=[];if(f&&c(e),u===-1)if(h===0)u=0;else{var m=s.length*e.length*n;d&&(m*=2),u=Math.ceil(h/m)}for(var y=0;y<=u;y++){var g=a(s,e,n);o&&c(g),p=p.concat(g),d&&(g.reverse(),p=p.concat(g))}return h&&p.splice(h),p};v.exports=r},66458:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),c=function(a,r,s,e){e===void 0&&(e=a);var i;if(!Array.isArray(r))return i=a.indexOf(r),i!==-1?(l(a,i),s&&s.call(e,r),r):null;for(var h=r.length-1,n=[];h>=0;){var o=r[h];i=a.indexOf(o),i!==-1&&(l(a,i),n.push(o),s&&s.call(e,o)),h--}return n};v.exports=c},8324:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),c=function(a,r,s,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var i=l(a,r);return s&&s.call(e,i),i};v.exports=c},47427:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){if(r===void 0&&(r=0),s===void 0&&(s=a.length),i===void 0&&(i=a),l(a,r,s)){var h=s-r,n=a.splice(r,h);if(e)for(var o=0;o<n.length;o++){var f=n[o];e.call(i,f)}return n}else return[]};v.exports=c},50147:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(72677),c=function(a,r,s){r===void 0&&(r=0),s===void 0&&(s=a.length);var e=r+Math.floor(Math.random()*s);return l(a,e)};v.exports=c},80402:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=t.indexOf(l),r=t.indexOf(c);return a!==-1&&r===-1?(t[a]=c,!0):!1};v.exports=x},77640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=1);for(var c=null,a=0;a<l;a++)c=t.shift(),t.push(c);return c};v.exports=x},38487:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){l===void 0&&(l=1);for(var c=null,a=0;a<l;a++)c=t.pop(),t.unshift(c);return c};v.exports=x},45838:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){var r=t.length;if(l<0||l>r||l>=c||c>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=x},27847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){var c=t.indexOf(l);return c!==-1&&c>0&&(t.splice(c,1),t.unshift(l)),l};v.exports=x},6034:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(45838),c=function(a,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),l(a,e,i))for(var h=e;h<i;h++){var n=a[h];n.hasOwnProperty(r)&&(n[r]=s)}return a};v.exports=c},18592:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=t.length-1;l>0;l--){var c=Math.floor(Math.random()*(l+1)),a=t[l];t[l]=t[c],t[c]=a}return t};v.exports=x},28834:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l=/\D/g;return t.sort(function(c,a){return parseInt(c.replace(l,""),10)-parseInt(a.replace(l,""),10)}),t};v.exports=x},72677:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){if(!(l>=t.length)){for(var c=t.length-1,a=t[l],r=l;r<c;r++)t[r]=t[r+1];return t.length=c,a}};v.exports=x},17922:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77290);function c(e,i){return String(e).localeCompare(i)}function a(e,i){var h=e.length;if(h<=1)return e;for(var n=new Array(h),o=1;o<h;o*=2){r(e,i,o,n);var f=e;e=n,n=f}return e}function r(e,i,h,n){var o=e.length,f=0,u=h*2,d,p,m,y,g;for(d=0;d<o;d+=u)for(p=d+h,m=p+h,p>o&&(p=o),m>o&&(m=o),y=d,g=p;;)if(y<p&&g<m)i(e[y],e[g])<=0?n[f++]=e[y++]:n[f++]=e[g++];else if(y<p)n[f++]=e[y++];else if(g<m)n[f++]=e[g++];else break}var s=function(e,i){if(i===void 0&&(i=c),!e||e.length<2)return e;if(l.features.stableSort)return e.sort(i);var h=a(e,i);return h!==e&&r(h,null,e.length,e),e};v.exports=s},96928:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(l===c)return t;var a=t.indexOf(l),r=t.indexOf(c);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=c,t[r]=l,t};v.exports=x},59959:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var l=t[0].length,c=1;c<t.length;c++)if(t[c].length!==l)return!1;return!0};v.exports=x},68428:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(76400),c=t(97494),a=function(r){var s="";if(!c(r))return s;for(var e=0;e<r.length;e++){for(var i=0;i<r[e].length;i++){var h=r[e][i].toString();h!=="undefined"?s+=l(h,2):s+="?",i<r[e].length-1&&(s+=" |")}if(e<r.length-1){s+=`
`;for(var n=0;n<r[e].length;n++)s+="---",n<r[e].length-1&&(s+="+");s+=`
`}}return s};v.exports=a},59521:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.reverse()};v.exports=x},51995:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=0;l<t.length;l++)t[l].reverse();return t};v.exports=x},89011:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),c=function(a){return l(a,180)};v.exports=c},42549:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),c=function(a){return l(a,90)};v.exports=c},63515:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(97494),c=t(78581),a=function(r,s){if(s===void 0&&(s=90),!l(r))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")r=c(r),r.reverse();else if(s===-90||s===270||s==="rotateRight")r.reverse(),r=c(r);else if(Math.abs(s)===180||s==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};v.exports=a},14305:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(63515),c=function(a){return l(a,-90)};v.exports=c},27365:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(77640),c=t(38487),a=function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),e!==0&&(e<0?l(r,Math.abs(e)):c(r,e)),s!==0)for(var i=0;i<r.length;i++){var h=r[i];s<0?l(h,Math.abs(s)):c(h,s)}return r};v.exports=a},78581:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){for(var l=t.length,c=t[0].length,a=new Array(c),r=0;r<c;r++){a[r]=new Array(l);for(var s=l-1;s>-1;s--)a[r][s]=t[s][r]}return a};v.exports=x},13515:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(l,c){for(var a=new Uint8Array(l),r=a.length,s=c?"data:"+c+";base64,":"",e=0;e<r;e+=3)s+=x[a[e]>>2],s+=x[(a[e]&3)<<4|a[e+1]>>4],s+=x[(a[e+1]&15)<<2|a[e+2]>>6],s+=x[a[e+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};v.exports=t},82329:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),l=0;l<x.length;l++)t[x.charCodeAt(l)]=l;var c=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,s=r*.75,e=0,i,h,n,o;a[r-1]==="="&&(s--,a[r-2]==="="&&s--);for(var f=new ArrayBuffer(s),u=new Uint8Array(f),d=0;d<r;d+=4)i=t[a.charCodeAt(d)],h=t[a.charCodeAt(d+1)],n=t[a.charCodeAt(d+2)],o=t[a.charCodeAt(d+3)],u[e++]=i<<2|h>>4,u[e++]=(h&15)<<4|n>>2,u[e++]=(n&3)<<6|o&63;return f};v.exports=c},78417:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l={};for(var c in t)Array.isArray(t[c])?l[c]=t[c].slice(0):l[c]=t[c];return l};v.exports=x},28699:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){var l,c,a;if(typeof t!="object"||t===null)return t;l=Array.isArray(t)?[]:{};for(a in t)c=t[a],l[a]=x(c);return l};v.exports=x},98611:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(42911),c=function(){var a,r,s,e,i,h,n=arguments[0]||{},o=1,f=arguments.length,u=!1;for(typeof n=="boolean"&&(u=n,n=arguments[1]||{},o=2),f===o&&(n=this,--o);o<f;o++)if((a=arguments[o])!=null)for(r in a)s=n[r],e=a[r],n!==e&&(u&&e&&(l(e)||(i=Array.isArray(e)))?(i?(i=!1,h=s&&Array.isArray(s)?s:[]):h=s&&l(s)?s:{},n[r]=c(u,h,e)):e!==void 0&&(n[r]=e));return n};v.exports=c},20494:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(5923),c=t(10850),a=function(r,s,e){var i=c(r,s,null);if(i===null)return e;if(Array.isArray(i))return l.RND.pick(i);if(typeof i=="object"){if(i.hasOwnProperty("randInt"))return l.RND.integerInRange(i.randInt[0],i.randInt[1]);if(i.hasOwnProperty("randFloat"))return l.RND.realInRange(i.randFloat[0],i.randFloat[1])}else if(typeof i=="function")return i(s);return i};v.exports=a},72632:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){var a=typeof t;return!t||a==="number"||a==="string"?c:t.hasOwnProperty(l)&&t[l]!==void 0?t[l]:c};v.exports=x},94324:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(10850),c=t(82897),a=function(r,s,e,i,h){h===void 0&&(h=e);var n=l(r,s,h);return c(n,e,i)};v.exports=a},10850:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){if(!t&&!a||typeof t=="number")return c;if(t&&t.hasOwnProperty(l))return t[l];if(a&&a.hasOwnProperty(l))return a[l];if(l.indexOf(".")!==-1){for(var r=l.split("."),s=t,e=a,i=c,h=c,n=!0,o=!0,f=0;f<r.length;f++)s&&s.hasOwnProperty(r[f])?(i=s[r[f]],s=s[r[f]]):n=!1,e&&e.hasOwnProperty(r[f])?(h=e[r[f]],e=e[r[f]]):o=!1;return n?i:o?h:c}else return c};v.exports=x},87701:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){for(var c=0;c<l.length;c++)if(!t.hasOwnProperty(l[c]))return!1;return!0};v.exports=x},53523:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){for(var c=0;c<l.length;c++)if(t.hasOwnProperty(l[c]))return!0;return!1};v.exports=x},19256:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.hasOwnProperty(l)};v.exports=x},42911:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=x},30657:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),c=function(a,r){var s=l(a);for(var e in r)s.hasOwnProperty(e)||(s[e]=r[e]);return s};v.exports=c},72066:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(32742),c=function(a,r){var s=l(a);for(var e in r)s.hasOwnProperty(e)&&(s[e]=r[e]);return s};v.exports=c},28820:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var l=t(19256),c=function(a,r){for(var s={},e=0;e<r.length;e++){var i=r[e];l(a,i)&&(s[i]=a[i])}return s};v.exports=c},22440:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(l))return t[l]=c,!0;if(l.indexOf(".")!==-1){for(var a=l.split("."),r=t,s=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))s=r,r=r[a[e]];else return!1;return s[a[a.length-1]]=c,!0}return!1};v.exports=x},64615:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return t.replace(/%([0-9]+)/g,function(c,a){return l[Number(a)-1]})};v.exports=x},76400:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l,c,a){l===void 0&&(l=0),c===void 0&&(c=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(l+1>=t.length)switch(a){case 1:t=new Array(l+1-t.length).join(c)+t;break;case 3:var s=Math.ceil((r=l-t.length)/2),e=r-s;t=new Array(e+1).join(c)+t+new Array(s+1).join(c);break;default:t=t+new Array(l+1-t.length).join(c);break}return t};v.exports=x},76872:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t,l){return l===0?t.slice(1):t.slice(0,l-1)+t.slice(l)};v.exports=x},8051:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t.split("").reverse().join("")};v.exports=x},76583:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var l=Math.random()*16|0,c=t==="x"?l:l&3|8;return c.toString(16)})};v.exports=x},40587:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=x},50379:(v,x,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},I={};function V(v){var x=I[v];if(x!==void 0)return x.exports;var t=I[v]={exports:{}};return R[v](t,t.exports,V),t.exports}V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var Z=V(92491);return Z})())})(al);var ol=al.exports;const be=Tr(ol),mv=[{key:"tree",url:"assets/objects/tree.svg"},{key:"bench",url:"assets/objects/bench.svg"},{key:"stick",url:"assets/objects/stick.svg"},{key:"log",url:"assets/objects/log.svg"},{key:"pipe",url:"assets/objects/pipe.svg"},{key:"board",url:"assets/objects/board.svg"},{key:"player",url:"assets/objects/player.svg"},{key:"door",url:"assets/objects/door.svg"}],xv=[{key:"grass",url:"assets/tiles/grass.svg"},{key:"grass2",url:"assets/tiles/grass2.svg"},{key:"grass3",url:"assets/tiles/grass3.svg"},{key:"grass4",url:"assets/tiles/grass4.svg"},{key:"white_tile",url:"assets/tiles/white_tile.svg"},{key:"concrete_wall",url:"assets/tiles/concrete_wall.svg"}],yv=[{key:"starry_night",url:"assets/ui/starry_night.svg",width:800,height:600},{key:"forest_silhouette",url:"assets/ui/forest_silhouette.svg",width:800,height:600},{key:"postapoc_title",url:"assets/ui/postapoc_title.svg",width:800,height:100},{key:"mushroom_cloud",url:"assets/ui/mushroom_cloud.svg",width:100,height:100}],Tv=[{key:"grey_arrow",url:"assets/ui/grey_arrow.svg"},{key:"red_arrow",url:"assets/ui/red_arrow.svg"}];class Sv extends be.Scene{constructor(){super("BootScene");Et(this,"progressBar")}preload(){this.progressBar=this.add.graphics(),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(240,290,320,20);const R=this.add.graphics();R.lineStyle(4,16777215,1),R.strokeRect(240,290,320,20),this.load.on("progress",I=>{this.progressBar.clear(),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(240,290,320*I,20)}),this.load.on(be.Loader.Events.FILE_LOAD_ERROR,I=>{const V=I.key;I.destroy();const Z=gv(V,32,32);this.textures.exists(V)&&this.textures.remove(V),console.log(Z),this.load.svg(V,Z),this.load.emit(be.Loader.Events.FILE_COMPLETE,I)},this),this.loadAssets(mv),this.loadAssets(xv),this.loadAssets(yv),this.loadAssets(Tv)}create(){this.scene.start("TitleScene")}loadAssets(R){R.forEach(I=>{I.width&&I.height?this.load.svg(I.key,I.url,{width:I.width,height:I.height}):this.load.svg(I.key,I.url)})}}const $s=10,go=(M=0)=>E=>`\x1B[${E+M}m`,mo=(M=0)=>E=>`\x1B[${38+M};5;${E}m`,xo=(M=0)=>(E,R,I)=>`\x1B[${38+M};2;${E};${R};${I}m`,$t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys($t.modifier);const Ev=Object.keys($t.color),Cv=Object.keys($t.bgColor);[...Ev,...Cv];function Pv(){const M=new Map;for(const[E,R]of Object.entries($t)){for(const[I,V]of Object.entries(R))$t[I]={open:`\x1B[${V[0]}m`,close:`\x1B[${V[1]}m`},R[I]=$t[I],M.set(V[0],V[1]);Object.defineProperty($t,E,{value:R,enumerable:!1})}return Object.defineProperty($t,"codes",{value:M,enumerable:!1}),$t.color.close="\x1B[39m",$t.bgColor.close="\x1B[49m",$t.color.ansi=go(),$t.color.ansi256=mo(),$t.color.ansi16m=xo(),$t.bgColor.ansi=go($s),$t.bgColor.ansi256=mo($s),$t.bgColor.ansi16m=xo($s),Object.defineProperties($t,{rgbToAnsi256:{value(E,R,I){return E===R&&R===I?E<8?16:E>248?231:Math.round((E-8)/247*24)+232:16+36*Math.round(E/255*5)+6*Math.round(R/255*5)+Math.round(I/255*5)},enumerable:!1},hexToRgb:{value(E){const R=/[a-f\d]{6}|[a-f\d]{3}/i.exec(E.toString(16));if(!R)return[0,0,0];let[I]=R;I.length===3&&(I=[...I].map(Z=>Z+Z).join(""));const V=Number.parseInt(I,16);return[V>>16&255,V>>8&255,V&255]},enumerable:!1},hexToAnsi256:{value:E=>$t.rgbToAnsi256(...$t.hexToRgb(E)),enumerable:!1},ansi256ToAnsi:{value(E){if(E<8)return 30+E;if(E<16)return 90+(E-8);let R,I,V;if(E>=232)R=((E-232)*10+8)/255,I=R,V=R;else{E-=16;const x=E%36;R=Math.floor(E/36)/5,I=Math.floor(x/6)/5,V=x%6/5}const Z=Math.max(R,I,V)*2;if(Z===0)return 30;let v=30+(Math.round(V)<<2|Math.round(I)<<1|Math.round(R));return Z===2&&(v+=60),v},enumerable:!1},rgbToAnsi:{value:(E,R,I)=>$t.ansi256ToAnsi($t.rgbToAnsi256(E,R,I)),enumerable:!1},hexToAnsi:{value:E=>$t.ansi256ToAnsi($t.hexToAnsi256(E)),enumerable:!1}}),$t}const xe=Pv(),Xn=(()=>{if(navigator.userAgentData){const M=navigator.userAgentData.brands.find(({brand:E})=>E==="Chromium");if(M&&M.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),yo=Xn!==0&&{level:Xn,hasBasic:!0,has256:Xn>=2,has16m:Xn>=3},wv={stdout:yo,stderr:yo};function Av(M,E,R){let I=M.indexOf(E);if(I===-1)return M;const V=E.length;let Z=0,v="";do v+=M.slice(Z,I)+E+R,Z=I+V,I=M.indexOf(E,Z);while(I!==-1);return v+=M.slice(Z),v}function Mv(M,E,R,I){let V=0,Z="";do{const v=M[I-1]==="\r";Z+=M.slice(V,v?I-1:I)+E+(v?`\r
`:`
`)+R,V=I+1,I=M.indexOf(`
`,V)}while(I!==-1);return Z+=M.slice(V),Z}const{stdout:To,stderr:So}=wv,lr=Symbol("GENERATOR"),Mi=Symbol("STYLER"),fn=Symbol("IS_EMPTY"),Eo=["ansi","ansi","ansi256","ansi16m"],Ri=Object.create(null),Rv=(M,E={})=>{if(E.level&&!(Number.isInteger(E.level)&&E.level>=0&&E.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const R=To?To.level:0;M.level=E.level===void 0?R:E.level},bv=M=>{const E=(...R)=>R.join(" ");return Rv(E,M),Object.setPrototypeOf(E,wn.prototype),E};function wn(M){return bv(M)}Object.setPrototypeOf(wn.prototype,Function.prototype);for(const[M,E]of Object.entries(xe))Ri[M]={get(){const R=Zn(this,ur(E.open,E.close,this[Mi]),this[fn]);return Object.defineProperty(this,M,{value:R}),R}};Ri.visible={get(){const M=Zn(this,this[Mi],!0);return Object.defineProperty(this,"visible",{value:M}),M}};const hr=(M,E,R,...I)=>M==="rgb"?E==="ansi16m"?xe[R].ansi16m(...I):E==="ansi256"?xe[R].ansi256(xe.rgbToAnsi256(...I)):xe[R].ansi(xe.rgbToAnsi(...I)):M==="hex"?hr("rgb",E,R,...xe.hexToRgb(...I)):xe[R][M](...I),Ov=["rgb","hex","ansi256"];for(const M of Ov){Ri[M]={get(){const{level:R}=this;return function(...I){const V=ur(hr(M,Eo[R],"color",...I),xe.color.close,this[Mi]);return Zn(this,V,this[fn])}}};const E="bg"+M[0].toUpperCase()+M.slice(1);Ri[E]={get(){const{level:R}=this;return function(...I){const V=ur(hr(M,Eo[R],"bgColor",...I),xe.bgColor.close,this[Mi]);return Zn(this,V,this[fn])}}}}const Lv=Object.defineProperties(()=>{},{...Ri,level:{enumerable:!0,get(){return this[lr].level},set(M){this[lr].level=M}}}),ur=(M,E,R)=>{let I,V;return R===void 0?(I=M,V=E):(I=R.openAll+M,V=E+R.closeAll),{open:M,close:E,openAll:I,closeAll:V,parent:R}},Zn=(M,E,R)=>{const I=(...V)=>Fv(I,V.length===1?""+V[0]:V.join(" "));return Object.setPrototypeOf(I,Lv),I[lr]=M,I[Mi]=E,I[fn]=R,I},Fv=(M,E)=>{if(M.level<=0||!E)return M[fn]?"":E;let R=M[Mi];if(R===void 0)return E;const{openAll:I,closeAll:V}=R;if(E.includes("\x1B"))for(;R!==void 0;)E=Av(E,R.close,R.open),R=R.parent;const Z=E.indexOf(`
`);return Z!==-1&&(E=Mv(E,V,I,Z)),I+E+V};Object.defineProperties(wn.prototype,Ri);const ei=wn();wn({level:So?So.level:0});var ll={exports:{}};(function(M){(function(E,R){M.exports?M.exports=R():E.log=R()})(wi,function(){var E=function(){},R="undefined",I=typeof window!==R&&typeof window.navigator!==R&&/Trident\/|MSIE /.test(window.navigator.userAgent),V=["trace","debug","info","warn","error"];function Z(i,h){var n=i[h];if(typeof n.bind=="function")return n.bind(i);try{return Function.prototype.bind.call(n,i)}catch{return function(){return Function.prototype.apply.apply(n,[i,arguments])}}}function v(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function x(i){return i==="debug"&&(i="log"),typeof console===R?!1:i==="trace"&&I?v:console[i]!==void 0?Z(console,i):console.log!==void 0?Z(console,"log"):E}function t(i,h){for(var n=0;n<V.length;n++){var o=V[n];this[o]=n<i?E:this.methodFactory(o,i,h)}this.log=this.debug}function l(i,h,n){return function(){typeof console!==R&&(t.call(this,h,n),this[i].apply(this,arguments))}}function c(i,h,n){return x(i)||l.apply(this,arguments)}function a(i,h,n){var o=this,f;h=h??"WARN";var u="loglevel";typeof i=="string"?u+=":"+i:typeof i=="symbol"&&(u=void 0);function d(g){var T=(V[g]||"silent").toUpperCase();if(!(typeof window===R||!u)){try{window.localStorage[u]=T;return}catch{}try{window.document.cookie=encodeURIComponent(u)+"="+T+";"}catch{}}}function p(){var g;if(!(typeof window===R||!u)){try{g=window.localStorage[u]}catch{}if(typeof g===R)try{var T=window.document.cookie,S=T.indexOf(encodeURIComponent(u)+"=");S!==-1&&(g=/^([^;]+)/.exec(T.slice(S))[1])}catch{}return o.levels[g]===void 0&&(g=void 0),g}}function m(){if(!(typeof window===R||!u)){try{window.localStorage.removeItem(u);return}catch{}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}o.name=i,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=n||c,o.getLevel=function(){return f},o.setLevel=function(g,T){if(typeof g=="string"&&o.levels[g.toUpperCase()]!==void 0&&(g=o.levels[g.toUpperCase()]),typeof g=="number"&&g>=0&&g<=o.levels.SILENT){if(f=g,T!==!1&&d(g),t.call(o,g,i),typeof console===R&&g<o.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+g},o.setDefaultLevel=function(g){h=g,p()||o.setLevel(g,!1)},o.resetLevel=function(){o.setLevel(h,!1),m()},o.enableAll=function(g){o.setLevel(o.levels.TRACE,g)},o.disableAll=function(g){o.setLevel(o.levels.SILENT,g)};var y=p();y==null&&(y=h),o.setLevel(y,!1)}var r=new a,s={};r.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var n=s[h];return n||(n=s[h]=new a(h,r.getLevel(),r.methodFactory)),n};var e=typeof window!==R?window.log:void 0;return r.noConflict=function(){return typeof window!==R&&window.log===r&&(window.log=e),r},r.getLoggers=function(){return s},r.default=r,r})})(ll);var Dv=ll.exports;const Le=Tr(Dv),Iv={trace:ei.magenta,debug:ei.cyan,info:ei.blue,warn:ei.yellow,error:ei.red};Le.setLevel(Le.levels.INFO);const Bv=Le.methodFactory,hl=(M,E,R="global")=>{const I=String(R),V=Bv(M,E,I);return(...Z)=>{const v=new Date().toLocaleTimeString(),x=ei.gray(`[${v}]`),t=Iv[M](M.toUpperCase()),l=ei.green(I);V(`${x} ${t} ${l}
`,...Z)}};Le.methodFactory=hl;const Ti={};function zt(M){return Ti[M]||(Ti[M]=Le.getLogger(M),Ti[M].setLevel(Le.levels.INFO),Ti[M].methodFactory=hl,Ti[M].debugVerbose=(...E)=>{}),Ti[M]}var Re={i8:"i8",ui8:"ui8",ui8c:"ui8c",i16:"i16",ui16:"ui16",i32:"i32",ui32:"ui32",f32:"f32",f64:"f64",eid:"eid"},Qn={i8:"Int8",ui8:"Uint8",ui8c:"Uint8Clamped",i16:"Int16",ui16:"Uint16",i32:"Int32",ui32:"Uint32",eid:"Uint32",f32:"Float32",f64:"Float64"},ye={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,eid:Uint32Array},Jn={uint8:2**8,uint16:2**16,uint32:2**32},Nv=M=>E=>Math.ceil(E/M)*M,ul=Nv(4),Gv=Symbol("storeRef"),dn=Symbol("storeSize"),Uv=Symbol("storeMaps"),Te=Symbol("storeFlattened"),zn=Symbol("storeBase"),fl=Symbol("storeType"),Ur=Symbol("storeArrayElementCounts"),ni=Symbol("storeSubarrays"),cn=Symbol("subarrayCursors"),dl=Symbol("subarray"),vn=Symbol("parentArray"),Vr=Symbol("tagStore"),qn=Symbol("indexType"),_n=Symbol("indexBytes"),cl=Symbol("isEidType"),Ae={},vl=(M,E)=>{const R=new ArrayBuffer(E*M.BYTES_PER_ELEMENT),I=new M.constructor(R);return I.set(M,0),I},Vv=(M,E)=>{if(ArrayBuffer.isView(M))M[E]=M.slice(0);else{const R=M[vn].slice(0);M[E]=M.map((I,V)=>{const{length:Z}=M[V],v=Z*V,x=v+Z;return R.subarray(v,x)})}},Xv=(M,E,R)=>{const I=M[cn];let V=E[fl];const Z=E[0].length,v=Z<=Jn.uint8?Re.ui8:Z<=Jn.uint16?Re.ui16:Re.ui32;if(I[V]===0){const l=M[Ur][V],c=new ye[V](ul(l*R));c.set(M[ni][V]),M[ni][V]=c,c[qn]=Qn[v],c[_n]=ye[v].BYTES_PER_ELEMENT}const x=I[V],t=x+R*Z;I[V]=t,E[vn]=M[ni][V].subarray(x,t);for(let l=0;l<R;l++){const c=Z*l,a=c+Z;E[l]=E[vn].subarray(c,a),E[l][qn]=Qn[v],E[l][_n]=ye[v].BYTES_PER_ELEMENT,E[l][dl]=!0}},pl=(M,E,R)=>{Object.keys(E).forEach(I=>{const V=E[I];Array.isArray(V)?(Xv(M,V,R),E[Te].push(V)):ArrayBuffer.isView(V)?(E[I]=vl(V,R),E[Te].push(E[I])):typeof V=="object"&&pl(M,E[I],R)})},gl=(M,E)=>{M[Vr]||(M[dn]=E,M[Te].length=0,Object.keys(M[cn]).forEach(R=>{M[cn][R]=0}),pl(M,M,E))},zv=(M,E)=>{M[Te]&&M[Te].forEach(R=>{ArrayBuffer.isView(R)?R[E]=0:R[E].fill(0)})},Yv=(M,E)=>{const R=E*ye[M].BYTES_PER_ELEMENT,I=new ArrayBuffer(R),V=new ye[M](I);return V[cl]=M===Re.eid,V},Wv=(M,E,R)=>{const I=M[dn],V=Array(I).fill(0);V[fl]=E,V[cl]=E===Re.eid;const Z=M[cn],v=R<=Jn.uint8?Re.ui8:R<=Jn.uint16?Re.ui16:Re.ui32;if(!R)throw new Error("bitECS - Must define component array length");if(!ye[E])throw new Error(`bitECS - Invalid component array property type ${E}`);if(!M[ni][E]){const l=M[Ur][E],c=new ye[E](ul(l*I));c[qn]=Qn[v],c[_n]=ye[v].BYTES_PER_ELEMENT,M[ni][E]=c}const x=Z[E],t=x+I*R;Z[E]=t,V[vn]=M[ni][E].subarray(x,t);for(let l=0;l<I;l++){const c=R*l,a=c+R;V[l]=V[vn].subarray(c,a),V[l][qn]=Qn[v],V[l][_n]=ye[v].BYTES_PER_ELEMENT,V[l][dl]=!0}return V},Co=M=>Array.isArray(M)&&typeof M[0]=="string"&&typeof M[1]=="number",Hv=(M,E)=>{const R=Symbol("store");if(!M||!Object.keys(M).length)return Ae[R]={[dn]:E,[Vr]:!0,[zn]:()=>Ae[R]},Ae[R];M=JSON.parse(JSON.stringify(M));const I={},V=v=>{const x=Object.keys(v);for(const t of x)Co(v[t])?(I[v[t][0]]||(I[v[t][0]]=0),I[v[t][0]]+=v[t][1]):v[t]instanceof Object&&V(v[t])};V(M);const Z={[dn]:E,[Uv]:{},[ni]:{},[Gv]:R,[cn]:Object.keys(ye).reduce((v,x)=>({...v,[x]:0}),{}),[Te]:[],[Ur]:I};if(M instanceof Object&&Object.keys(M).length){const v=(x,t)=>{if(typeof x[t]=="string")x[t]=Yv(x[t],E),x[t][zn]=()=>Ae[R],Z[Te].push(x[t]);else if(Co(x[t])){const[l,c]=x[t];x[t]=Wv(Z,l,c),x[t][zn]=()=>Ae[R],Z[Te].push(x[t])}else x[t]instanceof Object&&(x[t]=Object.keys(x[t]).reduce(v,x[t]));return x};return Ae[R]=Object.assign(Object.keys(M).reduce(v,M),Z),Ae[R][zn]=()=>Ae[R],Ae[R]}},qi=()=>{const M=[],E=[];M.sort=function(Z){const v=Array.prototype.sort.call(this,Z);for(let x=0;x<M.length;x++)E[M[x]]=x;return v};const R=Z=>M[E[Z]]===Z;return{add:Z=>{R(Z)||(E[Z]=M.push(Z)-1)},remove:Z=>{if(!R(Z))return;const v=E[Z],x=M.pop();x!==Z&&(M[v]=x,E[x]=v)},has:R,sparse:E,dense:M}},pe=Symbol("entityMasks"),ls=Symbol("entityComponents"),oi=Symbol("entitySparseSet"),en=Symbol("entityArray"),hs=1e5,ts=0,li=hs,jv=()=>li-li/5,pn=()=>li,es=[],kv=()=>{li=hs,ts=0,es.length=0},Kv=M=>{const E=li;hs=M,kv(),li=M,lp(M),sp(M),console.info(` bitECS - resizing all data stores from ${E} to ${M}`)},$v=()=>ts,Zv=new Map,ml=M=>{if(ts>=jv()){const R=li,I=Math.ceil(R/2/4)*4;Kv(R+I)}const E=es.length>Math.round(hs*.01)?es.shift():ts++;return M[oi].add(E),Zv.set(E,M),M[zr].forEach(R=>{Yr(M,R,E)&&Wr(R,E)}),M[ls].set(E,new Set),E},Xr=(M,E)=>{if(M[oi].has(E)){M[us].forEach(R=>{Tl(M,R,E)}),es.push(E),M[oi].remove(E),M[ls].delete(E),M[Cl].delete(M[dr].get(E)),M[dr].delete(E);for(let R=0;R<M[pe].length;R++)M[pe][R][E]=0}},us=Symbol("queries"),zr=Symbol("notQueries"),Qv=Symbol("queryAny"),Jv=Symbol("queryAll"),qv=Symbol("queryNone"),is=Symbol("queryMap"),nn=Symbol("$dirtyQueries"),xl=Symbol("queryComponents"),_v=(M,E)=>{const R=[],I=[],V=[];E[xl].forEach(d=>{if(typeof d=="function"){const[p,m]=d();M[Oe].has(p)||fr(M,p),m==="not"&&I.push(p),m==="changed"&&(V.push(p),R.push(p))}else M[Oe].has(d)||fr(M,d),R.push(d)});const Z=d=>M[Oe].get(d),v=R.concat(I).map(Z),x=qi(),t=[],l=[],c=qi(),a=qi(),r=qi(),s=v.map(d=>d.generationId).reduce((d,p)=>(d.includes(p)||d.push(p),d),[]),e=(d,p)=>(d[p.generationId]||(d[p.generationId]=0),d[p.generationId]|=p.bitflag,d),i=R.map(Z).reduce(e,{}),h=I.map(Z).reduce(e,{}),n=v.reduce(e,{}),o=R.filter(d=>!d[Vr]).map(d=>Object.getOwnPropertySymbols(d).includes(Te)?d[Te]:[d]).reduce((d,p)=>d.concat(p),[]),u=Object.assign(x,{archetypes:t,changed:l,components:R,notComponents:I,changedComponents:V,allComponents:v,masks:i,notMasks:h,hasMasks:n,generations:s,flatProps:o,toRemove:c,entered:a,exited:r,shadows:[]});M[is].set(E,u),M[us].add(u),v.forEach(d=>{d.queries.add(u)}),I.length&&M[zr].add(u);for(let d=0;d<$v();d++){if(!M[oi].has(d))continue;Yr(M,u,d)&&Wr(u,d)}},tp=(M,E)=>{const R=Symbol(),I=M.flatProps[E];return Vv(I,R),M.shadows[E]=I[R],I[R]},ep=(M,E)=>{E&&(M.changed=[]);const{flatProps:R,shadows:I}=M;for(let V=0;V<M.dense.length;V++){const Z=M.dense[V];let v=!1;for(let x=0;x<R.length;x++){const t=R[x],l=I[x]||tp(M,x);if(ArrayBuffer.isView(t[Z])){for(let c=0;c<t[Z].length;c++)if(t[Z][c]!==l[Z][c]){v=!0;break}l[Z].set(t[Z])}else t[Z]!==l[Z]&&(v=!0,l[Z]=t[Z])}v&&M.changed.push(Z)}return M.changed},yl=(...M)=>{let E,R,I,V;if(Array.isArray(M[0])&&(E=M[0]),E===void 0||E[Oe]!==void 0)return v=>v?v[en]:E[en];const Z=function(v,x=!0){v[is].has(Z)||_v(v,Z);const t=v[is].get(Z);return np(v),t.changedComponents.length?ep(t,x):t.dense};return Z[xl]=E,Z[Qv]=R,Z[Jv]=I,Z[qv]=V,Z},Yr=(M,E,R)=>{const{masks:I,notMasks:V,generations:Z}=E;for(let v=0;v<Z.length;v++){const x=Z[v],t=I[x],l=V[x],c=M[pe][x][R];if(l&&c&l||t&&(c&t)!==t)return!1}return!0},Wr=(M,E)=>{M.toRemove.remove(E),M.entered.add(E),M.add(E)},ip=M=>{for(let E=M.toRemove.dense.length-1;E>=0;E--){const R=M.toRemove.dense[E];M.toRemove.remove(R),M.remove(R)}},np=M=>{M[nn].size&&(M[nn].forEach(ip),M[nn].clear())},Tl=(M,E,R)=>{!E.has(R)||E.toRemove.has(R)||(E.toRemove.add(R),M[nn].add(E),E.exited.add(R))},Oe=Symbol("componentMap"),Sl=[],sp=M=>{Sl.forEach(E=>gl(E,M))},je=(M,E)=>{const R=Hv(M,E||pn());return M&&Object.keys(M).length&&Sl.push(R),R},rp=M=>{M[rn]*=2,M[rn]>=2**31&&(M[rn]=1,M[pe].push(new Uint32Array(M[sn])))},fr=(M,E)=>{if(!E)throw new Error("bitECS - Cannot register null or undefined component");const R=new Set,I=new Set,V=new Set;M[us].forEach(Z=>{Z.allComponents.includes(E)&&R.add(Z)}),M[Oe].set(E,{generationId:M[pe].length-1,bitflag:M[rn],store:E,queries:R,notQueries:I,changedQueries:V}),E[dn]<pn()&&gl(E,pn()),rp(M)},El=(M,E,R)=>{const I=M[Oe].get(E);if(!I)return!1;const{generationId:V,bitflag:Z}=I;return(M[pe][V][R]&Z)===Z},De=(M,E,R,I=!1)=>{if(R===void 0)throw new Error("bitECS - entity is undefined.");if(!M[oi].has(R))throw new Error("bitECS - entity does not exist in the world.");if(M[Oe].has(E)||fr(M,E),El(M,E,R))return;const V=M[Oe].get(E),{generationId:Z,bitflag:v,queries:x,notQueries:t}=V;M[pe][Z][R]|=v,x.forEach(l=>{l.toRemove.has(R)&&l.toRemove.remove(R);const c=Yr(M,l,R);c&&Wr(l,R),c||Tl(M,l,R)}),M[ls].get(R).add(E),I&&zv(E,R)},sn=Symbol("size"),ap=Symbol("resizeThreshold"),rn=Symbol("bitflag"),op=Symbol("archetypes"),Cl=Symbol("localEntities"),dr=Symbol("localEntityLookp"),Pl=[],lp=M=>{Pl.forEach(E=>{E[sn]=M;for(let R=0;R<E[pe].length;R++){const I=E[pe][R];E[pe][R]=vl(I,M)}E[ap]=E[sn]-E[sn]/5})},hp=(...M)=>{const E=typeof M[0]=="object"?M[0]:{},R=typeof M[0]=="number"?M[0]:typeof M[1]=="number"?M[1]:pn();return up(E,R),Pl.push(E),E},up=(M,E=pn())=>(M[sn]=E,M[en]&&M[en].forEach(R=>Xr(M,R)),M[pe]=[new Uint32Array(E)],M[ls]=new Map,M[op]=[],M[oi]=qi(),M[en]=M[oi].dense,M[rn]=1,M[Oe]=new Map,M[is]=new Map,M[us]=new Set,M[zr]=new Set,M[nn]=new Set,M[Cl]=new Map,M[dr]=new Map,M),ne=Re;const wl=zt("entity"),cr=[],vr=je({spriteIndex:ne.ui16});function Al(M,E,R){De(M,vr,E),vr.spriteIndex[E]=cr.length,cr.push(R),wl.debugVerbose(`Adding sprite ${E} with texture ${R.texture.key}`)}function ns(M){const E=An(M);if(E)E.setActive(!1),E.setVisible(!1),E.setTexture("");else throw new Error(`No sprite found for entity ${M}`);return wl.debugVerbose(`Removing sprite ${M}`),E}function An(M){const E=vr.spriteIndex[M];return cr[E]}const te=je({exempt:ne.ui8,collisionModifier:ne.f32,minX:ne.f32,minY:ne.f32,maxX:ne.f32,maxY:ne.f32});function Ml(M,E,R,I){De(M,te,E),te.exempt[E]=R?1:0,te.collisionModifier[E]=I,Rl(E),Le.debug(`Added collider to entity ${E}`)}function fp(M){return{eid:M,exempt:te.exempt[M]===1,collisionModifier:te.collisionModifier[M],minX:te.minX[M],minY:te.minY[M],maxX:te.maxX[M],maxY:te.maxY[M]}}function Rl(M){const E=An(M);if(!E){Le.error(`Could not update collider bounds for entity ${M}, no sprite found`);return}te.minX[M]=E.x,te.minY[M]=E.y,te.maxX[M]=E.x+E.width,te.maxY[M]=E.y+E.height,Le.debug(`Updated collider bounds for entity ${M}`)}function Hr(M){return{minX:te.minX[M],minY:te.minY[M],maxX:te.maxX[M],maxY:te.maxY[M]}}const si=je({current:ne.f32,max:ne.f32});function bl(M,E,R,I){De(M,si,E),si.current[E]=R,si.max[E]=I}const Wt=je({x:ne.f32,y:ne.f32,xSpeed:ne.f32,ySpeed:ne.f32});function dp(M,E,R,I,V,Z){De(M,Wt,E),Wt.x[E]=R,Wt.y[E]=I,Wt.xSpeed[E]=V,Wt.ySpeed[E]=Z}const pr=je({damage:ne.f32});function cp(M,E,R){De(M,pr,E),pr.damage[E]=R}function vp(M){return pr.damage[M]}const Yn=100,pp=50,gp=350,mp=50,xp=Symbol("TimeController"),gn=je({target:ne.i32});function yp(M,E,R){De(M,gn,E),gn.target[E]=R}function an(M){return gn.target[M]}function Po(M,E){gn.target[M]=E}const jr=new Map;function Ol(M,E){jr.set(M,E)}function kr(M){return jr.get(M)}function Ll(M){jr.delete(M)}function Yt(M){return`${kr(M)} (${M})`}class Tp{constructor(E,R){Et(this,"scene");Et(this,"world");Et(this,"logger",zt("entity"));this.scene=E,this.world=R}createPlayer(){const E=ml(this.world),R=this.scene.cameras.main.centerX,I=this.scene.cameras.main.centerY,V=this.scene.add.sprite(R,I,"player");return V.setOrigin(0,0),Al(this.world,E,V),dp(this.world,E,R,I,0,0),bl(this.world,E,100,100),Ml(this.world,E,!0,1),cp(this.world,E,pp),yp(this.world,E,0),Ol(E,"player"),this.logger.debug(`Created entity ${Yt(E)} `),E}release(E){this.logger.debug(`Releasing entity: ${E} ${kr(E)} `);const R=An(E);R&&R.destroy(),Xr(this.world,E),Ll(E)}}const Sp={action:!1,core:!1,entity:!0,movement:!1,time:!1,telemetry:!1},Ep={moveEvents:!1},wo={modules:Sp,events:Ep};function Cp(M){return{all:M=M||new Map,on:function(E,R){var I=M.get(E);I?I.push(R):M.set(E,[R])},off:function(E,R){var I=M.get(E);I&&(R?I.splice(I.indexOf(R)>>>0,1):M.set(E,[]))},emit:function(E,R){var I=M.get(E);I&&I.slice().map(function(V){V(R)}),(I=M.get("*"))&&I.slice().map(function(V){V(E,R)})}}}const Qt=Cp(),Pp=(M,E)=>{zt("core").debug(`Event triggered: ${M} ${JSON.stringify(E)}`)};Qt.on("*",Pp);var gr={exports:{}};/*! Tweakpane 3.1.9 (c) 2016 cocopon, licensed under the MIT license. */(function(M,E){(function(R,I){I(E)})(wi,function(R){class I{constructor(P){const[O,U]=P.split("-"),q=O.split(".");this.major=parseInt(q[0],10),this.minor=parseInt(q[1],10),this.patch=parseInt(q[2],10),this.prerelease=U??null}toString(){const P=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[P,this.prerelease].join("-"):P}}class V{constructor(P){this.controller_=P}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(P){this.controller_.viewProps.set("disabled",P)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(P){this.controller_.viewProps.set("hidden",P)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class Z{constructor(P){this.target=P}}class v extends Z{constructor(P,O,U,q){super(P),this.value=O,this.presetKey=U,this.last=q??!0}}class x extends Z{constructor(P,O,U){super(P),this.value=O,this.presetKey=U}}class t extends Z{constructor(P,O){super(P),this.expanded=O}}class l extends Z{constructor(P,O){super(P),this.index=O}}function c(F){return F}function a(F){return F==null}function r(F,P){if(F.length!==P.length)return!1;for(let O=0;O<F.length;O++)if(F[O]!==P[O])return!1;return!0}function s(F,P){let O=F;do{const U=Object.getOwnPropertyDescriptor(O,P);if(U&&(U.set!==void 0||U.writable===!0))return!0;O=Object.getPrototypeOf(O)}while(O!==null);return!1}const e={alreadydisposed:()=>"View has been already disposed",invalidparams:F=>`Invalid parameters for '${F.name}'`,nomatchingcontroller:F=>`No matching controller for '${F.key}'`,nomatchingview:F=>`No matching view for '${JSON.stringify(F.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:F=>`Property '${F.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class i{static alreadyDisposed(){return new i({type:"alreadydisposed"})}static notBindable(){return new i({type:"notbindable"})}static propertyNotFound(P){return new i({type:"propertynotfound",context:{name:P}})}static shouldNeverHappen(){return new i({type:"shouldneverhappen"})}constructor(P){var O;this.message=(O=e[P.type](P.context))!==null&&O!==void 0?O:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=P.type}}class h{constructor(P,O,U){this.obj_=P,this.key_=O,this.presetKey_=U??O}static isBindable(P){return!(P===null||typeof P!="object"&&typeof P!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(P){this.obj_[this.key_]=P}writeProperty(P,O){const U=this.read();if(!h.isBindable(U))throw i.notBindable();if(!(P in U))throw i.propertyNotFound(P);U[P]=O}}class n extends V{get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}get title(){var P;return(P=this.controller_.valueController.props.get("title"))!==null&&P!==void 0?P:""}set title(P){this.controller_.valueController.props.set("title",P)}on(P,O){const U=O.bind(this);return this.controller_.valueController.emitter.on(P,()=>{U(new Z(this))}),this}}class o{constructor(){this.observers_={}}on(P,O){let U=this.observers_[P];return U||(U=this.observers_[P]=[]),U.push({handler:O}),this}off(P,O){const U=this.observers_[P];return U&&(this.observers_[P]=U.filter(q=>q.handler!==O)),this}emit(P,O){const U=this.observers_[P];U&&U.forEach(q=>{q.handler(O)})}}const f="tp";function u(F){return(O,U)=>[f,"-",F,"v",O?`_${O}`:"",U?`-${U}`:""].join("")}function d(F,P){return O=>P(F(O))}function p(F){return F.rawValue}function m(F,P){F.emitter.on("change",d(p,P)),P(F.rawValue)}function y(F,P,O){m(F.value(P),O)}function g(F,P,O){O?F.classList.add(P):F.classList.remove(P)}function T(F,P){return O=>{g(F,P,O)}}function S(F,P){m(F,O=>{P.textContent=O??""})}const C=u("btn");class w{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(C()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("button");U.classList.add(C("b")),O.viewProps.bindDisabled(U),this.element.appendChild(U),this.buttonElement=U;const q=P.createElement("div");q.classList.add(C("t")),S(O.props.value("title"),q),this.buttonElement.appendChild(q)}}class b{constructor(P,O){this.emitter=new o,this.onClick_=this.onClick_.bind(this),this.props=O.props,this.viewProps=O.viewProps,this.view=new w(P,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class A{constructor(P,O){var U;this.constraint_=O==null?void 0:O.constraint,this.equals_=(U=O==null?void 0:O.equals)!==null&&U!==void 0?U:(q,it)=>q===it,this.emitter=new o,this.rawValue_=P}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(P){this.setRawValue(P,{forceEmit:!1,last:!0})}setRawValue(P,O){const U=O??{forceEmit:!1,last:!0},q=this.constraint_?this.constraint_.constrain(P):P,it=this.rawValue_;this.equals_(it,q)&&!U.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=q,this.emitter.emit("change",{options:U,previousRawValue:it,rawValue:q,sender:this}))}}class D{constructor(P){this.emitter=new o,this.value_=P}get rawValue(){return this.value_}set rawValue(P){this.setRawValue(P,{forceEmit:!1,last:!0})}setRawValue(P,O){const U=O??{forceEmit:!1,last:!0},q=this.value_;q===P&&!U.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=P,this.emitter.emit("change",{options:U,previousRawValue:q,rawValue:this.value_,sender:this}))}}function B(F,P){const O=P==null?void 0:P.constraint,U=P==null?void 0:P.equals;return!O&&!U?new D(F):new A(F,P)}class N{constructor(P){this.emitter=new o,this.valMap_=P;for(const O in this.valMap_)this.valMap_[O].emitter.on("change",()=>{this.emitter.emit("change",{key:O,sender:this})})}static createCore(P){return Object.keys(P).reduce((U,q)=>Object.assign(U,{[q]:B(P[q])}),{})}static fromObject(P){const O=this.createCore(P);return new N(O)}get(P){return this.valMap_[P].rawValue}set(P,O){this.valMap_[P].rawValue=O}value(P){return this.valMap_[P]}}function Y(F,P){const U=Object.keys(P).reduce((q,it)=>{if(q===void 0)return;const lt=P[it],gt=lt(F[it]);return gt.succeeded?Object.assign(Object.assign({},q),{[it]:gt.value}):void 0},{});return U}function H(F,P){return F.reduce((O,U)=>{if(O===void 0)return;const q=P(U);if(!(!q.succeeded||q.value===void 0))return[...O,q.value]},[])}function j(F){return F===null?!1:typeof F=="object"}function J(F){return P=>O=>{if(!P&&O===void 0)return{succeeded:!1,value:void 0};if(P&&O===void 0)return{succeeded:!0,value:void 0};const U=F(O);return U!==void 0?{succeeded:!0,value:U}:{succeeded:!1,value:void 0}}}function X(F){return{custom:P=>J(P)(F),boolean:J(P=>typeof P=="boolean"?P:void 0)(F),number:J(P=>typeof P=="number"?P:void 0)(F),string:J(P=>typeof P=="string"?P:void 0)(F),function:J(P=>typeof P=="function"?P:void 0)(F),constant:P=>J(O=>O===P?P:void 0)(F),raw:J(P=>P)(F),object:P=>J(O=>{if(j(O))return Y(O,P)})(F),array:P=>J(O=>{if(Array.isArray(O))return H(O,P)})(F)}}const W={optional:X(!0),required:X(!1)};function L(F,P){const O=W.required.object(P)(F);return O.succeeded?O.value:void 0}function G(F){console.warn([`Missing '${F.key}' of ${F.target} in ${F.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function z(F){return F&&F.parentElement&&F.parentElement.removeChild(F),null}class k{constructor(P){this.value_=P}static create(P){return[new k(P),(O,U)=>{P.setRawValue(O,U)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const K=u("");function $(F,P){return T(F,K(void 0,P))}class Q extends N{constructor(P){var O;super(P),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=k.create(B(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(O=this.get("parent"))===null||O===void 0||O.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(P){var O,U,q;const it=P??{};return new Q(N.createCore({disabled:(O=it.disabled)!==null&&O!==void 0?O:!1,disposed:!1,hidden:(U=it.hidden)!==null&&U!==void 0?U:!1,parent:(q=it.parent)!==null&&q!==void 0?q:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(P){m(this.globalDisabled_,$(P,"disabled")),y(this,"hidden",$(P,"hidden"))}bindDisabled(P){m(this.globalDisabled_,O=>{P.disabled=O})}bindTabIndex(P){m(this.globalDisabled_,O=>{P.tabIndex=O?-1:0})}handleDispose(P){this.value("disposed").emitter.on("change",O=>{O&&P()})}getGlobalDisabled_(){const P=this.get("parent");return(P?P.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(P){var O;const U=P.previousRawValue;U==null||U.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(O=this.get("parent"))===null||O===void 0||O.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function _(){return["veryfirst","first","last","verylast"]}const tt=u(""),nt={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class st{constructor(P){this.parent_=null,this.blade=P.blade,this.view=P.view,this.viewProps=P.viewProps;const O=this.view.element;this.blade.value("positions").emitter.on("change",()=>{_().forEach(U=>{O.classList.remove(tt(void 0,nt[U]))}),this.blade.get("positions").forEach(U=>{O.classList.add(tt(void 0,nt[U]))})}),this.viewProps.handleDispose(()=>{z(O)})}get parent(){return this.parent_}set parent(P){if(this.parent_=P,!("parent"in this.viewProps.valMap_)){G({key:"parent",target:Q.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const at="http://www.w3.org/2000/svg";function rt(F){F.offsetHeight}function dt(F,P){const O=F.style.transition;F.style.transition="none",P(),F.style.transition=O}function mt(F){return F.ontouchstart!==void 0}function Tt(){return globalThis}function St(){return Tt().document}function ft(F){const P=F.ownerDocument.defaultView;return P&&"document"in P?F.getContext("2d",{willReadFrequently:!0}):null}const vt={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function et(F,P){const O=F.createElementNS(at,"svg");return O.innerHTML=vt[P],O}function ot(F,P,O){F.insertBefore(P,F.children[O])}function ut(F){F.parentElement&&F.parentElement.removeChild(F)}function ct(F){for(;F.children.length>0;)F.removeChild(F.children[0])}function xt(F){for(;F.childNodes.length>0;)F.removeChild(F.childNodes[0])}function wt(F){return F.relatedTarget?F.relatedTarget:"explicitOriginalTarget"in F?F.explicitOriginalTarget:null}const pt=u("lbl");function Ct(F,P){const O=F.createDocumentFragment();return P.split(`
`).map(q=>F.createTextNode(q)).forEach((q,it)=>{it>0&&O.appendChild(F.createElement("br")),O.appendChild(q)}),O}class yt{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(pt()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(pt("l")),y(O.props,"label",it=>{a(it)?this.element.classList.add(pt(void 0,"nol")):(this.element.classList.remove(pt(void 0,"nol")),xt(U),U.appendChild(Ct(P,it)))}),this.element.appendChild(U),this.labelElement=U;const q=P.createElement("div");q.classList.add(pt("v")),this.element.appendChild(q),this.valueElement=q}}class Pt extends st{constructor(P,O){const U=O.valueController.viewProps;super(Object.assign(Object.assign({},O),{view:new yt(P,{props:O.props,viewProps:U}),viewProps:U})),this.props=O.props,this.valueController=O.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const At={id:"button",type:"blade",accept(F){const P=W,O=L(F,{title:P.required.string,view:P.required.constant("button"),label:P.optional.string});return O?{params:O}:null},controller(F){return new Pt(F.document,{blade:F.blade,props:N.fromObject({label:F.params.label}),valueController:new b(F.document,{props:N.fromObject({title:F.params.title}),viewProps:F.viewProps})})},api(F){return!(F.controller instanceof Pt)||!(F.controller.valueController instanceof b)?null:new n(F.controller)}};class It extends st{constructor(P){super(P),this.value=P.value}}function Ht(){return new N({positions:B([],{equals:r})})}class ht extends N{constructor(P){super(P)}static create(P){const O={completed:!0,expanded:P,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},U=N.createCore(O);return new ht(U)}get styleExpanded(){var P;return(P=this.get("temporaryExpanded"))!==null&&P!==void 0?P:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const P=this.get("expandedHeight");return this.get("shouldFixHeight")&&!a(P)?`${P}px`:"auto"}bindExpandedClass(P,O){const U=()=>{this.styleExpanded?P.classList.add(O):P.classList.remove(O)};y(this,"expanded",U),y(this,"temporaryExpanded",U)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ee(F,P){let O=0;return dt(P,()=>{F.set("expandedHeight",null),F.set("temporaryExpanded",!0),rt(P),O=P.clientHeight,F.set("temporaryExpanded",null),rt(P)}),O}function qt(F,P){P.style.height=F.styleHeight}function _t(F,P){F.value("expanded").emitter.on("beforechange",()=>{if(F.set("completed",!1),a(F.get("expandedHeight"))){const O=ee(F,P);O>0&&F.set("expandedHeight",O)}F.set("shouldFixHeight",!0),rt(P)}),F.emitter.on("change",()=>{qt(F,P)}),qt(F,P),P.addEventListener("transitionend",O=>{O.propertyName==="height"&&F.cleanUpTransition()})}class ke extends V{constructor(P,O){super(P),this.rackApi_=O}}function Ie(F,P){return F.addBlade(Object.assign(Object.assign({},P),{view:"button"}))}function hi(F,P){return F.addBlade(Object.assign(Object.assign({},P),{view:"folder"}))}function Wl(F,P){const O=P??{};return F.addBlade(Object.assign(Object.assign({},O),{view:"separator"}))}function Hl(F,P){return F.addBlade(Object.assign(Object.assign({},P),{view:"tab"}))}class fs{constructor(P){this.emitter=new o,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=P}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(P){for(const O of this.allItems())if(P(O))return O;return null}includes(P){return this.cache_.has(P)}add(P,O){if(this.includes(P))throw i.shouldNeverHappen();const U=O!==void 0?O:this.items_.length;this.items_.splice(U,0,P),this.cache_.add(P);const q=this.extract_(P);q&&(q.emitter.on("add",this.onSubListAdd_),q.emitter.on("remove",this.onSubListRemove_),q.allItems().forEach(it=>{this.cache_.add(it)})),this.emitter.emit("add",{index:U,item:P,root:this,target:this})}remove(P){const O=this.items_.indexOf(P);if(O<0)return;this.items_.splice(O,1),this.cache_.delete(P);const U=this.extract_(P);U&&(U.emitter.off("add",this.onSubListAdd_),U.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:O,item:P,root:this,target:this})}onSubListAdd_(P){this.cache_.add(P.item),this.emitter.emit("add",{index:P.index,item:P.item,root:this,target:P.target})}onSubListRemove_(P){this.cache_.delete(P.item),this.emitter.emit("remove",{index:P.index,item:P.item,root:this,target:P.target})}}class ds extends V{constructor(P){super(P),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new o,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(P){const O=P.sender.target.read();this.emitter_.emit("change",{event:new v(this,O,this.controller_.binding.target.presetKey,P.options.last)})}}class ge extends Pt{constructor(P,O){super(P,O),this.binding=O.binding}}class cs extends V{constructor(P){super(P),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new o,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(P){const O=P.sender.target.read();this.emitter_.emit("update",{event:new x(this,O,this.controller_.binding.target.presetKey)})}}class Be extends Pt{constructor(P,O){super(P,O),this.binding=O.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function jl(F){return F instanceof Mn?F.apiSet_:F instanceof ke?F.rackApi_.apiSet_:null}function Fi(F,P){const O=F.find(U=>U.controller_===P);if(!O)throw i.shouldNeverHappen();return O}function Kr(F,P,O){if(!h.isBindable(F))throw i.notBindable();return new h(F,P,O)}class Mn extends V{constructor(P,O){super(P),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new o,this.apiSet_=new fs(jl),this.pool_=O;const U=this.controller_.rack;U.emitter.on("add",this.onRackAdd_),U.emitter.on("remove",this.onRackRemove_),U.emitter.on("inputchange",this.onRackInputChange_),U.emitter.on("monitorupdate",this.onRackMonitorUpdate_),U.children.forEach(q=>{this.setUpApi_(q)})}get children(){return this.controller_.rack.children.map(P=>Fi(this.apiSet_,P))}addInput(P,O,U){const q=U??{},it=this.controller_.view.element.ownerDocument,lt=this.pool_.createInput(it,Kr(P,O,q.presetKey),q),gt=new ds(lt);return this.add(gt,q.index)}addMonitor(P,O,U){const q=U??{},it=this.controller_.view.element.ownerDocument,lt=this.pool_.createMonitor(it,Kr(P,O),q),gt=new cs(lt);return this.add(gt,q.index)}addFolder(P){return hi(this,P)}addButton(P){return Ie(this,P)}addSeparator(P){return Wl(this,P)}addTab(P){return Hl(this,P)}add(P,O){this.controller_.rack.add(P.controller_,O);const U=this.apiSet_.find(q=>q.controller_===P.controller_);return U&&this.apiSet_.remove(U),this.apiSet_.add(P),P}remove(P){this.controller_.rack.remove(P.controller_)}addBlade(P){const O=this.controller_.view.element.ownerDocument,U=this.pool_.createBlade(O,P),q=this.pool_.createBladeApi(U);return this.add(q,P.index)}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}setUpApi_(P){this.apiSet_.find(U=>U.controller_===P)||this.apiSet_.add(this.pool_.createBladeApi(P))}onRackAdd_(P){this.setUpApi_(P.bladeController)}onRackRemove_(P){if(P.isRoot){const O=Fi(this.apiSet_,P.bladeController);this.apiSet_.remove(O)}}onRackInputChange_(P){const O=P.bladeController;if(O instanceof ge){const U=Fi(this.apiSet_,O),q=O.binding;this.emitter_.emit("change",{event:new v(U,q.target.read(),q.target.presetKey,P.options.last)})}else if(O instanceof It){const U=Fi(this.apiSet_,O);this.emitter_.emit("change",{event:new v(U,O.value.rawValue,void 0,P.options.last)})}}onRackMonitorUpdate_(P){if(!(P.bladeController instanceof Be))throw i.shouldNeverHappen();const O=Fi(this.apiSet_,P.bladeController),U=P.bladeController.binding;this.emitter_.emit("update",{event:new x(O,U.target.read(),U.target.presetKey)})}}class vs extends ke{constructor(P,O){super(P,new Mn(P.rackController,O)),this.emitter_=new o,this.controller_.foldable.value("expanded").emitter.on("change",U=>{this.emitter_.emit("fold",{event:new t(this,U.sender.rawValue)})}),this.rackApi_.on("change",U=>{this.emitter_.emit("change",{event:U})}),this.rackApi_.on("update",U=>{this.emitter_.emit("update",{event:U})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(P){this.controller_.foldable.set("expanded",P)}get title(){return this.controller_.props.get("title")}set title(P){this.controller_.props.set("title",P)}get children(){return this.rackApi_.children}addInput(P,O,U){return this.rackApi_.addInput(P,O,U)}addMonitor(P,O,U){return this.rackApi_.addMonitor(P,O,U)}addFolder(P){return this.rackApi_.addFolder(P)}addButton(P){return this.rackApi_.addButton(P)}addSeparator(P){return this.rackApi_.addSeparator(P)}addTab(P){return this.rackApi_.addTab(P)}add(P,O){return this.rackApi_.add(P,O)}remove(P){this.rackApi_.remove(P)}addBlade(P){return this.rackApi_.addBlade(P)}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}}class ps extends st{constructor(P){super({blade:P.blade,view:P.view,viewProps:P.rackController.viewProps}),this.rackController=P.rackController}}class kl{constructor(P,O){const U=u(O.viewName);this.element=P.createElement("div"),this.element.classList.add(U()),O.viewProps.bindClassModifiers(this.element)}}function Kl(F,P){for(let O=0;O<F.length;O++){const U=F[O];if(U instanceof ge&&U.binding===P)return U}return null}function $l(F,P){for(let O=0;O<F.length;O++){const U=F[O];if(U instanceof Be&&U.binding===P)return U}return null}function Zl(F,P){for(let O=0;O<F.length;O++){const U=F[O];if(U instanceof It&&U.value===P)return U}return null}function gs(F){return F instanceof Di?F.rack:F instanceof ps?F.rackController.rack:null}function Ql(F){const P=gs(F);return P?P.bcSet_:null}class Jl{constructor(P){var O,U;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new o,this.blade_=(O=P.blade)!==null&&O!==void 0?O:null,(U=this.blade_)===null||U===void 0||U.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=P.viewProps,this.bcSet_=new fs(Ql),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(P,O){var U;(U=P.parent)===null||U===void 0||U.remove(P),s(P,"parent")?P.parent=this:(P.parent_=this,G({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(P,O)}remove(P){s(P,"parent")?P.parent=null:(P.parent_=null,G({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(P)}find(P){return this.bcSet_.allItems().filter(O=>O instanceof P)}onSetAdd_(P){this.updatePositions_();const O=P.target===P.root;if(this.emitter.emit("add",{bladeController:P.item,index:P.index,isRoot:O,sender:this}),!O)return;const U=P.item;if(U.viewProps.emitter.on("change",this.onChildViewPropsChange_),U.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),U.viewProps.handleDispose(this.onChildDispose_),U instanceof ge)U.binding.emitter.on("change",this.onChildInputChange_);else if(U instanceof Be)U.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(U instanceof It)U.value.emitter.on("change",this.onChildValueChange_);else{const q=gs(U);if(q){const it=q.emitter;it.on("layout",this.onDescendantLayout_),it.on("inputchange",this.onDescendantInputChange_),it.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(P){this.updatePositions_();const O=P.target===P.root;if(this.emitter.emit("remove",{bladeController:P.item,isRoot:O,sender:this}),!O)return;const U=P.item;if(U instanceof ge)U.binding.emitter.off("change",this.onChildInputChange_);else if(U instanceof Be)U.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(U instanceof It)U.value.emitter.off("change",this.onChildValueChange_);else{const q=gs(U);if(q){const it=q.emitter;it.off("layout",this.onDescendantLayout_),it.off("inputchange",this.onDescendantInputChange_),it.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const P=this.bcSet_.items.filter(q=>!q.viewProps.get("hidden")),O=P[0],U=P[P.length-1];this.bcSet_.items.forEach(q=>{const it=[];q===O&&(it.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&it.push("veryfirst")),q===U&&(it.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&it.push("verylast")),q.blade.set("positions",it)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(P){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(O=>O.viewProps.get("disposed")).forEach(O=>{this.bcSet_.remove(O)})}onChildInputChange_(P){const O=Kl(this.find(ge),P.sender);if(!O)throw i.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:O,options:P.options,sender:this})}onChildMonitorUpdate_(P){const O=$l(this.find(Be),P.sender);if(!O)throw i.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:O,sender:this})}onChildValueChange_(P){const O=Zl(this.find(It),P.sender);if(!O)throw i.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:O,options:P.options,sender:this})}onDescendantLayout_(P){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(P){this.emitter.emit("inputchange",{bladeController:P.bladeController,options:P.options,sender:this})}onDescendantMonitorUpdate_(P){this.emitter.emit("monitorupdate",{bladeController:P.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Di extends st{constructor(P,O){super(Object.assign(Object.assign({},O),{view:new kl(P,{viewName:"brk",viewProps:O.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const U=new Jl({blade:O.root?void 0:O.blade,viewProps:O.viewProps});U.emitter.on("add",this.onRackAdd_),U.emitter.on("remove",this.onRackRemove_),this.rack=U,this.viewProps.handleDispose(()=>{for(let q=this.rack.children.length-1;q>=0;q--)this.rack.children[q].viewProps.set("disposed",!0)})}onRackAdd_(P){P.isRoot&&ot(this.view.element,P.bladeController.view.element,P.index)}onRackRemove_(P){P.isRoot&&ut(P.bladeController.view.element)}}const $r=u("cnt");class ql{constructor(P,O){var U;this.className_=u((U=O.viewName)!==null&&U!==void 0?U:"fld"),this.element=P.createElement("div"),this.element.classList.add(this.className_(),$r()),O.viewProps.bindClassModifiers(this.element),this.foldable_=O.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),y(this.foldable_,"completed",T(this.element,this.className_(void 0,"cpl")));const q=P.createElement("button");q.classList.add(this.className_("b")),y(O.props,"title",bt=>{a(bt)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),O.viewProps.bindDisabled(q),this.element.appendChild(q),this.buttonElement=q;const it=P.createElement("div");it.classList.add(this.className_("i")),this.element.appendChild(it);const lt=P.createElement("div");lt.classList.add(this.className_("t")),S(O.props.value("title"),lt),this.buttonElement.appendChild(lt),this.titleElement=lt;const gt=P.createElement("div");gt.classList.add(this.className_("m")),this.buttonElement.appendChild(gt);const Mt=O.containerElement;Mt.classList.add(this.className_("c")),this.element.appendChild(Mt),this.containerElement=Mt}}class ms extends ps{constructor(P,O){var U;const q=ht.create((U=O.expanded)!==null&&U!==void 0?U:!0),it=new Di(P,{blade:O.blade,root:O.root,viewProps:O.viewProps});super(Object.assign(Object.assign({},O),{rackController:it,view:new ql(P,{containerElement:it.view.element,foldable:q,props:O.props,viewName:O.root?"rot":void 0,viewProps:O.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=O.props,this.foldable=q,_t(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const _l={id:"folder",type:"blade",accept(F){const P=W,O=L(F,{title:P.required.string,view:P.required.constant("folder"),expanded:P.optional.boolean});return O?{params:O}:null},controller(F){return new ms(F.document,{blade:F.blade,expanded:F.params.expanded,props:N.fromObject({title:F.params.title}),viewProps:F.viewProps})},api(F){return F.controller instanceof ms?new vs(F.controller,F.pool):null}};class ui extends It{constructor(P,O){const U=O.valueController.viewProps;super(Object.assign(Object.assign({},O),{value:O.valueController.value,view:new yt(P,{props:O.props,viewProps:U}),viewProps:U})),this.props=O.props,this.valueController=O.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Zr extends V{}const Qr=u("spr");class th{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(Qr()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("hr");U.classList.add(Qr("r")),this.element.appendChild(U)}}class Jr extends st{constructor(P,O){super(Object.assign(Object.assign({},O),{view:new th(P,{viewProps:O.viewProps})}))}}const eh={id:"separator",type:"blade",accept(F){const O=L(F,{view:W.required.constant("separator")});return O?{params:O}:null},controller(F){return new Jr(F.document,{blade:F.blade,viewProps:F.viewProps})},api(F){return F.controller instanceof Jr?new Zr(F.controller):null}},Ii=u("tbi");class ih{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(Ii()),O.viewProps.bindClassModifiers(this.element),y(O.props,"selected",it=>{it?this.element.classList.add(Ii(void 0,"sel")):this.element.classList.remove(Ii(void 0,"sel"))});const U=P.createElement("button");U.classList.add(Ii("b")),O.viewProps.bindDisabled(U),this.element.appendChild(U),this.buttonElement=U;const q=P.createElement("div");q.classList.add(Ii("t")),S(O.props.value("title"),q),this.buttonElement.appendChild(q),this.titleElement=q}}class nh{constructor(P,O){this.emitter=new o,this.onClick_=this.onClick_.bind(this),this.props=O.props,this.viewProps=O.viewProps,this.view=new ih(P,{props:O.props,viewProps:O.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class qr{constructor(P,O){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new nh(P,{props:O.itemProps,viewProps:Q.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Di(P,{blade:Ht(),viewProps:Q.create()}),this.props=O.props,y(this.props,"selected",U=>{this.itemController.props.set("selected",U),this.contentController.viewProps.set("hidden",!U)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class _r{constructor(P,O){this.controller_=P,this.rackApi_=O}get title(){var P;return(P=this.controller_.itemController.props.get("title"))!==null&&P!==void 0?P:""}set title(P){this.controller_.itemController.props.set("title",P)}get selected(){return this.controller_.props.get("selected")}set selected(P){this.controller_.props.set("selected",P)}get children(){return this.rackApi_.children}addButton(P){return this.rackApi_.addButton(P)}addFolder(P){return this.rackApi_.addFolder(P)}addSeparator(P){return this.rackApi_.addSeparator(P)}addTab(P){return this.rackApi_.addTab(P)}add(P,O){this.rackApi_.add(P,O)}remove(P){this.rackApi_.remove(P)}addInput(P,O,U){return this.rackApi_.addInput(P,O,U)}addMonitor(P,O,U){return this.rackApi_.addMonitor(P,O,U)}addBlade(P){return this.rackApi_.addBlade(P)}}class ta extends ke{constructor(P,O){super(P,new Mn(P.rackController,O)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new o,this.pageApiMap_=new Map,this.rackApi_.on("change",U=>{this.emitter_.emit("change",{event:U})}),this.rackApi_.on("update",U=>{this.emitter_.emit("update",{event:U})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(U=>{this.setUpPageApi_(U)})}get pages(){return this.controller_.pageSet.items.map(P=>{const O=this.pageApiMap_.get(P);if(!O)throw i.shouldNeverHappen();return O})}addPage(P){const O=this.controller_.view.element.ownerDocument,U=new qr(O,{itemProps:N.fromObject({selected:!1,title:P.title}),props:N.fromObject({selected:!1})});this.controller_.add(U,P.index);const q=this.pageApiMap_.get(U);if(!q)throw i.shouldNeverHappen();return q}removePage(P){this.controller_.remove(P)}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}setUpPageApi_(P){const O=this.rackApi_.apiSet_.find(q=>q.controller_===P.contentController);if(!O)throw i.shouldNeverHappen();const U=new _r(P,O);this.pageApiMap_.set(P,U)}onPageAdd_(P){this.setUpPageApi_(P.item)}onPageRemove_(P){if(!this.pageApiMap_.get(P.item))throw i.shouldNeverHappen();this.pageApiMap_.delete(P.item)}onSelect_(P){this.emitter_.emit("select",{event:new l(this,P.rawValue)})}}const ea=-1;class sh{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=B(!0),this.selectedIndex=B(ea),this.items_=[]}add(P,O){const U=O??this.items_.length;this.items_.splice(U,0,P),P.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(P){const O=this.items_.indexOf(P);O<0||(this.items_.splice(O,1),P.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=ea,this.empty.rawValue=!0;return}const P=this.items_.findIndex(O=>O.rawValue);P<0?(this.items_.forEach((O,U)=>{O.rawValue=U===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((O,U)=>{O.rawValue=U===P}),this.selectedIndex.rawValue=P),this.empty.rawValue=!1}onItemSelectedChange_(P){if(P.rawValue){const O=this.items_.findIndex(U=>U===P.sender);this.items_.forEach((U,q)=>{U.rawValue=q===O}),this.selectedIndex.rawValue=O}else this.keepSelection_()}}const Bi=u("tab");class rh{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(Bi(),$r()),O.viewProps.bindClassModifiers(this.element),m(O.empty,T(this.element,Bi(void 0,"nop")));const U=P.createElement("div");U.classList.add(Bi("t")),this.element.appendChild(U),this.itemsElement=U;const q=P.createElement("div");q.classList.add(Bi("i")),this.element.appendChild(q);const it=O.contentsElement;it.classList.add(Bi("c")),this.element.appendChild(it),this.contentsElement=it}}class ia extends ps{constructor(P,O){const U=new Di(P,{blade:O.blade,viewProps:O.viewProps}),q=new sh;super({blade:O.blade,rackController:U,view:new rh(P,{contentsElement:U.view.element,empty:q.empty,viewProps:O.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new fs(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=q}get pageSet(){return this.pageSet_}add(P,O){this.pageSet_.add(P,O)}remove(P){this.pageSet_.remove(this.pageSet_.items[P])}onPageAdd_(P){const O=P.item;ot(this.view.itemsElement,O.itemController.view.element,P.index),O.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(O.contentController,P.index),this.tab.add(O.props.value("selected"))}onPageRemove_(P){const O=P.item;ut(O.itemController.view.element),O.itemController.viewProps.set("parent",null),this.rackController.rack.remove(O.contentController),this.tab.remove(O.props.value("selected"))}}const na={id:"tab",type:"blade",accept(F){const P=W,O=L(F,{pages:P.required.array(P.required.object({title:P.required.string})),view:P.required.constant("tab")});return!O||O.pages.length===0?null:{params:O}},controller(F){const P=new ia(F.document,{blade:F.blade,viewProps:F.viewProps});return F.params.pages.forEach(O=>{const U=new qr(F.document,{itemProps:N.fromObject({selected:!1,title:O.title}),props:N.fromObject({selected:!1})});P.add(U)}),P},api(F){return F.controller instanceof ia?new ta(F.controller,F.pool):null}};function ah(F,P){const O=F.accept(P.params);if(!O)return null;const U=W.optional.boolean(P.params.disabled).value,q=W.optional.boolean(P.params.hidden).value;return F.controller({blade:Ht(),document:P.document,params:Object.assign(Object.assign({},O.params),{disabled:U,hidden:q}),viewProps:Q.create({disabled:U,hidden:q})})}class oh{constructor(){this.disabled=!1,this.emitter=new o}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class lh{constructor(P,O){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=P,this.emitter=new o,this.interval_=O,this.setTimer_()}get disabled(){return this.disabled_}set disabled(P){this.disabled_=P,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const P=this.doc_.defaultView;P&&P.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const P=this.doc_.defaultView;P&&(this.timerId_=P.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class hh{constructor(P){this.onValueChange_=this.onValueChange_.bind(this),this.reader=P.reader,this.writer=P.writer,this.emitter=new o,this.value=P.value,this.value.emitter.on("change",this.onValueChange_),this.target=P.target,this.read()}read(){const P=this.target.read();P!==void 0&&(this.value.rawValue=this.reader(P))}write_(P){this.writer(this.target,P)}onValueChange_(P){this.write_(P.rawValue),this.emitter.emit("change",{options:P.options,rawValue:P.rawValue,sender:this})}}function sa(F,P){for(;F.length<P;)F.push(void 0)}function uh(F){const P=[];return sa(P,F),B(P)}function fh(F){const P=F.indexOf(void 0);return P<0?F:F.slice(0,P)}function dh(F,P){const O=[...fh(F),P];return O.length>F.length?O.splice(0,O.length-F.length):sa(O,F.length),O}class ch{constructor(P){this.onTick_=this.onTick_.bind(this),this.reader_=P.reader,this.target=P.target,this.emitter=new o,this.value=P.value,this.ticker=P.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const P=this.target.read();if(P===void 0)return;const O=this.value.rawValue,U=this.reader_(P);this.value.rawValue=dh(O,U),this.emitter.emit("update",{rawValue:U,sender:this})}onTick_(P){this.read()}}class Ni{constructor(P){this.constraints=P}constrain(P){return this.constraints.reduce((O,U)=>U.constrain(O),P)}}function Ee(F,P){if(F instanceof P)return F;if(F instanceof Ni){const O=F.constraints.reduce((U,q)=>U||(q instanceof P?q:null),null);if(O)return O}return null}class fi{constructor(P){this.values=N.fromObject({max:P.max,min:P.min})}constrain(P){const O=this.values.get("max"),U=this.values.get("min");return Math.min(Math.max(P,U),O)}}class Gi{constructor(P){this.values=N.fromObject({options:P})}get options(){return this.values.get("options")}constrain(P){const O=this.values.get("options");return O.length===0||O.filter(q=>q.value===P).length>0?P:O[0].value}}class ra{constructor(P){this.values=N.fromObject({max:P.max,min:P.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(P){const O=this.values.get("max"),U=this.values.get("min");let q=P;return a(U)||(q=Math.max(q,U)),a(O)||(q=Math.min(q,O)),q}}class Rn{constructor(P,O=0){this.step=P,this.origin=O}constrain(P){const O=this.origin%this.step,U=Math.round((P-O)/this.step);return O+U*this.step}}const xs=u("lst");class vh{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),this.props_=O.props,this.element=P.createElement("div"),this.element.classList.add(xs()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("select");U.classList.add(xs("s")),y(this.props_,"options",it=>{ct(U),it.forEach((lt,gt)=>{const Mt=P.createElement("option");Mt.dataset.index=String(gt),Mt.textContent=lt.text,Mt.value=String(lt.value),U.appendChild(Mt)})}),O.viewProps.bindDisabled(U),this.element.appendChild(U),this.selectElement=U;const q=P.createElement("div");q.classList.add(xs("m")),q.appendChild(et(P,"dropdown")),this.element.appendChild(q),O.value.emitter.on("change",this.onValueChange_),this.value_=O.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class Ui{constructor(P,O){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=O.props,this.value=O.value,this.viewProps=O.viewProps,this.view=new vh(P,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(P){const U=P.currentTarget.selectedOptions.item(0);if(!U)return;const q=Number(U.dataset.index);this.value.rawValue=this.props.get("options")[q].value}}const aa=u("pop");class ph{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(aa()),O.viewProps.bindClassModifiers(this.element),m(O.shows,T(this.element,aa(void 0,"v")))}}class oa{constructor(P,O){this.shows=B(!1),this.viewProps=O.viewProps,this.view=new ph(P,{shows:this.shows,viewProps:this.viewProps})}}const la=u("txt");class gh{constructor(P,O){this.onChange_=this.onChange_.bind(this),this.element=P.createElement("div"),this.element.classList.add(la()),O.viewProps.bindClassModifiers(this.element),this.props_=O.props,this.props_.emitter.on("change",this.onChange_);const U=P.createElement("input");U.classList.add(la("i")),U.type="text",O.viewProps.bindDisabled(U),this.element.appendChild(U),this.inputElement=U,O.value.emitter.on("change",this.onChange_),this.value_=O.value,this.refresh()}refresh(){const P=this.props_.get("formatter");this.inputElement.value=P(this.value_.rawValue)}onChange_(){this.refresh()}}class bn{constructor(P,O){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=O.parser,this.props=O.props,this.value=O.value,this.viewProps=O.viewProps,this.view=new gh(P,{props:O.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(P){const U=P.currentTarget.value,q=this.parser_(U);a(q)||(this.value.rawValue=q),this.view.refresh()}}function mh(F){return String(F)}function ha(F){return F==="false"?!1:!!F}function ua(F){return mh(F)}class xh{constructor(P){this.text=P}evaluate(){return Number(this.text)}toString(){return this.text}}const yh={"**":(F,P)=>Math.pow(F,P),"*":(F,P)=>F*P,"/":(F,P)=>F/P,"%":(F,P)=>F%P,"+":(F,P)=>F+P,"-":(F,P)=>F-P,"<<":(F,P)=>F<<P,">>":(F,P)=>F>>P,">>>":(F,P)=>F>>>P,"&":(F,P)=>F&P,"^":(F,P)=>F^P,"|":(F,P)=>F|P};class Th{constructor(P,O,U){this.left=O,this.operator=P,this.right=U}evaluate(){const P=yh[this.operator];if(!P)throw new Error(`unexpected binary operator: '${this.operator}`);return P(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Sh={"+":F=>F,"-":F=>-F,"~":F=>~F};class Eh{constructor(P,O){this.operator=P,this.expression=O}evaluate(){const P=Sh[this.operator];if(!P)throw new Error(`unexpected unary operator: '${this.operator}`);return P(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function ys(F){return(P,O)=>{for(let U=0;U<F.length;U++){const q=F[U](P,O);if(q!=="")return q}return""}}function Vi(F,P){var O;const U=F.substr(P).match(/^\s+/);return(O=U&&U[0])!==null&&O!==void 0?O:""}function Ch(F,P){const O=F.substr(P,1);return O.match(/^[1-9]$/)?O:""}function Xi(F,P){var O;const U=F.substr(P).match(/^[0-9]+/);return(O=U&&U[0])!==null&&O!==void 0?O:""}function Ph(F,P){const O=Xi(F,P);if(O!=="")return O;const U=F.substr(P,1);if(P+=1,U!=="-"&&U!=="+")return"";const q=Xi(F,P);return q===""?"":U+q}function Ts(F,P){const O=F.substr(P,1);if(P+=1,O.toLowerCase()!=="e")return"";const U=Ph(F,P);return U===""?"":O+U}function fa(F,P){const O=F.substr(P,1);if(O==="0")return O;const U=Ch(F,P);return P+=U.length,U===""?"":U+Xi(F,P)}function wh(F,P){const O=fa(F,P);if(P+=O.length,O==="")return"";const U=F.substr(P,1);if(P+=U.length,U!==".")return"";const q=Xi(F,P);return P+=q.length,O+U+q+Ts(F,P)}function Ah(F,P){const O=F.substr(P,1);if(P+=O.length,O!==".")return"";const U=Xi(F,P);return P+=U.length,U===""?"":O+U+Ts(F,P)}function Mh(F,P){const O=fa(F,P);return P+=O.length,O===""?"":O+Ts(F,P)}const Rh=ys([wh,Ah,Mh]);function bh(F,P){var O;const U=F.substr(P).match(/^[01]+/);return(O=U&&U[0])!==null&&O!==void 0?O:""}function Oh(F,P){const O=F.substr(P,2);if(P+=O.length,O.toLowerCase()!=="0b")return"";const U=bh(F,P);return U===""?"":O+U}function Lh(F,P){var O;const U=F.substr(P).match(/^[0-7]+/);return(O=U&&U[0])!==null&&O!==void 0?O:""}function Fh(F,P){const O=F.substr(P,2);if(P+=O.length,O.toLowerCase()!=="0o")return"";const U=Lh(F,P);return U===""?"":O+U}function Dh(F,P){var O;const U=F.substr(P).match(/^[0-9a-f]+/i);return(O=U&&U[0])!==null&&O!==void 0?O:""}function Ih(F,P){const O=F.substr(P,2);if(P+=O.length,O.toLowerCase()!=="0x")return"";const U=Dh(F,P);return U===""?"":O+U}const Bh=ys([Oh,Fh,Ih]),Nh=ys([Bh,Rh]);function Gh(F,P){const O=Nh(F,P);return P+=O.length,O===""?null:{evaluable:new xh(O),cursor:P}}function Uh(F,P){const O=F.substr(P,1);if(P+=O.length,O!=="(")return null;const U=ca(F,P);if(!U)return null;P=U.cursor,P+=Vi(F,P).length;const q=F.substr(P,1);return P+=q.length,q!==")"?null:{evaluable:U.evaluable,cursor:P}}function Vh(F,P){var O;return(O=Gh(F,P))!==null&&O!==void 0?O:Uh(F,P)}function da(F,P){const O=Vh(F,P);if(O)return O;const U=F.substr(P,1);if(P+=U.length,U!=="+"&&U!=="-"&&U!=="~")return null;const q=da(F,P);return q?(P=q.cursor,{cursor:P,evaluable:new Eh(U,q.evaluable)}):null}function Xh(F,P,O){O+=Vi(P,O).length;const U=F.filter(q=>P.startsWith(q,O))[0];return U?(O+=U.length,O+=Vi(P,O).length,{cursor:O,operator:U}):null}function zh(F,P){return(O,U)=>{const q=F(O,U);if(!q)return null;U=q.cursor;let it=q.evaluable;for(;;){const lt=Xh(P,O,U);if(!lt)break;U=lt.cursor;const gt=F(O,U);if(!gt)return null;U=gt.cursor,it=new Th(lt.operator,it,gt.evaluable)}return it?{cursor:U,evaluable:it}:null}}const Yh=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((F,P)=>zh(F,P),da);function ca(F,P){return P+=Vi(F,P).length,Yh(F,P)}function Wh(F){const P=ca(F,0);return!P||P.cursor+Vi(F,P.cursor).length!==F.length?null:P.evaluable}function Ce(F){var P;const O=Wh(F);return(P=O==null?void 0:O.evaluate())!==null&&P!==void 0?P:null}function va(F){if(typeof F=="number")return F;if(typeof F=="string"){const P=Ce(F);if(!a(P))return P}return 0}function Hh(F){return String(F)}function ie(F){return P=>P.toFixed(Math.max(Math.min(F,20),0))}const jh=ie(0);function On(F){return jh(F)+"%"}function pa(F){return String(F)}function Ss(F){return F}function zi({primary:F,secondary:P,forward:O,backward:U}){let q=!1;function it(lt){q||(q=!0,lt(),q=!1)}F.emitter.on("change",lt=>{it(()=>{P.setRawValue(O(F,P),lt.options)})}),P.emitter.on("change",lt=>{it(()=>{F.setRawValue(U(F,P),lt.options)}),it(()=>{P.setRawValue(O(F,P),lt.options)})}),it(()=>{P.setRawValue(O(F,P),{forceEmit:!1,last:!0})})}function ae(F,P){const O=F*(P.altKey?.1:1)*(P.shiftKey?10:1);return P.upKey?+O:P.downKey?-O:0}function Yi(F){return{altKey:F.altKey,downKey:F.key==="ArrowDown",shiftKey:F.shiftKey,upKey:F.key==="ArrowUp"}}function Pe(F){return{altKey:F.altKey,downKey:F.key==="ArrowLeft",shiftKey:F.shiftKey,upKey:F.key==="ArrowRight"}}function kh(F){return F==="ArrowUp"||F==="ArrowDown"}function ga(F){return kh(F)||F==="ArrowLeft"||F==="ArrowRight"}function Es(F,P){var O,U;const q=P.ownerDocument.defaultView,it=P.getBoundingClientRect();return{x:F.pageX-(((O=q&&q.scrollX)!==null&&O!==void 0?O:0)+it.left),y:F.pageY-(((U=q&&q.scrollY)!==null&&U!==void 0?U:0)+it.top)}}class Ke{constructor(P){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=P,this.emitter=new o,P.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),P.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),P.addEventListener("touchend",this.onTouchEnd_),P.addEventListener("mousedown",this.onMouseDown_)}computePosition_(P){const O=this.elem_.getBoundingClientRect();return{bounds:{width:O.width,height:O.height},point:P?{x:P.x,y:P.y}:null}}onMouseDown_(P){var O;P.preventDefault(),(O=P.currentTarget)===null||O===void 0||O.focus();const U=this.elem_.ownerDocument;U.addEventListener("mousemove",this.onDocumentMouseMove_),U.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:P.altKey,data:this.computePosition_(Es(P,this.elem_)),sender:this,shiftKey:P.shiftKey})}onDocumentMouseMove_(P){this.emitter.emit("move",{altKey:P.altKey,data:this.computePosition_(Es(P,this.elem_)),sender:this,shiftKey:P.shiftKey})}onDocumentMouseUp_(P){const O=this.elem_.ownerDocument;O.removeEventListener("mousemove",this.onDocumentMouseMove_),O.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:P.altKey,data:this.computePosition_(Es(P,this.elem_)),sender:this,shiftKey:P.shiftKey})}onTouchStart_(P){P.preventDefault();const O=P.targetTouches.item(0),U=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:P.altKey,data:this.computePosition_(O?{x:O.clientX-U.left,y:O.clientY-U.top}:void 0),sender:this,shiftKey:P.shiftKey}),this.lastTouch_=O}onTouchMove_(P){const O=P.targetTouches.item(0),U=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:P.altKey,data:this.computePosition_(O?{x:O.clientX-U.left,y:O.clientY-U.top}:void 0),sender:this,shiftKey:P.shiftKey}),this.lastTouch_=O}onTouchEnd_(P){var O;const U=(O=P.targetTouches.item(0))!==null&&O!==void 0?O:this.lastTouch_,q=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:P.altKey,data:this.computePosition_(U?{x:U.clientX-q.left,y:U.clientY-q.top}:void 0),sender:this,shiftKey:P.shiftKey})}}function Kt(F,P,O,U,q){const it=(F-P)/(O-P);return U+it*(q-U)}function ma(F){return String(F.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Jt(F,P,O){return Math.min(Math.max(F,P),O)}function xa(F,P){return(F%P+P)%P}const fe=u("txt");class Kh{constructor(P,O){this.onChange_=this.onChange_.bind(this),this.props_=O.props,this.props_.emitter.on("change",this.onChange_),this.element=P.createElement("div"),this.element.classList.add(fe(),fe(void 0,"num")),O.arrayPosition&&this.element.classList.add(fe(void 0,O.arrayPosition)),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("input");U.classList.add(fe("i")),U.type="text",O.viewProps.bindDisabled(U),this.element.appendChild(U),this.inputElement=U,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=O.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(fe()),this.inputElement.classList.add(fe("i"));const q=P.createElement("div");q.classList.add(fe("k")),this.element.appendChild(q),this.knobElement=q;const it=P.createElementNS(at,"svg");it.classList.add(fe("g")),this.knobElement.appendChild(it);const lt=P.createElementNS(at,"path");lt.classList.add(fe("gb")),it.appendChild(lt),this.guideBodyElem_=lt;const gt=P.createElementNS(at,"path");gt.classList.add(fe("gh")),it.appendChild(gt),this.guideHeadElem_=gt;const Mt=P.createElement("div");Mt.classList.add(u("tt")()),this.knobElement.appendChild(Mt),this.tooltipElem_=Mt,O.value.emitter.on("change",this.onChange_),this.value=O.value,this.refresh()}onDraggingChange_(P){if(P.rawValue===null){this.element.classList.remove(fe(void 0,"drg"));return}this.element.classList.add(fe(void 0,"drg"));const O=P.rawValue/this.props_.get("draggingScale"),U=O+(O>0?-1:O<0?1:0),q=Jt(-U,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${U+q},0 L${U},4 L${U+q},8`,`M ${O},-1 L${O},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${O},4`);const it=this.props_.get("formatter");this.tooltipElem_.textContent=it(this.value.rawValue),this.tooltipElem_.style.left=`${O}px`}refresh(){const P=this.props_.get("formatter");this.inputElement.value=P(this.value.rawValue)}onChange_(){this.refresh()}}class Wi{constructor(P,O){var U;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=O.baseStep,this.parser_=O.parser,this.props=O.props,this.sliderProps_=(U=O.sliderProps)!==null&&U!==void 0?U:null,this.value=O.value,this.viewProps=O.viewProps,this.dragging_=B(null),this.view=new Kh(P,{arrayPosition:O.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const q=new Ke(this.view.knobElement);q.emitter.on("down",this.onPointerDown_),q.emitter.on("move",this.onPointerMove_),q.emitter.on("up",this.onPointerUp_)}constrainValue_(P){var O,U;const q=(O=this.sliderProps_)===null||O===void 0?void 0:O.get("minValue"),it=(U=this.sliderProps_)===null||U===void 0?void 0:U.get("maxValue");let lt=P;return q!==void 0&&(lt=Math.max(lt,q)),it!==void 0&&(lt=Math.min(lt,it)),lt}onInputChange_(P){const U=P.currentTarget.value,q=this.parser_(U);a(q)||(this.value.rawValue=this.constrainValue_(q)),this.view.refresh()}onInputKeyDown_(P){const O=ae(this.baseStep_,Yi(P));O!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+O),{forceEmit:!1,last:!1})}onInputKeyUp_(P){ae(this.baseStep_,Yi(P))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(P){if(!P.point)return null;const O=P.point.x-P.bounds.width/2;return this.constrainValue_(this.originRawValue_+O*this.props.get("draggingScale"))}onPointerMove_(P){const O=this.computeDraggingValue_(P.data);O!==null&&(this.value.setRawValue(O,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(P){const O=this.computeDraggingValue_(P.data);O!==null&&(this.value.setRawValue(O,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Cs=u("sld");class $h{constructor(P,O){this.onChange_=this.onChange_.bind(this),this.props_=O.props,this.props_.emitter.on("change",this.onChange_),this.element=P.createElement("div"),this.element.classList.add(Cs()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(Cs("t")),O.viewProps.bindTabIndex(U),this.element.appendChild(U),this.trackElement=U;const q=P.createElement("div");q.classList.add(Cs("k")),this.trackElement.appendChild(q),this.knobElement=q,O.value.emitter.on("change",this.onChange_),this.value=O.value,this.update_()}update_(){const P=Jt(Kt(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${P}%`}onChange_(){this.update_()}}class Zh{constructor(P,O){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=O.baseStep,this.value=O.value,this.viewProps=O.viewProps,this.props=O.props,this.view=new $h(P,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ke(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(P,O){P.point&&this.value.setRawValue(Kt(Jt(P.point.x,0,P.bounds.width),0,P.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),O)}onPointerDownOrMove_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerUp_(P){this.handlePointerEvent_(P.data,{forceEmit:!0,last:!0})}onKeyDown_(P){const O=ae(this.baseStep_,Pe(P));O!==0&&this.value.setRawValue(this.value.rawValue+O,{forceEmit:!1,last:!1})}onKeyUp_(P){ae(this.baseStep_,Pe(P))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ps=u("sldtxt");class Qh{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(Ps());const U=P.createElement("div");U.classList.add(Ps("s")),this.sliderView_=O.sliderView,U.appendChild(this.sliderView_.element),this.element.appendChild(U);const q=P.createElement("div");q.classList.add(Ps("t")),this.textView_=O.textView,q.appendChild(this.textView_.element),this.element.appendChild(q)}}class ws{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.sliderC_=new Zh(P,{baseStep:O.baseStep,props:O.sliderProps,value:O.value,viewProps:this.viewProps}),this.textC_=new Wi(P,{baseStep:O.baseStep,parser:O.parser,props:O.textProps,sliderProps:O.sliderProps,value:O.value,viewProps:O.viewProps}),this.view=new Qh(P,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Hi(F,P){F.write(P)}function Ln(F){const P=W;if(Array.isArray(F))return P.required.array(P.required.object({text:P.required.string,value:P.required.raw}))(F).value;if(typeof F=="object")return P.required.raw(F).value}function ya(F){if(F==="inline"||F==="popup")return F}function Ne(F){const P=W;return P.required.object({max:P.optional.number,min:P.optional.number,step:P.optional.number})(F).value}function Ta(F){if(Array.isArray(F))return F;const P=[];return Object.keys(F).forEach(O=>{P.push({text:O,value:F[O]})}),P}function As(F){return a(F)?null:new Gi(Ta(F))}function Jh(F){const P=F?Ee(F,Rn):null;return P?P.step:null}function Fn(F,P){const O=F&&Ee(F,Rn);return O?ma(O.step):Math.max(ma(P),2)}function di(F){const P=Jh(F);return P??1}function ci(F,P){var O;const U=F&&Ee(F,Rn),q=Math.abs((O=U==null?void 0:U.step)!==null&&O!==void 0?O:P);return q===0?.1:Math.pow(10,Math.floor(Math.log10(q))-1)}const Dn=u("ckb");class qh{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),this.element=P.createElement("div"),this.element.classList.add(Dn()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("label");U.classList.add(Dn("l")),this.element.appendChild(U);const q=P.createElement("input");q.classList.add(Dn("i")),q.type="checkbox",U.appendChild(q),this.inputElement=q,O.viewProps.bindDisabled(this.inputElement);const it=P.createElement("div");it.classList.add(Dn("w")),U.appendChild(it);const lt=et(P,"check");it.appendChild(lt),O.value.emitter.on("change",this.onValueChange_),this.value=O.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class _h{constructor(P,O){this.onInputChange_=this.onInputChange_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.view=new qh(P,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(P){const O=P.currentTarget;this.value.rawValue=O.checked}}function tu(F){const P=[],O=As(F.options);return O&&P.push(O),new Ni(P)}const eu={id:"input-bool",type:"input",accept:(F,P)=>{if(typeof F!="boolean")return null;const U=L(P,{options:W.optional.custom(Ln)});return U?{initialValue:F,params:U}:null},binding:{reader:F=>ha,constraint:F=>tu(F.params),writer:F=>Hi},controller:F=>{const P=F.document,O=F.value,U=F.constraint,q=U&&Ee(U,Gi);return q?new Ui(P,{props:new N({options:q.values.value("options")}),value:O,viewProps:F.viewProps}):new _h(P,{value:O,viewProps:F.viewProps})}},$e=u("col");class iu{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add($e()),O.foldable.bindExpandedClass(this.element,$e(void 0,"expanded")),y(O.foldable,"completed",T(this.element,$e(void 0,"cpl")));const U=P.createElement("div");U.classList.add($e("h")),this.element.appendChild(U);const q=P.createElement("div");q.classList.add($e("s")),U.appendChild(q),this.swatchElement=q;const it=P.createElement("div");if(it.classList.add($e("t")),U.appendChild(it),this.textElement=it,O.pickerLayout==="inline"){const lt=P.createElement("div");lt.classList.add($e("p")),this.element.appendChild(lt),this.pickerElement=lt}else this.pickerElement=null}}function nu(F,P,O){const U=Jt(F/255,0,1),q=Jt(P/255,0,1),it=Jt(O/255,0,1),lt=Math.max(U,q,it),gt=Math.min(U,q,it),Mt=lt-gt;let bt=0,Nt=0;const Ut=(gt+lt)/2;return Mt!==0&&(Nt=Mt/(1-Math.abs(lt+gt-1)),U===lt?bt=(q-it)/Mt:q===lt?bt=2+(it-U)/Mt:bt=4+(U-q)/Mt,bt=bt/6+(bt<0?1:0)),[bt*360,Nt*100,Ut*100]}function su(F,P,O){const U=(F%360+360)%360,q=Jt(P/100,0,1),it=Jt(O/100,0,1),lt=(1-Math.abs(2*it-1))*q,gt=lt*(1-Math.abs(U/60%2-1)),Mt=it-lt/2;let bt,Nt,Ut;return U>=0&&U<60?[bt,Nt,Ut]=[lt,gt,0]:U>=60&&U<120?[bt,Nt,Ut]=[gt,lt,0]:U>=120&&U<180?[bt,Nt,Ut]=[0,lt,gt]:U>=180&&U<240?[bt,Nt,Ut]=[0,gt,lt]:U>=240&&U<300?[bt,Nt,Ut]=[gt,0,lt]:[bt,Nt,Ut]=[lt,0,gt],[(bt+Mt)*255,(Nt+Mt)*255,(Ut+Mt)*255]}function ru(F,P,O){const U=Jt(F/255,0,1),q=Jt(P/255,0,1),it=Jt(O/255,0,1),lt=Math.max(U,q,it),gt=Math.min(U,q,it),Mt=lt-gt;let bt;Mt===0?bt=0:lt===U?bt=60*(((q-it)/Mt%6+6)%6):lt===q?bt=60*((it-U)/Mt+2):bt=60*((U-q)/Mt+4);const Nt=lt===0?0:Mt/lt,Ut=lt;return[bt,Nt*100,Ut*100]}function Sa(F,P,O){const U=xa(F,360),q=Jt(P/100,0,1),it=Jt(O/100,0,1),lt=it*q,gt=lt*(1-Math.abs(U/60%2-1)),Mt=it-lt;let bt,Nt,Ut;return U>=0&&U<60?[bt,Nt,Ut]=[lt,gt,0]:U>=60&&U<120?[bt,Nt,Ut]=[gt,lt,0]:U>=120&&U<180?[bt,Nt,Ut]=[0,lt,gt]:U>=180&&U<240?[bt,Nt,Ut]=[0,gt,lt]:U>=240&&U<300?[bt,Nt,Ut]=[gt,0,lt]:[bt,Nt,Ut]=[lt,0,gt],[(bt+Mt)*255,(Nt+Mt)*255,(Ut+Mt)*255]}function au(F,P,O){const U=O+P*(100-Math.abs(2*O-100))/200;return[F,U!==0?P*(100-Math.abs(2*O-100))/U:0,O+P*(100-Math.abs(2*O-100))/(2*100)]}function ou(F,P,O){const U=100-Math.abs(O*(200-P)/100-100);return[F,U!==0?P*O/U:0,O*(200-P)/(2*100)]}function Ze(F){return[F[0],F[1],F[2]]}function Ea(F,P){return[F[0],F[1],F[2],P]}const lu={hsl:{hsl:(F,P,O)=>[F,P,O],hsv:au,rgb:su},hsv:{hsl:ou,hsv:(F,P,O)=>[F,P,O],rgb:Sa},rgb:{hsl:nu,hsv:ru,rgb:(F,P,O)=>[F,P,O]}};function In(F,P){return[P==="float"?1:F==="rgb"?255:360,P==="float"?1:F==="rgb"?255:100,P==="float"?1:F==="rgb"?255:100]}function hu(F,P){return F===P?P:xa(F,P)}function uu(F,P,O){var U;const q=In(P,O);return[P==="rgb"?Jt(F[0],0,q[0]):hu(F[0],q[0]),Jt(F[1],0,q[1]),Jt(F[2],0,q[2]),Jt((U=F[3])!==null&&U!==void 0?U:1,0,1)]}function Ca(F,P,O,U){const q=In(P,O),it=In(P,U);return F.map((lt,gt)=>lt/q[gt]*it[gt])}function fu(F,P,O){const U=Ca(F,P.mode,P.type,"int"),q=lu[P.mode][O.mode](...U);return Ca(q,O.mode,"int",O.type)}function Bn(F,P){return typeof F!="object"||a(F)?!1:P in F&&typeof F[P]=="number"}class Ft{static black(P="int"){return new Ft([0,0,0],"rgb",P)}static fromObject(P,O="int"){const U="a"in P?[P.r,P.g,P.b,P.a]:[P.r,P.g,P.b];return new Ft(U,"rgb",O)}static toRgbaObject(P,O="int"){return P.toRgbaObject(O)}static isRgbColorObject(P){return Bn(P,"r")&&Bn(P,"g")&&Bn(P,"b")}static isRgbaColorObject(P){return this.isRgbColorObject(P)&&Bn(P,"a")}static isColorObject(P){return this.isRgbColorObject(P)}static equals(P,O){if(P.mode!==O.mode)return!1;const U=P.comps_,q=O.comps_;for(let it=0;it<U.length;it++)if(U[it]!==q[it])return!1;return!0}constructor(P,O,U="int"){this.mode=O,this.type=U,this.comps_=uu(P,O,U)}getComponents(P,O="int"){return Ea(fu(Ze(this.comps_),{mode:this.mode,type:this.type},{mode:P??this.mode,type:O}),this.comps_[3])}toRgbaObject(P="int"){const O=this.getComponents("rgb",P);return{r:O[0],g:O[1],b:O[2],a:O[3]}}}const Ge=u("colp");class du{constructor(P,O){this.alphaViews_=null,this.element=P.createElement("div"),this.element.classList.add(Ge()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(Ge("hsv"));const q=P.createElement("div");q.classList.add(Ge("sv")),this.svPaletteView_=O.svPaletteView,q.appendChild(this.svPaletteView_.element),U.appendChild(q);const it=P.createElement("div");it.classList.add(Ge("h")),this.hPaletteView_=O.hPaletteView,it.appendChild(this.hPaletteView_.element),U.appendChild(it),this.element.appendChild(U);const lt=P.createElement("div");if(lt.classList.add(Ge("rgb")),this.textView_=O.textView,lt.appendChild(this.textView_.element),this.element.appendChild(lt),O.alphaViews){this.alphaViews_={palette:O.alphaViews.palette,text:O.alphaViews.text};const gt=P.createElement("div");gt.classList.add(Ge("a"));const Mt=P.createElement("div");Mt.classList.add(Ge("ap")),Mt.appendChild(this.alphaViews_.palette.element),gt.appendChild(Mt);const bt=P.createElement("div");bt.classList.add(Ge("at")),bt.appendChild(this.alphaViews_.text.element),gt.appendChild(bt),this.element.appendChild(gt)}}get allFocusableElements(){const P=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(O=>O.inputElement)];return this.alphaViews_&&P.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),P}}function cu(F){return F==="int"?"int":F==="float"?"float":void 0}function Ms(F){const P=W;return L(F,{alpha:P.optional.boolean,color:P.optional.object({alpha:P.optional.boolean,type:P.optional.custom(cu)}),expanded:P.optional.boolean,picker:P.optional.custom(ya)})}function Qe(F){return F?.1:1}function Je(F){var P;return(P=F.color)===null||P===void 0?void 0:P.type}function vu(F,P){return F.alpha===P.alpha&&F.mode===P.mode&&F.notation===P.notation&&F.type===P.type}function de(F,P){const O=F.match(/^(.+)%$/);return Math.min(O?parseFloat(O[1])*.01*P:parseFloat(F),P)}const pu={deg:F=>F,grad:F=>F*360/400,rad:F=>F*360/(2*Math.PI),turn:F=>F*360};function Pa(F){const P=F.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!P)return parseFloat(F);const O=parseFloat(P[1]),U=P[2];return pu[U](O)}function wa(F){const P=F.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!P)return null;const O=[de(P[1],255),de(P[2],255),de(P[3],255)];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])?null:O}function Aa(F){return P=>{const O=wa(P);return O?new Ft(O,"rgb",F):null}}function Ma(F){const P=F.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!P)return null;const O=[de(P[1],255),de(P[2],255),de(P[3],255),de(P[4],1)];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])||isNaN(O[3])?null:O}function Ra(F){return P=>{const O=Ma(P);return O?new Ft(O,"rgb",F):null}}function ba(F){const P=F.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!P)return null;const O=[Pa(P[1]),de(P[2],100),de(P[3],100)];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])?null:O}function Oa(F){return P=>{const O=ba(P);return O?new Ft(O,"hsl",F):null}}function La(F){const P=F.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!P)return null;const O=[Pa(P[1]),de(P[2],100),de(P[3],100),de(P[4],1)];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])||isNaN(O[3])?null:O}function Fa(F){return P=>{const O=La(P);return O?new Ft(O,"hsl",F):null}}function Da(F){const P=F.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(P)return[parseInt(P[1]+P[1],16),parseInt(P[2]+P[2],16),parseInt(P[3]+P[3],16)];const O=F.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return O?[parseInt(O[1],16),parseInt(O[2],16),parseInt(O[3],16)]:null}function gu(F){const P=Da(F);return P?new Ft(P,"rgb","int"):null}function Ia(F){const P=F.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(P)return[parseInt(P[1]+P[1],16),parseInt(P[2]+P[2],16),parseInt(P[3]+P[3],16),Kt(parseInt(P[4]+P[4],16),0,255,0,1)];const O=F.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return O?[parseInt(O[1],16),parseInt(O[2],16),parseInt(O[3],16),Kt(parseInt(O[4],16),0,255,0,1)]:null}function mu(F){const P=Ia(F);return P?new Ft(P,"rgb","int"):null}function Ba(F){const P=F.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!P)return null;const O=[parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3])];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])?null:O}function Na(F){return P=>{const O=Ba(P);return O?new Ft(O,"rgb",F):null}}function Ga(F){const P=F.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!P)return null;const O=[parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3]),parseFloat(P[4])];return isNaN(O[0])||isNaN(O[1])||isNaN(O[2])||isNaN(O[3])?null:O}function Ua(F){return P=>{const O=Ga(P);return O?new Ft(O,"rgb",F):null}}const xu=[{parser:Da,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Ia,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:wa,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Ma,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:ba,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:La,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Ba,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Ga,result:{alpha:!0,mode:"rgb",notation:"object"}}];function yu(F){return xu.reduce((P,{parser:O,result:U})=>P||(O(F)?U:null),null)}function Rs(F,P="int"){const O=yu(F);return O?O.notation==="hex"&&P!=="float"?Object.assign(Object.assign({},O),{type:"int"}):O.notation==="func"?Object.assign(Object.assign({},O),{type:P}):null:null}const Va={int:[gu,mu,Aa("int"),Ra("int"),Oa("int"),Fa("int"),Na("int"),Ua("int")],float:[Aa("float"),Ra("float"),Oa("float"),Fa("float"),Na("float"),Ua("float")]};function Tu(F){const P=Va[F];return O=>{if(typeof O!="string")return Ft.black(F);const U=P.reduce((q,it)=>q||it(O),null);return U??Ft.black(F)}}function bs(F){const P=Va[F];return O=>P.reduce((U,q)=>U||q(O),null)}function Xa(F){const P=Jt(Math.floor(F),0,255).toString(16);return P.length===1?`0${P}`:P}function za(F,P="#"){const O=Ze(F.getComponents("rgb")).map(Xa).join("");return`${P}${O}`}function Os(F,P="#"){const O=F.getComponents("rgb"),U=[O[0],O[1],O[2],O[3]*255].map(Xa).join("");return`${P}${U}`}function Ya(F,P){const O=ie(P==="float"?2:0);return`rgb(${Ze(F.getComponents("rgb",P)).map(q=>O(q)).join(", ")})`}function Su(F){return P=>Ya(P,F)}function Nn(F,P){const O=ie(2),U=ie(P==="float"?2:0);return`rgba(${F.getComponents("rgb",P).map((it,lt)=>(lt===3?O:U)(it)).join(", ")})`}function Eu(F){return P=>Nn(P,F)}function Cu(F){const P=[ie(0),On,On];return`hsl(${Ze(F.getComponents("hsl")).map((U,q)=>P[q](U)).join(", ")})`}function Pu(F){const P=[ie(0),On,On,ie(2)];return`hsla(${F.getComponents("hsl").map((U,q)=>P[q](U)).join(", ")})`}function Wa(F,P){const O=ie(P==="float"?2:0),U=["r","g","b"];return`{${Ze(F.getComponents("rgb",P)).map((it,lt)=>`${U[lt]}: ${O(it)}`).join(", ")}}`}function wu(F){return P=>Wa(P,F)}function Ha(F,P){const O=ie(2),U=ie(P==="float"?2:0),q=["r","g","b","a"];return`{${F.getComponents("rgb",P).map((lt,gt)=>{const Mt=gt===3?O:U;return`${q[gt]}: ${Mt(lt)}`}).join(", ")}}`}function Au(F){return P=>Ha(P,F)}const Mu=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:za},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Os},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Cu},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Pu},...["int","float"].reduce((F,P)=>[...F,{format:{alpha:!1,mode:"rgb",notation:"func",type:P},stringifier:Su(P)},{format:{alpha:!0,mode:"rgb",notation:"func",type:P},stringifier:Eu(P)},{format:{alpha:!1,mode:"rgb",notation:"object",type:P},stringifier:wu(P)},{format:{alpha:!0,mode:"rgb",notation:"object",type:P},stringifier:Au(P)}],[])];function Ls(F){return Mu.reduce((P,O)=>P||(vu(O.format,F)?O.stringifier:null),null)}const ji=u("apl");class Ru{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),this.value=O.value,this.value.emitter.on("change",this.onValueChange_),this.element=P.createElement("div"),this.element.classList.add(ji()),O.viewProps.bindClassModifiers(this.element),O.viewProps.bindTabIndex(this.element);const U=P.createElement("div");U.classList.add(ji("b")),this.element.appendChild(U);const q=P.createElement("div");q.classList.add(ji("c")),U.appendChild(q),this.colorElem_=q;const it=P.createElement("div");it.classList.add(ji("m")),this.element.appendChild(it),this.markerElem_=it;const lt=P.createElement("div");lt.classList.add(ji("p")),this.markerElem_.appendChild(lt),this.previewElem_=lt,this.update_()}update_(){const P=this.value.rawValue,O=P.getComponents("rgb"),U=new Ft([O[0],O[1],O[2],0],"rgb"),q=new Ft([O[0],O[1],O[2],255],"rgb"),it=["to right",Nn(U),Nn(q)];this.colorElem_.style.background=`linear-gradient(${it.join(",")})`,this.previewElem_.style.backgroundColor=Nn(P);const lt=Kt(O[3],0,1,0,100);this.markerElem_.style.left=`${lt}%`}onValueChange_(){this.update_()}}class bu{constructor(P,O){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.view=new Ru(P,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ke(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(P,O){if(!P.point)return;const U=P.point.x/P.bounds.width,q=this.value.rawValue,[it,lt,gt]=q.getComponents("hsv");this.value.setRawValue(new Ft([it,lt,gt,U],"hsv"),O)}onPointerDown_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerMove_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerUp_(P){this.handlePointerEvent_(P.data,{forceEmit:!0,last:!0})}onKeyDown_(P){const O=ae(Qe(!0),Pe(P));if(O===0)return;const U=this.value.rawValue,[q,it,lt,gt]=U.getComponents("hsv");this.value.setRawValue(new Ft([q,it,lt,gt+O],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(P){ae(Qe(!0),Pe(P))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const vi=u("coltxt");function Ou(F){const P=F.createElement("select"),O=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return P.appendChild(O.reduce((U,q)=>{const it=F.createElement("option");return it.textContent=q.text,it.value=q.value,U.appendChild(it),U},F.createDocumentFragment())),P}class Lu{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(vi()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(vi("m")),this.modeElem_=Ou(P),this.modeElem_.classList.add(vi("ms")),U.appendChild(this.modeSelectElement),O.viewProps.bindDisabled(this.modeElem_);const q=P.createElement("div");q.classList.add(vi("mm")),q.appendChild(et(P,"dropdown")),U.appendChild(q),this.element.appendChild(U);const it=P.createElement("div");it.classList.add(vi("w")),this.element.appendChild(it),this.textsElem_=it,this.textViews_=O.textViews,this.applyTextViews_(),m(O.colorMode,lt=>{this.modeElem_.value=lt})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(P){this.textViews_=P,this.applyTextViews_()}applyTextViews_(){ct(this.textsElem_);const P=this.element.ownerDocument;this.textViews_.forEach(O=>{const U=P.createElement("div");U.classList.add(vi("c")),U.appendChild(O.element),this.textsElem_.appendChild(U)})}}function Fu(F){return ie(F==="float"?2:0)}function Du(F,P,O){const U=In(F,P)[O];return new fi({min:0,max:U})}function Fs(F,P,O){return new Wi(F,{arrayPosition:O===0?"fst":O===3-1?"lst":"mid",baseStep:Qe(!1),parser:P.parser,props:N.fromObject({draggingScale:P.colorType==="float"?.01:1,formatter:Fu(P.colorType)}),value:B(0,{constraint:Du(P.colorMode,P.colorType,O)}),viewProps:P.viewProps})}class Iu{constructor(P,O){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=O.colorType,this.parser_=O.parser,this.value=O.value,this.viewProps=O.viewProps,this.colorMode=B(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(P),this.view=new Lu(P,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(P){const O={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},U=[Fs(P,O,0),Fs(P,O,1),Fs(P,O,2)];return U.forEach((q,it)=>{zi({primary:this.value,secondary:q.value,forward:lt=>lt.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[it],backward:(lt,gt)=>{const Mt=this.colorMode.rawValue,bt=lt.rawValue.getComponents(Mt,this.colorType_);return bt[it]=gt.rawValue,new Ft(Ea(Ze(bt),bt[3]),Mt,this.colorType_)}})}),U}onModeSelectChange_(P){const O=P.currentTarget;this.colorMode.rawValue=O.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Ds=u("hpl");class Bu{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),this.value=O.value,this.value.emitter.on("change",this.onValueChange_),this.element=P.createElement("div"),this.element.classList.add(Ds()),O.viewProps.bindClassModifiers(this.element),O.viewProps.bindTabIndex(this.element);const U=P.createElement("div");U.classList.add(Ds("c")),this.element.appendChild(U);const q=P.createElement("div");q.classList.add(Ds("m")),this.element.appendChild(q),this.markerElem_=q,this.update_()}update_(){const P=this.value.rawValue,[O]=P.getComponents("hsv");this.markerElem_.style.backgroundColor=Ya(new Ft([O,100,100],"hsv"));const U=Kt(O,0,360,0,100);this.markerElem_.style.left=`${U}%`}onValueChange_(){this.update_()}}class Nu{constructor(P,O){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.view=new Bu(P,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ke(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(P,O){if(!P.point)return;const U=Kt(Jt(P.point.x,0,P.bounds.width),0,P.bounds.width,0,360),q=this.value.rawValue,[,it,lt,gt]=q.getComponents("hsv");this.value.setRawValue(new Ft([U,it,lt,gt],"hsv"),O)}onPointerDown_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerMove_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerUp_(P){this.handlePointerEvent_(P.data,{forceEmit:!0,last:!0})}onKeyDown_(P){const O=ae(Qe(!1),Pe(P));if(O===0)return;const U=this.value.rawValue,[q,it,lt,gt]=U.getComponents("hsv");this.value.setRawValue(new Ft([q+O,it,lt,gt],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(P){ae(Qe(!1),Pe(P))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Is=u("svp"),ja=64;class Gu{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),this.value=O.value,this.value.emitter.on("change",this.onValueChange_),this.element=P.createElement("div"),this.element.classList.add(Is()),O.viewProps.bindClassModifiers(this.element),O.viewProps.bindTabIndex(this.element);const U=P.createElement("canvas");U.height=ja,U.width=ja,U.classList.add(Is("c")),this.element.appendChild(U),this.canvasElement=U;const q=P.createElement("div");q.classList.add(Is("m")),this.element.appendChild(q),this.markerElem_=q,this.update_()}update_(){const P=ft(this.canvasElement);if(!P)return;const U=this.value.rawValue.getComponents("hsv"),q=this.canvasElement.width,it=this.canvasElement.height,lt=P.getImageData(0,0,q,it),gt=lt.data;for(let Nt=0;Nt<it;Nt++)for(let Ut=0;Ut<q;Ut++){const qe=Kt(Ut,0,q,0,100),Ki=Kt(Nt,0,it,100,0),$i=Sa(U[0],qe,Ki),Gn=(Nt*q+Ut)*4;gt[Gn]=$i[0],gt[Gn+1]=$i[1],gt[Gn+2]=$i[2],gt[Gn+3]=255}P.putImageData(lt,0,0);const Mt=Kt(U[1],0,100,0,100);this.markerElem_.style.left=`${Mt}%`;const bt=Kt(U[2],0,100,100,0);this.markerElem_.style.top=`${bt}%`}onValueChange_(){this.update_()}}class Uu{constructor(P,O){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.view=new Gu(P,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ke(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(P,O){if(!P.point)return;const U=Kt(P.point.x,0,P.bounds.width,0,100),q=Kt(P.point.y,0,P.bounds.height,100,0),[it,,,lt]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Ft([it,U,q,lt],"hsv"),O)}onPointerDown_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerMove_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerUp_(P){this.handlePointerEvent_(P.data,{forceEmit:!0,last:!0})}onKeyDown_(P){ga(P.key)&&P.preventDefault();const[O,U,q,it]=this.value.rawValue.getComponents("hsv"),lt=Qe(!1),gt=ae(lt,Pe(P)),Mt=ae(lt,Yi(P));gt===0&&Mt===0||this.value.setRawValue(new Ft([O,U+gt,q+Mt,it],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(P){const O=Qe(!1),U=ae(O,Pe(P)),q=ae(O,Yi(P));U===0&&q===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Vu{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.hPaletteC_=new Nu(P,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Uu(P,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=O.supportsAlpha?{palette:new bu(P,{value:this.value,viewProps:this.viewProps}),text:new Wi(P,{parser:Ce,baseStep:.1,props:N.fromObject({draggingScale:.01,formatter:ie(2)}),value:B(0,{constraint:new fi({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&zi({primary:this.value,secondary:this.alphaIcs_.text.value,forward:U=>U.rawValue.getComponents()[3],backward:(U,q)=>{const it=U.rawValue.getComponents();return it[3]=q.rawValue,new Ft(it,U.rawValue.mode)}}),this.textC_=new Iu(P,{colorType:O.colorType,parser:Ce,value:this.value,viewProps:this.viewProps}),this.view=new du(P,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:O.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const Bs=u("colsw");class Xu{constructor(P,O){this.onValueChange_=this.onValueChange_.bind(this),O.value.emitter.on("change",this.onValueChange_),this.value=O.value,this.element=P.createElement("div"),this.element.classList.add(Bs()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(Bs("sw")),this.element.appendChild(U),this.swatchElem_=U;const q=P.createElement("button");q.classList.add(Bs("b")),O.viewProps.bindDisabled(q),this.element.appendChild(q),this.buttonElement=q,this.update_()}update_(){const P=this.value.rawValue;this.swatchElem_.style.backgroundColor=Os(P)}onValueChange_(){this.update_()}}class zu{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.view=new Xu(P,{value:this.value,viewProps:this.viewProps})}}class Ns{constructor(P,O){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.foldable_=ht.create(O.expanded),this.swatchC_=new zu(P,{value:this.value,viewProps:this.viewProps});const U=this.swatchC_.view.buttonElement;U.addEventListener("blur",this.onButtonBlur_),U.addEventListener("click",this.onButtonClick_),this.textC_=new bn(P,{parser:O.parser,props:N.fromObject({formatter:O.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new iu(P,{foldable:this.foldable_,pickerLayout:O.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=O.pickerLayout==="popup"?new oa(P,{viewProps:this.viewProps}):null;const q=new Vu(P,{colorType:O.colorType,supportsAlpha:O.supportsAlpha,value:this.value,viewProps:this.viewProps});q.view.allFocusableElements.forEach(it=>{it.addEventListener("blur",this.onPopupChildBlur_),it.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=q,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(q.view.element),zi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:it=>it.rawValue,backward:(it,lt)=>lt.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),_t(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(P){if(!this.popC_)return;const O=this.view.element,U=P.relatedTarget;(!U||!O.contains(U))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(P){if(!this.popC_)return;const O=this.popC_.view.element,U=wt(P);U&&O.contains(U)||U&&U===this.swatchC_.view.buttonElement&&!mt(O.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(P){this.popC_?P.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&P.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Yu(F,P){return Ft.isColorObject(F)?Ft.fromObject(F,P):Ft.black(P)}function Wu(F){return Ze(F.getComponents("rgb")).reduce((P,O)=>P<<8|Math.floor(O)&255,0)}function Hu(F){return F.getComponents("rgb").reduce((P,O,U)=>{const q=Math.floor(U===3?O*255:O)&255;return P<<8|q},0)>>>0}function ju(F){return new Ft([F>>16&255,F>>8&255,F&255],"rgb")}function ku(F){return new Ft([F>>24&255,F>>16&255,F>>8&255,Kt(F&255,0,255,0,1)],"rgb")}function Ku(F){return typeof F!="number"?Ft.black():ju(F)}function $u(F){return typeof F!="number"?Ft.black():ku(F)}function Zu(F){const P=Ls(F);return P?(O,U)=>{Hi(O,P(U))}:null}function Qu(F){const P=F?Hu:Wu;return(O,U)=>{Hi(O,P(U))}}function Ju(F,P,O){const U=P.toRgbaObject(O);F.writeProperty("r",U.r),F.writeProperty("g",U.g),F.writeProperty("b",U.b),F.writeProperty("a",U.a)}function qu(F,P,O){const U=P.toRgbaObject(O);F.writeProperty("r",U.r),F.writeProperty("g",U.g),F.writeProperty("b",U.b)}function _u(F,P){return(O,U)=>{F?Ju(O,U,P):qu(O,U,P)}}function Gs(F){var P;return!!(F!=null&&F.alpha||!((P=F==null?void 0:F.color)===null||P===void 0)&&P.alpha)}function tf(F){return F?P=>Os(P,"0x"):P=>za(P,"0x")}function ef(F){return"color"in F||"view"in F&&F.view==="color"}const nf={id:"input-color-number",type:"input",accept:(F,P)=>{if(typeof F!="number"||!ef(P))return null;const O=Ms(P);return O?{initialValue:F,params:O}:null},binding:{reader:F=>Gs(F.params)?$u:Ku,equals:Ft.equals,writer:F=>Qu(Gs(F.params))},controller:F=>{const P=Gs(F.params),O="expanded"in F.params?F.params.expanded:void 0,U="picker"in F.params?F.params.picker:void 0;return new Ns(F.document,{colorType:"int",expanded:O??!1,formatter:tf(P),parser:bs("int"),pickerLayout:U??"popup",supportsAlpha:P,value:F.value,viewProps:F.viewProps})}};function sf(F){return Ft.isRgbaColorObject(F)}function rf(F){return P=>Yu(P,F)}function af(F,P){return O=>F?Ha(O,P):Wa(O,P)}const of={id:"input-color-object",type:"input",accept:(F,P)=>{if(!Ft.isColorObject(F))return null;const O=Ms(P);return O?{initialValue:F,params:O}:null},binding:{reader:F=>rf(Je(F.params)),equals:Ft.equals,writer:F=>_u(sf(F.initialValue),Je(F.params))},controller:F=>{var P;const O=Ft.isRgbaColorObject(F.initialValue),U="expanded"in F.params?F.params.expanded:void 0,q="picker"in F.params?F.params.picker:void 0,it=(P=Je(F.params))!==null&&P!==void 0?P:"int";return new Ns(F.document,{colorType:it,expanded:U??!1,formatter:af(O,it),parser:bs(it),pickerLayout:q??"popup",supportsAlpha:O,value:F.value,viewProps:F.viewProps})}},lf={id:"input-color-string",type:"input",accept:(F,P)=>{if(typeof F!="string"||"view"in P&&P.view==="text")return null;const O=Rs(F,Je(P));if(!O||!Ls(O))return null;const q=Ms(P);return q?{initialValue:F,params:q}:null},binding:{reader:F=>{var P;return Tu((P=Je(F.params))!==null&&P!==void 0?P:"int")},equals:Ft.equals,writer:F=>{const P=Rs(F.initialValue,Je(F.params));if(!P)throw i.shouldNeverHappen();const O=Zu(P);if(!O)throw i.notBindable();return O}},controller:F=>{const P=Rs(F.initialValue,Je(F.params));if(!P)throw i.shouldNeverHappen();const O=Ls(P);if(!O)throw i.shouldNeverHappen();const U="expanded"in F.params?F.params.expanded:void 0,q="picker"in F.params?F.params.picker:void 0;return new Ns(F.document,{colorType:P.type,expanded:U??!1,formatter:O,parser:bs(P.type),pickerLayout:q??"popup",supportsAlpha:P.alpha,value:F.value,viewProps:F.viewProps})}};class Ue{constructor(P){this.components=P.components,this.asm_=P.assembly}constrain(P){const O=this.asm_.toComponents(P).map((U,q)=>{var it,lt;return(lt=(it=this.components[q])===null||it===void 0?void 0:it.constrain(U))!==null&&lt!==void 0?lt:U});return this.asm_.fromComponents(O)}}const ka=u("pndtxt");class hf{constructor(P,O){this.textViews=O.textViews,this.element=P.createElement("div"),this.element.classList.add(ka()),this.textViews.forEach(U=>{const q=P.createElement("div");q.classList.add(ka("a")),q.appendChild(U.element),this.element.appendChild(q)})}}function uf(F,P,O){return new Wi(F,{arrayPosition:O===0?"fst":O===P.axes.length-1?"lst":"mid",baseStep:P.axes[O].baseStep,parser:P.parser,props:P.axes[O].textProps,value:B(0,{constraint:P.axes[O].constraint}),viewProps:P.viewProps})}class Us{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.acs_=O.axes.map((U,q)=>uf(P,O,q)),this.acs_.forEach((U,q)=>{zi({primary:this.value,secondary:U.value,forward:it=>O.assembly.toComponents(it.rawValue)[q],backward:(it,lt)=>{const gt=O.assembly.toComponents(it.rawValue);return gt[q]=lt.rawValue,O.assembly.fromComponents(gt)}})}),this.view=new hf(P,{textViews:this.acs_.map(U=>U.view)})}}function Ka(F,P){return"step"in F&&!a(F.step)?new Rn(F.step,P):null}function $a(F){return!a(F.max)&&!a(F.min)?new fi({max:F.max,min:F.min}):!a(F.max)||!a(F.min)?new ra({max:F.max,min:F.min}):null}function ff(F){const P=Ee(F,fi);if(P)return[P.values.get("min"),P.values.get("max")];const O=Ee(F,ra);return O?[O.minValue,O.maxValue]:[void 0,void 0]}function df(F,P){const O=[],U=Ka(F,P);U&&O.push(U);const q=$a(F);q&&O.push(q);const it=As(F.options);return it&&O.push(it),new Ni(O)}const cf={id:"input-number",type:"input",accept:(F,P)=>{if(typeof F!="number")return null;const O=W,U=L(P,{format:O.optional.function,max:O.optional.number,min:O.optional.number,options:O.optional.custom(Ln),step:O.optional.number});return U?{initialValue:F,params:U}:null},binding:{reader:F=>va,constraint:F=>df(F.params,F.initialValue),writer:F=>Hi},controller:F=>{var P;const O=F.value,U=F.constraint,q=U&&Ee(U,Gi);if(q)return new Ui(F.document,{props:new N({options:q.values.value("options")}),value:O,viewProps:F.viewProps});const it=(P="format"in F.params?F.params.format:void 0)!==null&&P!==void 0?P:ie(Fn(U,O.rawValue)),lt=U&&Ee(U,fi);return lt?new ws(F.document,{baseStep:di(U),parser:Ce,sliderProps:new N({maxValue:lt.values.value("max"),minValue:lt.values.value("min")}),textProps:N.fromObject({draggingScale:ci(U,O.rawValue),formatter:it}),value:O,viewProps:F.viewProps}):new Wi(F.document,{baseStep:di(U),parser:Ce,props:N.fromObject({draggingScale:ci(U,O.rawValue),formatter:it}),value:O,viewProps:F.viewProps})}};class Ve{constructor(P=0,O=0){this.x=P,this.y=O}getComponents(){return[this.x,this.y]}static isObject(P){if(a(P))return!1;const O=P.x,U=P.y;return!(typeof O!="number"||typeof U!="number")}static equals(P,O){return P.x===O.x&&P.y===O.y}toObject(){return{x:this.x,y:this.y}}}const Za={toComponents:F=>F.getComponents(),fromComponents:F=>new Ve(...F)},pi=u("p2d");class vf{constructor(P,O){this.element=P.createElement("div"),this.element.classList.add(pi()),O.viewProps.bindClassModifiers(this.element),m(O.expanded,T(this.element,pi(void 0,"expanded")));const U=P.createElement("div");U.classList.add(pi("h")),this.element.appendChild(U);const q=P.createElement("button");q.classList.add(pi("b")),q.appendChild(et(P,"p2dpad")),O.viewProps.bindDisabled(q),U.appendChild(q),this.buttonElement=q;const it=P.createElement("div");if(it.classList.add(pi("t")),U.appendChild(it),this.textElement=it,O.pickerLayout==="inline"){const lt=P.createElement("div");lt.classList.add(pi("p")),this.element.appendChild(lt),this.pickerElement=lt}else this.pickerElement=null}}const Xe=u("p2dp");class pf{constructor(P,O){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=O.invertsY,this.maxValue_=O.maxValue,this.element=P.createElement("div"),this.element.classList.add(Xe()),O.layout==="popup"&&this.element.classList.add(Xe(void 0,"p")),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("div");U.classList.add(Xe("p")),O.viewProps.bindTabIndex(U),this.element.appendChild(U),this.padElement=U;const q=P.createElementNS(at,"svg");q.classList.add(Xe("g")),this.padElement.appendChild(q),this.svgElem_=q;const it=P.createElementNS(at,"line");it.classList.add(Xe("ax")),it.setAttributeNS(null,"x1","0"),it.setAttributeNS(null,"y1","50%"),it.setAttributeNS(null,"x2","100%"),it.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(it);const lt=P.createElementNS(at,"line");lt.classList.add(Xe("ax")),lt.setAttributeNS(null,"x1","50%"),lt.setAttributeNS(null,"y1","0"),lt.setAttributeNS(null,"x2","50%"),lt.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(lt);const gt=P.createElementNS(at,"line");gt.classList.add(Xe("l")),gt.setAttributeNS(null,"x1","50%"),gt.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(gt),this.lineElem_=gt;const Mt=P.createElement("div");Mt.classList.add(Xe("m")),this.padElement.appendChild(Mt),this.markerElem_=Mt,O.value.emitter.on("change",this.onValueChange_),this.value=O.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[P,O]=this.value.rawValue.getComponents(),U=this.maxValue_,q=Kt(P,-U,+U,0,100),it=Kt(O,-U,+U,0,100),lt=this.invertsY_?100-it:it;this.lineElem_.setAttributeNS(null,"x2",`${q}%`),this.lineElem_.setAttributeNS(null,"y2",`${lt}%`),this.markerElem_.style.left=`${q}%`,this.markerElem_.style.top=`${lt}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Qa(F,P,O){return[ae(P[0],Pe(F)),ae(P[1],Yi(F))*(O?1:-1)]}class gf{constructor(P,O){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.baseSteps_=O.baseSteps,this.maxValue_=O.maxValue,this.invertsY_=O.invertsY,this.view=new pf(P,{invertsY:this.invertsY_,layout:O.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ke(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(P,O){if(!P.point)return;const U=this.maxValue_,q=Kt(P.point.x,0,P.bounds.width,-U,+U),it=Kt(this.invertsY_?P.bounds.height-P.point.y:P.point.y,0,P.bounds.height,-U,+U);this.value.setRawValue(new Ve(q,it),O)}onPointerDown_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerMove_(P){this.handlePointerEvent_(P.data,{forceEmit:!1,last:!1})}onPointerUp_(P){this.handlePointerEvent_(P.data,{forceEmit:!0,last:!0})}onPadKeyDown_(P){ga(P.key)&&P.preventDefault();const[O,U]=Qa(P,this.baseSteps_,this.invertsY_);O===0&&U===0||this.value.setRawValue(new Ve(this.value.rawValue.x+O,this.value.rawValue.y+U),{forceEmit:!1,last:!1})}onPadKeyUp_(P){const[O,U]=Qa(P,this.baseSteps_,this.invertsY_);O===0&&U===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class mf{constructor(P,O){var U,q;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=O.value,this.viewProps=O.viewProps,this.foldable_=ht.create(O.expanded),this.popC_=O.pickerLayout==="popup"?new oa(P,{viewProps:this.viewProps}):null;const it=new gf(P,{baseSteps:[O.axes[0].baseStep,O.axes[1].baseStep],invertsY:O.invertsY,layout:O.pickerLayout,maxValue:O.maxValue,value:this.value,viewProps:this.viewProps});it.view.allFocusableElements.forEach(lt=>{lt.addEventListener("blur",this.onPopupChildBlur_),lt.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=it,this.textC_=new Us(P,{assembly:Za,axes:O.axes,parser:O.parser,value:this.value,viewProps:this.viewProps}),this.view=new vf(P,{expanded:this.foldable_.value("expanded"),pickerLayout:O.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(U=this.view.buttonElement)===null||U===void 0||U.addEventListener("blur",this.onPadButtonBlur_),(q=this.view.buttonElement)===null||q===void 0||q.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),zi({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:lt=>lt.rawValue,backward:(lt,gt)=>gt.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),_t(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(P){if(!this.popC_)return;const O=this.view.element,U=P.relatedTarget;(!U||!O.contains(U))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(P){if(!this.popC_)return;const O=this.popC_.view.element,U=wt(P);U&&O.contains(U)||U&&U===this.view.buttonElement&&!mt(O.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(P){this.popC_?P.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&P.key==="Escape"&&this.view.buttonElement.focus()}}class gi{constructor(P=0,O=0,U=0){this.x=P,this.y=O,this.z=U}getComponents(){return[this.x,this.y,this.z]}static isObject(P){if(a(P))return!1;const O=P.x,U=P.y,q=P.z;return!(typeof O!="number"||typeof U!="number"||typeof q!="number")}static equals(P,O){return P.x===O.x&&P.y===O.y&&P.z===O.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ja={toComponents:F=>F.getComponents(),fromComponents:F=>new gi(...F)};function xf(F){return gi.isObject(F)?new gi(F.x,F.y,F.z):new gi}function yf(F,P){F.writeProperty("x",P.x),F.writeProperty("y",P.y),F.writeProperty("z",P.z)}function Tf(F,P){return new Ue({assembly:Ja,components:[we("x"in F?F.x:void 0,P.x),we("y"in F?F.y:void 0,P.y),we("z"in F?F.z:void 0,P.z)]})}function Vs(F,P){return{baseStep:di(P),constraint:P,textProps:N.fromObject({draggingScale:ci(P,F),formatter:ie(Fn(P,F))})}}const Sf={id:"input-point3d",type:"input",accept:(F,P)=>{if(!gi.isObject(F))return null;const O=W,U=L(P,{x:O.optional.custom(Ne),y:O.optional.custom(Ne),z:O.optional.custom(Ne)});return U?{initialValue:F,params:U}:null},binding:{reader:F=>xf,constraint:F=>Tf(F.params,F.initialValue),equals:gi.equals,writer:F=>yf},controller:F=>{const P=F.value,O=F.constraint;if(!(O instanceof Ue))throw i.shouldNeverHappen();return new Us(F.document,{assembly:Ja,axes:[Vs(P.rawValue.x,O.components[0]),Vs(P.rawValue.y,O.components[1]),Vs(P.rawValue.z,O.components[2])],parser:Ce,value:P,viewProps:F.viewProps})}};class mi{constructor(P=0,O=0,U=0,q=0){this.x=P,this.y=O,this.z=U,this.w=q}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(P){if(a(P))return!1;const O=P.x,U=P.y,q=P.z,it=P.w;return!(typeof O!="number"||typeof U!="number"||typeof q!="number"||typeof it!="number")}static equals(P,O){return P.x===O.x&&P.y===O.y&&P.z===O.z&&P.w===O.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const qa={toComponents:F=>F.getComponents(),fromComponents:F=>new mi(...F)};function Ef(F){return mi.isObject(F)?new mi(F.x,F.y,F.z,F.w):new mi}function Cf(F,P){F.writeProperty("x",P.x),F.writeProperty("y",P.y),F.writeProperty("z",P.z),F.writeProperty("w",P.w)}function Pf(F,P){return new Ue({assembly:qa,components:[we("x"in F?F.x:void 0,P.x),we("y"in F?F.y:void 0,P.y),we("z"in F?F.z:void 0,P.z),we("w"in F?F.w:void 0,P.w)]})}function wf(F,P){return{baseStep:di(P),constraint:P,textProps:N.fromObject({draggingScale:ci(P,F),formatter:ie(Fn(P,F))})}}const Af={id:"input-point4d",type:"input",accept:(F,P)=>{if(!mi.isObject(F))return null;const O=W,U=L(P,{x:O.optional.custom(Ne),y:O.optional.custom(Ne),z:O.optional.custom(Ne),w:O.optional.custom(Ne)});return U?{initialValue:F,params:U}:null},binding:{reader:F=>Ef,constraint:F=>Pf(F.params,F.initialValue),equals:mi.equals,writer:F=>Cf},controller:F=>{const P=F.value,O=F.constraint;if(!(O instanceof Ue))throw i.shouldNeverHappen();return new Us(F.document,{assembly:qa,axes:P.rawValue.getComponents().map((U,q)=>wf(U,O.components[q])),parser:Ce,value:P,viewProps:F.viewProps})}};function Mf(F){const P=[],O=As(F.options);return O&&P.push(O),new Ni(P)}const Rf={id:"input-string",type:"input",accept:(F,P)=>{if(typeof F!="string")return null;const U=L(P,{options:W.optional.custom(Ln)});return U?{initialValue:F,params:U}:null},binding:{reader:F=>pa,constraint:F=>Mf(F.params),writer:F=>Hi},controller:F=>{const P=F.document,O=F.value,U=F.constraint,q=U&&Ee(U,Gi);return q?new Ui(P,{props:new N({options:q.values.value("options")}),value:O,viewProps:F.viewProps}):new bn(P,{parser:it=>it,props:N.fromObject({formatter:Ss}),value:O,viewProps:F.viewProps})}},ki={monitor:{defaultInterval:200,defaultLineCount:3}},_a=u("mll");class bf{constructor(P,O){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=O.formatter,this.element=P.createElement("div"),this.element.classList.add(_a()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("textarea");U.classList.add(_a("i")),U.style.height=`calc(var(--bld-us) * ${O.lineCount})`,U.readOnly=!0,O.viewProps.bindDisabled(U),this.element.appendChild(U),this.textareaElem_=U,O.value.emitter.on("change",this.onValueUpdate_),this.value=O.value,this.update_()}update_(){const P=this.textareaElem_,O=P.scrollTop===P.scrollHeight-P.clientHeight,U=[];this.value.rawValue.forEach(q=>{q!==void 0&&U.push(this.formatter_(q))}),P.textContent=U.join(`
`),O&&(P.scrollTop=P.scrollHeight)}onValueUpdate_(){this.update_()}}class Xs{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.view=new bf(P,{formatter:O.formatter,lineCount:O.lineCount,value:this.value,viewProps:this.viewProps})}}const to=u("sgl");class Of{constructor(P,O){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=O.formatter,this.element=P.createElement("div"),this.element.classList.add(to()),O.viewProps.bindClassModifiers(this.element);const U=P.createElement("input");U.classList.add(to("i")),U.readOnly=!0,U.type="text",O.viewProps.bindDisabled(U),this.element.appendChild(U),this.inputElement=U,O.value.emitter.on("change",this.onValueUpdate_),this.value=O.value,this.update_()}update_(){const P=this.value.rawValue,O=P[P.length-1];this.inputElement.value=O!==void 0?this.formatter_(O):""}onValueUpdate_(){this.update_()}}class zs{constructor(P,O){this.value=O.value,this.viewProps=O.viewProps,this.view=new Of(P,{formatter:O.formatter,value:this.value,viewProps:this.viewProps})}}const Lf={id:"monitor-bool",type:"monitor",accept:(F,P)=>{if(typeof F!="boolean")return null;const U=L(P,{lineCount:W.optional.number});return U?{initialValue:F,params:U}:null},binding:{reader:F=>ha},controller:F=>{var P;return F.value.rawValue.length===1?new zs(F.document,{formatter:ua,value:F.value,viewProps:F.viewProps}):new Xs(F.document,{formatter:ua,lineCount:(P=F.params.lineCount)!==null&&P!==void 0?P:ki.monitor.defaultLineCount,value:F.value,viewProps:F.viewProps})}},ze=u("grl");class Ff{constructor(P,O){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=P.createElement("div"),this.element.classList.add(ze()),O.viewProps.bindClassModifiers(this.element),this.formatter_=O.formatter,this.props_=O.props,this.cursor_=O.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const U=P.createElementNS(at,"svg");U.classList.add(ze("g")),U.style.height=`calc(var(--bld-us) * ${O.lineCount})`,this.element.appendChild(U),this.svgElem_=U;const q=P.createElementNS(at,"polyline");this.svgElem_.appendChild(q),this.lineElem_=q;const it=P.createElement("div");it.classList.add(ze("t"),u("tt")()),this.element.appendChild(it),this.tooltipElem_=it,O.value.emitter.on("change",this.onValueUpdate_),this.value=O.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const P=this.svgElem_.getBoundingClientRect(),O=this.value.rawValue.length-1,U=this.props_.get("minValue"),q=this.props_.get("maxValue"),it=[];this.value.rawValue.forEach((Nt,Ut)=>{if(Nt===void 0)return;const qe=Kt(Ut,0,O,0,P.width),Ki=Kt(Nt,U,q,P.height,0);it.push([qe,Ki].join(","))}),this.lineElem_.setAttributeNS(null,"points",it.join(" "));const lt=this.tooltipElem_,gt=this.value.rawValue[this.cursor_.rawValue];if(gt===void 0){lt.classList.remove(ze("t","a"));return}const Mt=Kt(this.cursor_.rawValue,0,O,0,P.width),bt=Kt(gt,U,q,P.height,0);lt.style.left=`${Mt}px`,lt.style.top=`${bt}px`,lt.textContent=`${this.formatter_(gt)}`,lt.classList.contains(ze("t","a"))||(lt.classList.add(ze("t","a"),ze("t","in")),rt(lt),lt.classList.remove(ze("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Df{constructor(P,O){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=O.props,this.value=O.value,this.viewProps=O.viewProps,this.cursor_=B(-1),this.view=new Ff(P,{cursor:this.cursor_,formatter:O.formatter,lineCount:O.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!mt(P))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const U=new Ke(this.view.element);U.emitter.on("down",this.onGraphPointerDown_),U.emitter.on("move",this.onGraphPointerMove_),U.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(P){const O=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Kt(P.offsetX,0,O.width,0,this.value.rawValue.length))}onGraphPointerDown_(P){this.onGraphPointerMove_(P)}onGraphPointerMove_(P){if(!P.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Kt(P.data.point.x,0,P.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Ys(F){return"format"in F&&!a(F.format)?F.format:ie(2)}function If(F){var P;return F.value.rawValue.length===1?new zs(F.document,{formatter:Ys(F.params),value:F.value,viewProps:F.viewProps}):new Xs(F.document,{formatter:Ys(F.params),lineCount:(P=F.params.lineCount)!==null&&P!==void 0?P:ki.monitor.defaultLineCount,value:F.value,viewProps:F.viewProps})}function Bf(F){var P,O,U;return new Df(F.document,{formatter:Ys(F.params),lineCount:(P=F.params.lineCount)!==null&&P!==void 0?P:ki.monitor.defaultLineCount,props:N.fromObject({maxValue:(O="max"in F.params?F.params.max:null)!==null&&O!==void 0?O:100,minValue:(U="min"in F.params?F.params.min:null)!==null&&U!==void 0?U:0}),value:F.value,viewProps:F.viewProps})}function eo(F){return"view"in F&&F.view==="graph"}const Nf={id:"monitor-number",type:"monitor",accept:(F,P)=>{if(typeof F!="number")return null;const O=W,U=L(P,{format:O.optional.function,lineCount:O.optional.number,max:O.optional.number,min:O.optional.number,view:O.optional.string});return U?{initialValue:F,params:U}:null},binding:{defaultBufferSize:F=>eo(F)?64:1,reader:F=>va},controller:F=>eo(F.params)?Bf(F):If(F)},Gf={id:"monitor-string",type:"monitor",accept:(F,P)=>{if(typeof F!="string")return null;const O=W,U=L(P,{lineCount:O.optional.number,multiline:O.optional.boolean});return U?{initialValue:F,params:U}:null},binding:{reader:F=>pa},controller:F=>{var P;const O=F.value;return O.rawValue.length>1||"multiline"in F.params&&F.params.multiline?new Xs(F.document,{formatter:Ss,lineCount:(P=F.params.lineCount)!==null&&P!==void 0?P:ki.monitor.defaultLineCount,value:O,viewProps:F.viewProps}):new zs(F.document,{formatter:Ss,value:O,viewProps:F.viewProps})}};function Uf(F,P){var O;const U=F.accept(P.target.read(),P.params);if(a(U))return null;const q=W,it={target:P.target,initialValue:U.initialValue,params:U.params},lt=F.binding.reader(it),gt=F.binding.constraint?F.binding.constraint(it):void 0,Mt=B(lt(U.initialValue),{constraint:gt,equals:F.binding.equals}),bt=new hh({reader:lt,target:P.target,value:Mt,writer:F.binding.writer(it)}),Nt=q.optional.boolean(P.params.disabled).value,Ut=q.optional.boolean(P.params.hidden).value,qe=F.controller({constraint:gt,document:P.document,initialValue:U.initialValue,params:U.params,value:bt.value,viewProps:Q.create({disabled:Nt,hidden:Ut})});return new ge(P.document,{binding:bt,blade:Ht(),props:N.fromObject({label:"label"in P.params?(O=q.optional.string(P.params.label).value)!==null&&O!==void 0?O:null:P.target.key}),valueController:qe})}function Vf(F,P){return P===0?new oh:new lh(F,P??ki.monitor.defaultInterval)}function Xf(F,P){var O,U,q;const it=W,lt=F.accept(P.target.read(),P.params);if(a(lt))return null;const gt={target:P.target,initialValue:lt.initialValue,params:lt.params},Mt=F.binding.reader(gt),bt=(U=(O=it.optional.number(P.params.bufferSize).value)!==null&&O!==void 0?O:F.binding.defaultBufferSize&&F.binding.defaultBufferSize(lt.params))!==null&&U!==void 0?U:1,Nt=it.optional.number(P.params.interval).value,Ut=new ch({reader:Mt,target:P.target,ticker:Vf(P.document,Nt),value:uh(bt)}),qe=it.optional.boolean(P.params.disabled).value,Ki=it.optional.boolean(P.params.hidden).value,$i=F.controller({document:P.document,params:lt.params,value:Ut.value,viewProps:Q.create({disabled:qe,hidden:Ki})});return new Be(P.document,{binding:Ut,blade:Ht(),props:N.fromObject({label:"label"in P.params?(q=it.optional.string(P.params.label).value)!==null&&q!==void 0?q:null:P.target.key}),valueController:$i})}class zf{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(P){P.type==="blade"?this.pluginsMap_.blades.unshift(P):P.type==="input"?this.pluginsMap_.inputs.unshift(P):P.type==="monitor"&&this.pluginsMap_.monitors.unshift(P)}createInput(P,O,U){const q=O.read();if(a(q))throw new i({context:{key:O.key},type:"nomatchingcontroller"});const it=this.pluginsMap_.inputs.reduce((lt,gt)=>lt??Uf(gt,{document:P,target:O,params:U}),null);if(it)return it;throw new i({context:{key:O.key},type:"nomatchingcontroller"})}createMonitor(P,O,U){const q=this.pluginsMap_.monitors.reduce((it,lt)=>it??Xf(lt,{document:P,params:U,target:O}),null);if(q)return q;throw new i({context:{key:O.key},type:"nomatchingcontroller"})}createBlade(P,O){const U=this.pluginsMap_.blades.reduce((q,it)=>q??ah(it,{document:P,params:O}),null);if(!U)throw new i({type:"nomatchingview",context:{params:O}});return U}createBladeApi(P){if(P instanceof ge)return new ds(P);if(P instanceof Be)return new cs(P);if(P instanceof Di)return new Mn(P,this);const O=this.pluginsMap_.blades.reduce((U,q)=>U??q.api({controller:P,pool:this}),null);if(!O)throw i.shouldNeverHappen();return O}}function Yf(){const F=new zf;return[$f,Sf,Af,Rf,cf,lf,of,nf,eu,Lf,Gf,Nf,At,_l,eh,na].forEach(P=>{F.register(P)}),F}function Wf(F){return Ve.isObject(F)?new Ve(F.x,F.y):new Ve}function Hf(F,P){F.writeProperty("x",P.x),F.writeProperty("y",P.y)}function we(F,P){if(!F)return;const O=[],U=Ka(F,P);U&&O.push(U);const q=$a(F);return q&&O.push(q),new Ni(O)}function jf(F,P){return new Ue({assembly:Za,components:[we("x"in F?F.x:void 0,P.x),we("y"in F?F.y:void 0,P.y)]})}function io(F,P){const[O,U]=F?ff(F):[];if(!a(O)||!a(U))return Math.max(Math.abs(O??0),Math.abs(U??0));const q=di(F);return Math.max(Math.abs(q)*10,Math.abs(P)*10)}function kf(F,P){const O=P instanceof Ue?P.components[0]:void 0,U=P instanceof Ue?P.components[1]:void 0,q=io(O,F.x),it=io(U,F.y);return Math.max(q,it)}function no(F,P){return{baseStep:di(P),constraint:P,textProps:N.fromObject({draggingScale:ci(P,F),formatter:ie(Fn(P,F))})}}function Kf(F){if(!("y"in F))return!1;const P=F.y;return P&&"inverted"in P?!!P.inverted:!1}const $f={id:"input-point2d",type:"input",accept:(F,P)=>{if(!Ve.isObject(F))return null;const O=W,U=L(P,{expanded:O.optional.boolean,picker:O.optional.custom(ya),x:O.optional.custom(Ne),y:O.optional.object({inverted:O.optional.boolean,max:O.optional.number,min:O.optional.number,step:O.optional.number})});return U?{initialValue:F,params:U}:null},binding:{reader:F=>Wf,constraint:F=>jf(F.params,F.initialValue),equals:Ve.equals,writer:F=>Hf},controller:F=>{const P=F.document,O=F.value,U=F.constraint;if(!(U instanceof Ue))throw i.shouldNeverHappen();const q="expanded"in F.params?F.params.expanded:void 0,it="picker"in F.params?F.params.picker:void 0;return new mf(P,{axes:[no(O.rawValue.x,U.components[0]),no(O.rawValue.y,U.components[1])],expanded:q??!1,invertsY:Kf(F.params),maxValue:kf(O.rawValue,U),parser:Ce,pickerLayout:it??"popup",value:O,viewProps:F.viewProps})}};class so extends V{constructor(P){super(P),this.emitter_=new o,this.controller_.valueController.value.emitter.on("change",O=>{this.emitter_.emit("change",{event:new v(this,O.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}get options(){return this.controller_.valueController.props.get("options")}set options(P){this.controller_.valueController.props.set("options",P)}get value(){return this.controller_.valueController.value.rawValue}set value(P){this.controller_.valueController.value.rawValue=P}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}}class ro extends V{constructor(P){super(P),this.emitter_=new o,this.controller_.valueController.value.emitter.on("change",O=>{this.emitter_.emit("change",{event:new v(this,O.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(P){this.controller_.valueController.sliderController.props.set("maxValue",P)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(P){this.controller_.valueController.sliderController.props.set("minValue",P)}get value(){return this.controller_.valueController.value.rawValue}set value(P){this.controller_.valueController.value.rawValue=P}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}}class ao extends V{constructor(P){super(P),this.emitter_=new o,this.controller_.valueController.value.emitter.on("change",O=>{this.emitter_.emit("change",{event:new v(this,O.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(P){this.controller_.props.set("label",P)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(P){this.controller_.valueController.props.set("formatter",P)}get value(){return this.controller_.valueController.value.rawValue}set value(P){this.controller_.valueController.value.rawValue=P}on(P,O){const U=O.bind(this);return this.emitter_.on(P,q=>{U(q.event)}),this}}const Zf=function(){return{id:"list",type:"blade",accept(F){const P=W,O=L(F,{options:P.required.custom(Ln),value:P.required.raw,view:P.required.constant("list"),label:P.optional.string});return O?{params:O}:null},controller(F){const P=new Gi(Ta(F.params.options)),O=B(F.params.value,{constraint:P}),U=new Ui(F.document,{props:new N({options:P.values.value("options")}),value:O,viewProps:F.viewProps});return new ui(F.document,{blade:F.blade,props:N.fromObject({label:F.params.label}),valueController:U})},api(F){return!(F.controller instanceof ui)||!(F.controller.valueController instanceof Ui)?null:new so(F.controller)}}}();function Qf(F){return F.reduce((P,O)=>Object.assign(P,{[O.presetKey]:O.read()}),{})}function Jf(F,P){F.forEach(O=>{const U=P[O.target.presetKey];U!==void 0&&O.writer(O.target,O.reader(U))})}class qf extends vs{constructor(P,O){super(P,O)}get element(){return this.controller_.view.element}importPreset(P){const O=this.controller_.rackController.rack.find(ge).map(U=>U.binding);Jf(O,P),this.refresh()}exportPreset(){const P=this.controller_.rackController.rack.find(ge).map(O=>O.binding.target);return Qf(P)}refresh(){this.controller_.rackController.rack.find(ge).forEach(P=>{P.binding.read()}),this.controller_.rackController.rack.find(Be).forEach(P=>{P.binding.read()})}}class _f extends ms{constructor(P,O){super(P,{expanded:O.expanded,blade:O.blade,props:O.props,root:!0,viewProps:O.viewProps})}}const td={id:"slider",type:"blade",accept(F){const P=W,O=L(F,{max:P.required.number,min:P.required.number,view:P.required.constant("slider"),format:P.optional.function,label:P.optional.string,value:P.optional.number});return O?{params:O}:null},controller(F){var P,O;const U=(P=F.params.value)!==null&&P!==void 0?P:0,q=new fi({max:F.params.max,min:F.params.min}),it=new ws(F.document,{baseStep:1,parser:Ce,sliderProps:new N({maxValue:q.values.value("max"),minValue:q.values.value("min")}),textProps:N.fromObject({draggingScale:ci(void 0,U),formatter:(O=F.params.format)!==null&&O!==void 0?O:Hh}),value:B(U,{constraint:q}),viewProps:F.viewProps});return new ui(F.document,{blade:F.blade,props:N.fromObject({label:F.params.label}),valueController:it})},api(F){return!(F.controller instanceof ui)||!(F.controller.valueController instanceof ws)?null:new ro(F.controller)}},ed=function(){return{id:"text",type:"blade",accept(F){const P=W,O=L(F,{parse:P.required.function,value:P.required.raw,view:P.required.constant("text"),format:P.optional.function,label:P.optional.string});return O?{params:O}:null},controller(F){var P;const O=new bn(F.document,{parser:F.params.parse,props:N.fromObject({formatter:(P=F.params.format)!==null&&P!==void 0?P:U=>String(U)}),value:B(F.params.value),viewProps:F.viewProps});return new ui(F.document,{blade:F.blade,props:N.fromObject({label:F.params.label}),valueController:O})},api(F){return!(F.controller instanceof ui)||!(F.controller.valueController instanceof bn)?null:new ao(F.controller)}}}();function id(F){const P=F.createElement("div");return P.classList.add(u("dfw")()),F.body&&F.body.appendChild(P),P}function oo(F,P,O){if(F.querySelector(`style[data-tp-style=${P}]`))return;const U=F.createElement("style");U.dataset.tpStyle=P,U.textContent=O,F.head.appendChild(U)}class nd extends qf{constructor(P){var O,U;const q=P??{},it=(O=q.document)!==null&&O!==void 0?O:St(),lt=Yf(),gt=new _f(it,{expanded:q.expanded,blade:Ht(),props:N.fromObject({title:q.title}),viewProps:Q.create()});super(gt,lt),this.pool_=lt,this.containerElem_=(U=q.container)!==null&&U!==void 0?U:id(it),this.containerElem_.appendChild(this.element),this.doc_=it,this.usesDefaultWrapper_=!q.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw i.alreadyDisposed();return this.doc_}dispose(){const P=this.containerElem_;if(!P)throw i.alreadyDisposed();if(this.usesDefaultWrapper_){const O=P.parentElement;O&&O.removeChild(P)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(P){("plugin"in P?[P.plugin]:"plugins"in P?P.plugins:[]).forEach(U=>{this.pool_.register(U),this.embedPluginStyle_(U)})}embedPluginStyle_(P){P.css&&oo(this.document,`plugin-${P.id}`,P.css)}setUpDefaultPlugins_(){oo(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(P=>{this.embedPluginStyle_(P)}),this.registerPlugin({plugins:[td,Zf,na,ed]})}}const sd=new I("3.1.9");R.BladeApi=V,R.ButtonApi=n,R.FolderApi=vs,R.InputBindingApi=ds,R.ListApi=so,R.MonitorBindingApi=cs,R.Pane=nd,R.SeparatorApi=Zr,R.SliderApi=ro,R.TabApi=ta,R.TabPageApi=_r,R.TextApi=ao,R.TpChangeEvent=v,R.VERSION=sd,Object.defineProperty(R,"__esModule",{value:!0})})})(gr,gr.exports);var wp=gr.exports;class Ap{constructor(E,R){Et(this,"pane");Et(this,"logger",zt("telemetry"));Et(this,"modules");Et(this,"events");Et(this,"playerFolder");Et(this,"player");Et(this,"playerPosition",{x:0,y:0,xSpeed:0,ySpeed:0});this.modules=wo.modules,this.events=wo.events,this.player=R,this.pane=new wp.Pane({title:"Debug Panel"}),this.setupModuleDebug(),this.setupEventDebug(),this.setupPlayerDebug(),this.listenToDebugChanges(),setInterval(()=>{this.updatePlayerPosition()},100),this.listenToDebugPanelToggleEvent(),this.pane.hidden=!0}setLoggingDebug(E,R,I){E.info(`Setting ${I} to ${R}`),R?E.setLevel(E.levels.DEBUG):E.setLevel(E.levels.INFO)}setupModuleDebug(){const E=this.pane.addFolder({title:"Modules"});for(const R in this.modules){const I=zt(R);this.setLoggingDebug(I,this.modules[R],R),E.addInput(this.modules,R).on("change",V=>{this.setLoggingDebug(I,V.value,R)})}}setupEventDebug(){const E=this.pane.addFolder({title:"Events"});for(const R in this.events)E.addInput(this.events,R).on("change",I=>{Qt.emit("debug",{state:I.value,type:R})})}updatePlayerPosition(){this.playerPosition.x=Wt.x[this.player],this.playerPosition.y=Wt.y[this.player],this.playerPosition.xSpeed=Wt.xSpeed[this.player],this.playerPosition.ySpeed=Wt.ySpeed[this.player]}setupPlayerDebug(){this.playerFolder=this.pane.addFolder({title:"Player"}),this.playerFolder.addMonitor(this.playerPosition,"x"),this.playerFolder.addMonitor(this.playerPosition,"y"),this.playerFolder.addMonitor(this.playerPosition,"xSpeed"),this.playerFolder.addMonitor(this.playerPosition,"ySpeed")}listenToDebugChanges(){this.logger.debug("DebugPanel initialized")}listenToDebugPanelToggleEvent(){Qt.on("debugPanel",()=>{this.toggleDebugPanel()})}toggleDebugPanel(){this.logger.debug(`Toggling debug panel to ${this.pane.hidden}`),this.pane.hidden=!this.pane.hidden}}const Mp={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",KeyW:"up",KeyS:"down",KeyA:"left",KeyD:"right"},Rp={KeyP:"pause",Space:"attack",KeyE:"pickUp",KeyZ:"slowTime",KeyL:"debugPanel",KeyI:"toggleInventory"},bp={move:Mp,action:Rp};class Op{constructor(E){Et(this,"bindings",new Map);Et(this,"logger",zt("core"));this.loadBindingsFromControlMapping(E),this.logger.debug("Key bindings loaded",this.bindings)}bind(E,R){this.bindings.set(R,E),this.logger.debug(`Bound ${E} to ${R}`)}getActionForKeyCode(E){return this.logger.debug(`Looking up action for key code ${E}`),this.bindings.get(E)}loadBindingsFromControlMapping(E){this.logger.debug("Loading key bindings from control mapping",E);const R=[E.move,E.action];for(const I of R)for(const V in I){this.logger.debug(`Loading key binding for ${V}`);const Z=I[V];this.bind(Z,V)}}}var me=(M=>(M.UP="up",M.DOWN="down",M.LEFT="left",M.RIGHT="right",M))(me||{}),Fl=(M=>(M.ATTACK="attack",M.PICKUP="pickUp",M))(Fl||{}),Dl=(M=>(M.DEBUG_PANEL="debugPanel",M))(Dl||{}),Il=(M=>(M.TOGGLE_PAUSE="togglePause",M.TOGGLE_SLOW_TIME="toggleSlowTime",M))(Il||{}),mr=(M=>(M.TOGGLE_INVENTORY="toggleInventory",M))(mr||{});class Lp{constructor(){Et(this,"player");Et(this,"scene");Et(this,"keyBindings");Et(this,"pressedKeys",new Set);Et(this,"logger",zt("core"));Et(this,"actionHandlers");const E=bp;this.keyBindings=new Op(E);const R=Object.values(me),I=Object.values(Fl),V=Object.values(mr),Z=Object.values(Dl),v=Object.values(Il);this.actionHandlers=new Map([...R.map(x=>[x,t=>this.emitMove(x,t)]),...I.map(x=>[x,t=>this.emitAction(x,t)]),...V.map(x=>[x,t=>this.emitEntityAction(x,t)]),...Z.map(x=>[x,t=>this.emitBasicAction(x,t)]),...v.map(x=>[x,t=>this.emitBasicAction(x,t)])])}initialize(E,R){if(this.scene=E,this.player=R,!this.scene.input.keyboard)throw new Error("Keyboard not available");this.scene.input.keyboard.on("keydown",this.onKeyDown.bind(this)),this.scene.input.keyboard.on("keyup",this.onKeyUp.bind(this)),this.logger.debug("Control System initialized")}onKeyDown(E){this.logger.debug(`Keydown event: ${E.code}`);const R=E.code;if(this.pressedKeys.has(R)){this.logger.debugVerbose("Ignoring repeated keydown event");return}this.pressedKeys.add(R);const I=this.keyBindings.getActionForKeyCode(R);I!==void 0?this.handleAction(I,!0):this.logger.info(`No action bound to key ${R}`)}onKeyUp(E){const R=E.code;this.logger.debug(`Keyup event: ${R}`),this.pressedKeys.delete(R);const I=this.keyBindings.getActionForKeyCode(R);I!==void 0&&this.handleAction(I,!1)}handleAction(E,R){this.logger.debug(`Handling action ${E} with state ${R}`);const I=this.actionHandlers.get(E);I?I(R):this.logger.warn(`No handler for action ${E}`)}emitMove(E,R){Qt.emit("move",{action:E,state:R,entity:this.player})}emitAction(E,R){R&&Qt.emit("action",{action:E,entity:this.player})}emitEntityAction(E,R){R&&E===mr.TOGGLE_INVENTORY&&Qt.emit("toggleInventory",{entityId:this.player})}emitBasicAction(E,R){R&&Qt.emit(E,{})}}const Fp=yl([si]);function Dp(M){const E=Fp(M);for(const R of E)si.current[R]<=0&&(zt("health").info("Entity out of health",{eid:R}),Qt.emit("destroyEntity",{entityId:R}))}class Ip{constructor(E,R){Et(this,"logger");Et(this,"playerFactory");Et(this,"world");Et(this,"player");Et(this,"debugPanel");this.scene=E,this.logger=zt("entity"),this.world=R}initialize(){this.playerFactory=new Tp(this.scene,this.world),this.logger.debug("PlayerManager initialized")}spawnPlayer(){this.player=this.playerFactory.createPlayer(),new Lp().initialize(this.scene,this.player),this.debugPanel=new Ap(this.world,this.player)}update(){Dp(this.world)}getPlayer(){return this.player}}class Bp{constructor(E,R){Et(this,"logger",zt("entity"));Et(this,"pool");Et(this,"factory");this.pool=[],this.factory=E,R&&R>0&&this.createInitialObjects(R)}get(){let E;return this.pool.length===0?(E=this.factory(),this.logger.debugVerbose("Object pool created new object")):(E=this.pool.pop(),this.logger.debugVerbose("Object pool reused object")),E}release(E){this.pool.push(E),this.logger.debugVerbose("Released object back to pool")}size(){return this.logger.debugVerbose(`Object pool size: ${this.pool.length}`),this.pool.length}clear(){this.pool=[],this.logger.debug("Cleared object pool")}createInitialObjects(E){for(let R=0;R<E;R++)this.pool.push(this.factory());this.logger.debugVerbose(`Created ${E} initial objects`)}}const Np=[{id:"backpack",name:"Backpack",category:"container",canBePickedUp:!0},{id:"board",name:"Board",texture:"board",canBePickedUp:!0},{id:"stick",name:"Stick",texture:"stick",canBePickedUp:!0},{id:"stone",name:"Stone",texture:"stone",canBePickedUp:!0},{id:"pipe",name:"Pipe",texture:"pipe",canBePickedUp:!0}],mn=je({value:ne.ui8});function Gp(M,E){De(M,mn,E),mn.value[E]=1}function Bl(M){const E=mn.value[M]===1;return zt("entity").debugVerbose(`Checking if entity ${M} can be picked up: ${E}`),E}class Up{constructor(E,R){Et(this,"scene");Et(this,"world");Et(this,"spritePool");Et(this,"logger",zt("entity"));this.scene=E,this.world=R,this.spritePool=new Bp(()=>{const I=new be.GameObjects.Sprite(E,0,0,"");return I.setOrigin(0,0),I})}create(E,R,I,V=!1,Z=0){const v=ml(this.world),x=this.spritePool.get(),t=Np.find(a=>a.id===I);let l=I;t!=null&&t.texture&&(l=t.texture),x.setTexture(l),x.setPosition(E,R),x.setActive(!0),x.setVisible(!0);let c=I;return t!=null&&t.name&&(c=t.name),Ol(v,c),this.scene.add.existing(x),Al(this.world,v,x),bl(this.world,v,100,100),Ml(this.world,v,V,Z),t!=null&&t.canBePickedUp&&(this.logger.debugVerbose(`Adding CanBePickedUp to ${Yt(v)}`),Gp(this.world,v),De(this.world,mn,v),mn.value[v]=1),this.logger.debug(`Created entity ${Yt(v)} `),v}release(E){this.logger.debug(`Releasing entity: ${E} ${kr(E)} `);const R=ns(E);this.spritePool.release(R),Ll(E),Xr(this.world,E)}}function Vp(M,E,R,I,V){Nl(M,E,R||0,I||M.length-1,V||Xp)}function Nl(M,E,R,I,V){for(;I>R;){if(I-R>600){var Z=I-R+1,v=E-R+1,x=Math.log(Z),t=.5*Math.exp(2*x/3),l=.5*Math.sqrt(x*t*(Z-t)/Z)*(v-Z/2<0?-1:1),c=Math.max(R,Math.floor(E-v*t/Z+l)),a=Math.min(I,Math.floor(E+(Z-v)*t/Z+l));Nl(M,E,c,a,V)}var r=M[E],s=R,e=I;for(Qi(M,R,E),V(M[I],r)>0&&Qi(M,R,I);s<e;){for(Qi(M,s,e),s++,e--;V(M[s],r)<0;)s++;for(;V(M[e],r)>0;)e--}V(M[R],r)===0?Qi(M,R,e):(e++,Qi(M,e,I)),e<=E&&(R=e+1),E<=e&&(I=e-1)}}function Qi(M,E,R){var I=M[E];M[E]=M[R],M[R]=I}function Xp(M,E){return M<E?-1:M>E?1:0}class zp{constructor(E=9){this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(E){let R=this.data;const I=[];if(!Hn(E,R))return I;const V=this.toBBox,Z=[];for(;R;){for(let v=0;v<R.children.length;v++){const x=R.children[v],t=R.leaf?V(x):x;Hn(E,t)&&(R.leaf?I.push(x):Qs(E,t)?this._all(x,I):Z.push(x))}R=Z.pop()}return I}collides(E){let R=this.data;if(!Hn(E,R))return!1;const I=[];for(;R;){for(let V=0;V<R.children.length;V++){const Z=R.children[V],v=R.leaf?this.toBBox(Z):Z;if(Hn(E,v)){if(R.leaf||Qs(E,v))return!0;I.push(Z)}}R=I.pop()}return!1}load(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(let I=0;I<E.length;I++)this.insert(E[I]);return this}let R=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){const I=this.data;this.data=R,R=I}this._insert(R,this.data.height-R.height-1,!0)}return this}insert(E){return E&&this._insert(E,this.data.height-1),this}clear(){return this.data=Ei([]),this}remove(E,R){if(!E)return this;let I=this.data;const V=this.toBBox(E),Z=[],v=[];let x,t,l;for(;I||Z.length;){if(I||(I=Z.pop(),t=Z[Z.length-1],x=v.pop(),l=!0),I.leaf){const c=Yp(E,I.children,R);if(c!==-1)return I.children.splice(c,1),Z.push(I),this._condense(Z),this}!l&&!I.leaf&&Qs(I,V)?(Z.push(I),v.push(x),x=0,t=I,I=I.children[0]):t?(x++,I=t.children[x],l=!1):I=null}return this}toBBox(E){return E}compareMinX(E,R){return E.minX-R.minX}compareMinY(E,R){return E.minY-R.minY}toJSON(){return this.data}fromJSON(E){return this.data=E,this}_all(E,R){const I=[];for(;E;)E.leaf?R.push(...E.children):I.push(...E.children),E=I.pop();return R}_build(E,R,I,V){const Z=I-R+1;let v=this._maxEntries,x;if(Z<=v)return x=Ei(E.slice(R,I+1)),Si(x,this.toBBox),x;V||(V=Math.ceil(Math.log(Z)/Math.log(v)),v=Math.ceil(Z/Math.pow(v,V-1))),x=Ei([]),x.leaf=!1,x.height=V;const t=Math.ceil(Z/v),l=t*Math.ceil(Math.sqrt(v));Ao(E,R,I,l,this.compareMinX);for(let c=R;c<=I;c+=l){const a=Math.min(c+l-1,I);Ao(E,c,a,t,this.compareMinY);for(let r=c;r<=a;r+=t){const s=Math.min(r+t-1,a);x.children.push(this._build(E,r,s,V-1))}}return Si(x,this.toBBox),x}_chooseSubtree(E,R,I,V){for(;V.push(R),!(R.leaf||V.length-1===I);){let Z=1/0,v=1/0,x;for(let t=0;t<R.children.length;t++){const l=R.children[t],c=Zs(l),a=jp(E,l)-c;a<v?(v=a,Z=c<Z?c:Z,x=l):a===v&&c<Z&&(Z=c,x=l)}R=x||R.children[0]}return R}_insert(E,R,I){const V=I?E:this.toBBox(E),Z=[],v=this._chooseSubtree(V,this.data,R,Z);for(v.children.push(E),tn(v,V);R>=0&&Z[R].children.length>this._maxEntries;)this._split(Z,R),R--;this._adjustParentBBoxes(V,Z,R)}_split(E,R){const I=E[R],V=I.children.length,Z=this._minEntries;this._chooseSplitAxis(I,Z,V);const v=this._chooseSplitIndex(I,Z,V),x=Ei(I.children.splice(v,I.children.length-v));x.height=I.height,x.leaf=I.leaf,Si(I,this.toBBox),Si(x,this.toBBox),R?E[R-1].children.push(x):this._splitRoot(I,x)}_splitRoot(E,R){this.data=Ei([E,R]),this.data.height=E.height+1,this.data.leaf=!1,Si(this.data,this.toBBox)}_chooseSplitIndex(E,R,I){let V,Z=1/0,v=1/0;for(let x=R;x<=I-R;x++){const t=_i(E,0,x,this.toBBox),l=_i(E,x,I,this.toBBox),c=kp(t,l),a=Zs(t)+Zs(l);c<Z?(Z=c,V=x,v=a<v?a:v):c===Z&&a<v&&(v=a,V=x)}return V||I-R}_chooseSplitAxis(E,R,I){const V=E.leaf?this.compareMinX:Wp,Z=E.leaf?this.compareMinY:Hp,v=this._allDistMargin(E,R,I,V),x=this._allDistMargin(E,R,I,Z);v<x&&E.children.sort(V)}_allDistMargin(E,R,I,V){E.children.sort(V);const Z=this.toBBox,v=_i(E,0,R,Z),x=_i(E,I-R,I,Z);let t=Wn(v)+Wn(x);for(let l=R;l<I-R;l++){const c=E.children[l];tn(v,E.leaf?Z(c):c),t+=Wn(v)}for(let l=I-R-1;l>=R;l--){const c=E.children[l];tn(x,E.leaf?Z(c):c),t+=Wn(x)}return t}_adjustParentBBoxes(E,R,I){for(let V=I;V>=0;V--)tn(R[V],E)}_condense(E){for(let R=E.length-1,I;R>=0;R--)E[R].children.length===0?R>0?(I=E[R-1].children,I.splice(I.indexOf(E[R]),1)):this.clear():Si(E[R],this.toBBox)}}function Yp(M,E,R){if(!R)return E.indexOf(M);for(let I=0;I<E.length;I++)if(R(M,E[I]))return I;return-1}function Si(M,E){_i(M,0,M.children.length,E,M)}function _i(M,E,R,I,V){V||(V=Ei(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(let Z=E;Z<R;Z++){const v=M.children[Z];tn(V,M.leaf?I(v):v)}return V}function tn(M,E){return M.minX=Math.min(M.minX,E.minX),M.minY=Math.min(M.minY,E.minY),M.maxX=Math.max(M.maxX,E.maxX),M.maxY=Math.max(M.maxY,E.maxY),M}function Wp(M,E){return M.minX-E.minX}function Hp(M,E){return M.minY-E.minY}function Zs(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function Wn(M){return M.maxX-M.minX+(M.maxY-M.minY)}function jp(M,E){return(Math.max(E.maxX,M.maxX)-Math.min(E.minX,M.minX))*(Math.max(E.maxY,M.maxY)-Math.min(E.minY,M.minY))}function kp(M,E){const R=Math.max(M.minX,E.minX),I=Math.max(M.minY,E.minY),V=Math.min(M.maxX,E.maxX),Z=Math.min(M.maxY,E.maxY);return Math.max(0,V-R)*Math.max(0,Z-I)}function Qs(M,E){return M.minX<=E.minX&&M.minY<=E.minY&&E.maxX<=M.maxX&&E.maxY<=M.maxY}function Hn(M,E){return E.minX<=M.maxX&&E.minY<=M.maxY&&E.maxX>=M.minX&&E.maxY>=M.minY}function Ei(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ao(M,E,R,I,V){const Z=[E,R];for(;Z.length;){if(R=Z.pop(),E=Z.pop(),R-E<=I)continue;const v=E+Math.ceil((R-E)/I/2)*I;Vp(M,v,E,R,V),Z.push(E,v,v,R)}}const Kp=[{id:"stick",drop_chance:80,count:5},{id:"log",drop_chance:50,count:2}],$p=[{id:"pipe",drop_chance:70,count:2},{id:"board",drop_chance:90,count:4}],Zp={tree:Kp,bench:$p};class Qp{constructor(){Et(this,"itemGroups");Et(this,"logger",zt("entity"));this.itemGroups=Zp}generateDrops(E){const R=this.itemGroups[E];if(!R)return this.logger.warn(`No item group found for ${E}`),[];const I=[];return R.forEach(V=>{for(let Z=0;Z<V.count;Z++)Math.random()*100<=V.drop_chance&&I.push(V.id)}),I}}function Jp(M,E,R){const I=zt("movement"),V=Hr(M);if(!V)return I.error(`Could not find bounding box for entity ${M}`),1;const Z=R.search(V);I.debugVerbose(`Found ${Z.length} nearby objects for entity ${M}`);let v=1;for(const x of Z)v*=x.collisionModifier,I.debug(`Collision detected between ${Yt(M)} and ${Yt(x.eid)}`);return v}const qp=yl([Wt]);function _p(M,E,R){const I=qp(M);for(const V of I){const Z=Wt.xSpeed[V],v=Wt.ySpeed[V],x=An(V);if(x){const t=Jp(V,M,R);let l,c;t>0?(l=Wt.x[V]+Z*t*E,c=Wt.y[V]+v*t*E):(l=Wt.x[V]-Z*E,c=Wt.y[V]-v*E,Wt.xSpeed[V]=0,Wt.ySpeed[V]=0),Wt.x[V]=l,Wt.y[V]=c,x.setPosition(l,c),Rl(V)}}}class tg{constructor(E,R){Et(this,"logger");Et(this,"staticObjectFactory");Et(this,"objectSpatialIndex");Et(this,"lootTable");Et(this,"world");this.scene=E,this.logger=zt("entity"),this.world=R}initialize(){this.staticObjectFactory=new Up(this.scene,this.world),this.objectSpatialIndex=new zp,this.lootTable=new Qp,this.logger.debug("ObjectManager initialized")}generateTileset(E=32,R=50,I=50){const Z=["grass","grass2","grass3","grass4"];for(let v=0;v<R;v++)for(let x=0;x<I;x++){const t=Math.floor(Math.random()*Z.length),l=Z[t];this.generateStaticObject(v*E,x*E,l,!0,.9)}}generateStaticObject(E,R,I,V=!1,Z=0){const v=this.staticObjectFactory.create(E,R,I,V),x=Hr(v);x||this.logger.info(`No bounds for ${v}`),this.objectSpatialIndex.insert({eid:v,minX:x.minX,minY:x.minY,maxX:x.maxX,maxY:x.maxY,exempt:!0,collisionModifier:Z}),this.logger.debugVerbose(`Added static object ${v} with texture ${I} to spatial index`)}update(E){_p(this.world,E/1e3,this.objectSpatialIndex)}getStaticObjectFactory(){return this.staticObjectFactory}getObjectSpatialIndex(){return this.objectSpatialIndex}getLootTable(){return this.lootTable}}class eg{constructor(){Et(this,"logger");this.logger=zt("movement")}initialize(){Qt.on("move",this.onMove.bind(this))}onMove(E){this.handleMovement(E.state,E.action,E.entity)}handleMovement(E,R,I){const V=gp;if(E)switch(R){case me.UP:Wt.ySpeed[I]=-V;break;case me.DOWN:Wt.ySpeed[I]=V;break;case me.LEFT:Wt.xSpeed[I]=-V;break;case me.RIGHT:Wt.xSpeed[I]=V;break}else switch(R){case me.UP:case me.DOWN:Wt.ySpeed[I]=0;break;case me.LEFT:case me.RIGHT:Wt.xSpeed[I]=0;break}this.logger.debug(`Entity ${I} move ${R} ${E?"start":"stop"}`)}}class Mo{constructor(E,R){this.name=E,this.execute=R}}const ig={attack:new Mo("attack",M=>{const E=vp(M),R=an(M);return R?(Qt.emit("damage",{entity:R,damage:E}),{message:`${M} is damaging ${R}`}):{message:`${M} tried to attack, but there was no target`}}),pickUp:new Mo("pickUp",M=>{const E=an(M);return E?(Qt.emit("itemPickedUp",{entityId:M}),{message:`${M} is picking up ${E}`}):{message:`${M} tried to pick up, but there was no item`}})};class ng{constructor(){Et(this,"logger");this.logger=zt("action")}initialize(){Qt.on("damage",this.onDamage.bind(this)),Qt.on("action",this.onAction.bind(this))}onAction(E){this.logger.debug(`Action event received: ${JSON.stringify(E)}`);const{action:R,entity:I}=E,V=ig[R].execute(I);this.logger.info(V.message)}onDamage({entity:E,damage:R}){si.current[E]-=R,this.logger.info(`Damage ${R} to ${E}, health: ${si.current[E]}`)}}function sg(M,E,R){const I=zt("action"),V=Hr(M);if(!V)return I.warn("Player has no bounds"),null;const Z=E.search({minX:V.minX-Yn,minY:V.minY-Yn,maxX:V.maxX+Yn,maxY:V.maxY+Yn});if(Z===void 0||Z.length===0)return R.setVisible(!1),I.debugVerbose("No nearby objects"),null;const v=[];for(const t of Z)if(!te.exempt[t.eid]){const l=ol.Math.Distance.Between(V.minX+V.maxX/2,V.minY+V.maxY/2,t.minX+t.maxX/2,t.minY+t.maxY/2);v.push({distance:l,target:t})}v.sort((t,l)=>t.distance-l.distance),I.debug("Sorted objects",v),I.debug("Nearest object",v[0]);const x=v[0];return x?rg(x.target,R):(R.setVisible(!1),null)}function rg(M,E){zt("action").info(`Setting focus to ${Yt(M.eid)}`);const V=M.minX+(M.maxX-M.minX)-E.width/2,Z=M.minY-E.height/2;return E.setPosition(V,Z),E.setVisible(!0),E.setDepth(10),M.eid}const Me=je({items:[ne.ui16,256]});function ag(M,E,R){const I=zt("entity");if(!Bl(R)){I.warn(`Item ${Yt(R)} cannot be picked up.`);return}if(El(M,Me,E)){for(let Z=0;Z<Me.items.length;Z++)if(Me.items[E][Z]===0){Me.items[E][Z]=R,ns(R);break}}else De(M,Me,E),Me.items[E][0]=R,ns(R);I.info(`Added item ${Yt(R)} to entity ${Yt(E)}'s inventory`),I.debugVerbose(`Entity ${Yt(E)}'s inventory component: ${Me.items[E]}`),I.debug(og(E))}function Ro(M){const E=zt("entity"),R=Me.items[M];return!R||R.length===0?(E.warn(`Entity ${Yt(M)} has no inventory`),[]):[...R]}function og(M){const E=zt("entity"),R=Me.items[M];let I=`${Yt(M)}'s inventory:
`;if(!R||R.length===0){E.warn(`Entity ${Yt(M)} has no inventory`);return}for(const V of R)V!==0&&(I+=`  -${Yt(V)}
`);return I}class lg{constructor(E,R,I,V){Et(this,"logger");Et(this,"arrow");Et(this,"playerManager");Et(this,"objectManager");Et(this,"world");Et(this,"scene");this.logger=zt("entity"),this.arrow=this.createArrow(E),this.playerManager=R,this.objectManager=I,this.world=V,this.scene=E.scene}initialize(){Qt.on("destroyEntity",this.onEntityDestroyed.bind(this)),Qt.on("itemPickedUp",this.onItemPickedUp.bind(this)),Qt.on("toggleInventory",this.onToggleInventory.bind(this))}update(){const E=this.playerManager.getPlayer();let R=an(E);R===0&&(R=sg(E,this.objectManager.getObjectSpatialIndex(),this.arrow)||0,R!==0&&Po(E,R))}onToggleInventory(E){const{entityId:R}=E;this.logger.debug(`Toggling inventory for ${Yt(R)}`),this.scene.isActive("InventoryScene")?this.scene.stop("InventoryScene"):this.scene.launch("InventoryScene",{entityId:R})}onItemPickedUp(E){const{entityId:R}=E;this.logger.debugVerbose(`${Yt(R)} attempting to pick up item`);const I=an(R);if(!Bl(I)){this.logger.warn(`Item ${Yt(I)} cannot be picked up.`);return}this.logger.debug(`${Yt(R)} current focus for pickup: ${Yt(I)}`),I&&(this.removeWorldEntity(I),ag(this.world,R,I),this.logger.info(`${Yt(R)} picked up ${Yt(I)})`))}onEntityDestroyed(E){const{entityId:R}=E;this.logger.info(`Destroying ${Yt(R)}`),this.handleDrops(R),this.removeWorldEntity(R),this.objectManager.getStaticObjectFactory().release(R)}handleDrops(E){const R=An(E);if(!R){this.logger.error(`No sprite for entity ${E}`);return}const I=R.texture.key,V=this.objectManager.getLootTable().generateDrops(I);this.logger.info(`Dropping items ${V} from ${Yt(E)})`);const Z=R.getCenter(),v=mp;V.forEach(x=>{const t=Math.random()*v-v/2,l=Math.random()*v-v/2;this.objectManager.generateStaticObject(Z.x+t,Z.y+l,x)})}removeWorldEntity(E){ns(E);const R=fp(E);this.objectManager.getObjectSpatialIndex().remove(R,(I,V)=>I.eid===V.eid);for(let I=0;I<gn.target.length;I++)an(I)===E&&(this.logger.info(`Unsetting focus target for ${Yt(I)}`),Po(I,0));this.logger.info(`Entity ${E} removed`)}createArrow(E,R=!1){const I=E.add.sprite(0,0,"red_arrow");return I.setVisible(R),I}}class hg{constructor(E,R,I){Et(this,"logger");Et(this,"playerManager");Et(this,"objectManager");Et(this,"world");Et(this,"nonUpdateHandlers");Et(this,"updateHandlers");this.logger=zt("core"),this.playerManager=E,this.objectManager=R,this.world=I,this.nonUpdateHandlers=[],this.updateHandlers=[]}initialize(E){this.addNonUpdateHandler(new eg),this.addNonUpdateHandler(new ng),this.addUpdateHandler(new lg(E,this.playerManager,this.objectManager,this.world)),this.initializeHandlers()}addNonUpdateHandler(E){this.nonUpdateHandlers.push(E)}addUpdateHandler(E){this.updateHandlers.push(E)}initializeHandlers(){this.nonUpdateHandlers.forEach(E=>E.initialize()),this.updateHandlers.forEach(E=>E.initialize())}update(){this.updateHandlers.forEach(E=>E.update())}}var ug="named",fg="inject",dg="inversify:tagged",cg="inversify:tagged_props",bo="inversify:paramtypes",vg="design:paramtypes",pg="Cannot apply @injectable decorator multiple times.",Gl="Metadata key was used more than once in a parameter:",gg=function(M){return"@inject called with undefined this could mean that the class "+M+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},Ul="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",mg=function(){function M(E,R){this.key=E,this.value=R}return M.prototype.toString=function(){return this.key===ug?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},M}();function xg(M){for(var E=new Set,R=0,I=M;R<I.length;R++){var V=I[R];if(E.has(V))return V;E.add(V)}}function yg(M){return M.prototype!==void 0}function Tg(M){if(M!==void 0)throw new Error(Ul)}function Sg(M,E,R,I){Tg(E),Vl(dg,M,R.toString(),I)}function Eg(M,E,R){if(yg(M))throw new Error(Ul);Vl(cg,M.constructor,E,R)}function Cg(M){var E=[];if(Array.isArray(M)){E=M;var R=xg(E.map(function(I){return I.key}));if(R!==void 0)throw new Error(Gl+" "+R.toString())}else E=[M];return E}function Vl(M,E,R,I){var V=Cg(I),Z={};Reflect.hasOwnMetadata(M,E)&&(Z=Reflect.getMetadata(M,E));var v=Z[R];if(v===void 0)v=[];else for(var x=function(a){if(V.some(function(r){return r.key===a.key}))throw new Error(Gl+" "+a.key.toString())},t=0,l=v;t<l.length;t++){var c=l[t];x(c)}v.push.apply(v,V),Z[R]=v,Reflect.defineMetadata(M,Z,E)}function Pg(M){return function(E,R,I){typeof I=="number"?Sg(E,R,I,M):Eg(E,R,M)}}function Xl(){return function(M){if(Reflect.hasOwnMetadata(bo,M))throw new Error(pg);var E=Reflect.getMetadata(vg,M)||[];return Reflect.defineMetadata(bo,E,M),M}}function wg(M){return function(E){return function(R,I,V){if(E===void 0){var Z=typeof R=="function"?R.name:R.constructor.name;throw new Error(gg(Z))}return Pg(new mg(M,E))(R,I,V)}}}var Ag=wg(fg),Mg=Object.defineProperty,Rg=Object.getOwnPropertyDescriptor,bg=(M,E,R,I)=>{for(var V=I>1?void 0:I?Rg(E,R):E,Z=M.length-1,v;Z>=0;Z--)(v=M[Z])&&(V=(I?v(E,R,V):v(V))||V);return I&&V&&Mg(E,R,V),V},xn=(M=>(M[M.PAUSED=0]="PAUSED",M[M.RUNNING=1]="RUNNING",M[M.SLOW_MOTION=.5]="SLOW_MOTION",M))(xn||{});let xr=class{constructor(){Et(this,"timeState");Et(this,"timeFactor");Et(this,"logger",zt("time"));Et(this,"lastUpdateTime");this.timeState=1,this.setTimeFactor(this.timeState),this.lastUpdateTime=Date.now(),Qt.on("togglePause",this.togglePause.bind(this)),Qt.on("toggleSlowTime",this.toggleSlowTime.bind(this)),this.logger.debug("Initialized")}setTimeState(M){this.timeState=M,this.setTimeFactor(M),this.logger.debug(`Time state: ${xn[this.timeState]}`)}getTimeState(){return this.logger.debug(`Time state: ${xn[this.timeState]}`),this.timeState}setTimeFactor(M){this.logger.debug(`Time factor: ${M}`),this.timeFactor=M}getTimeFactor(){return this.logger.debug(`Time factor: ${this.timeFactor}`),this.timeFactor}getAdjustedDeltaTime(M){const E=M*this.timeFactor;return this.logger.debug(`Adjusted delta time: ${E}`),E}togglePause(){this.setTimeState(this.timeState===0?1:0)}toggleSlowTime(){this.setTimeState(this.timeState===.5?1:.5)}};xr=bg([Xl()],xr);var Og=Object.defineProperty,Lg=Object.getOwnPropertyDescriptor,Fg=(M,E,R,I)=>{for(var V=I>1?void 0:I?Lg(E,R):E,Z=M.length-1,v;Z>=0;Z--)(v=M[Z])&&(V=(I?v(E,R,V):v(V))||V);return I&&V&&Og(E,R,V),V},Dg=(M,E)=>(R,I)=>E(R,I,M);let yr=class{constructor(M){Et(this,"scene");Et(this,"logger",zt("time"));this.scene=M,Qt.on("togglePause",this.togglePause.bind(this)),Qt.on("toggleSlowTime",this.toggleSlowTime.bind(this)),this.logger.debug("Initialized")}setTimeScale(M){this.scene.time.timeScale=M,this.logger.debug(`Time scale: ${this.scene.time.timeScale}`)}togglePause(){this.scene.time.timeScale===0?this.setTimeScale(1):this.scene.time.timeScale===1?this.setTimeScale(0):this.setTimeScale(1)}toggleSlowTime(){this.scene.time.timeScale===1?this.setTimeScale(.5):this.setTimeScale(1)}};yr=Fg([Xl(),Dg(0,Ag(xp))],yr);class Ig{constructor(E){Et(this,"logger");Et(this,"playerManager");Et(this,"objectManager");Et(this,"eventHandler");Et(this,"timeSystem");Et(this,"timeController");Et(this,"world");Et(this,"scene");this.scene=E,this.logger=zt("core"),this.world=hp()}initialize(){this.playerManager=new Ip(this.scene,this.world),this.playerManager.initialize(),this.objectManager=new tg(this.scene,this.world),this.objectManager.initialize(),this.eventHandler=new hg(this.playerManager,this.objectManager,this.world),this.eventHandler.initialize(this.scene),this.timeSystem=new xr,this.timeController=new yr(this.scene),this.objectManager.generateTileset(),this.objectManager.generateStaticObject(200,200,"tree"),this.objectManager.generateStaticObject(400,400,"bench"),this.playerManager.spawnPlayer(),this.logger.info("Universe created")}update(E,R){const I=this.timeSystem.getAdjustedDeltaTime(R);this.timeSystem.getTimeState()!==xn.PAUSED&&(this.eventHandler.update(),this.playerManager.update(),this.objectManager.update(I))}getTimeState(){return this.timeSystem.getTimeState()}}class Bg extends be.Scene{constructor(){super("MainScene");Et(this,"universe");Et(this,"timeStateText")}create(){this.universe=new Ig(this),this.universe.initialize(),this.timeStateText=this.add.text(this.cameras.main.width-200,10,"",{fontSize:"24px",color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:{left:10,right:10,top:5,bottom:5}}),this.timeStateText.setScrollFactor(0)}update(R,I){this.universe.update(R,I),this.updateTimeStateText()}updateTimeStateText(){const R=this.universe.getTimeState();this.timeStateText.setText(`${xn[R].toLowerCase()}`)}}class Ng extends be.Scene{constructor(){super("TitleScene")}create(){if(this.add.image(400,300,"starry_night"),this.add.image(400,300,"forest_silhouette").setScale(1),this.add.image(400,150,"postapoc_title").setScale(2),this.input.on("pointerdown",()=>this.startMainScene()),!this.input.keyboard)throw new Error("No keyboard found");this.input.keyboard.on("keydown",()=>this.startMainScene())}async startMainScene(){await this.growMushroomCloud(),this.scene.start("MainScene")}async growMushroomCloud(){return new Promise(E=>{const R=this.add.image(400,300,"mushroom_cloud");R.setScale(.1).setDepth(1),R.setOrigin(R.originX,R.height),this.tweens.add({targets:R,scale:20,duration:2e3,ease:"Sine.easeInOut",onComplete:()=>{E()}});const I=this.add.rectangle(400,300,800,600,16737792,0);I.setDepth(2);const V=this.add.rectangle(400,300,800,600,0,0);V.setDepth(3),this.tweens.add({targets:I,fillAlpha:.5,duration:800,ease:"Linear",onComplete:()=>{this.tweens.add({targets:V,fillAlpha:1,duration:1600,ease:"Expo.easeOut",onComplete:()=>{E()}})}})})}}class Gg extends be.Scene{constructor(){super({key:"InventoryScene"});Et(this,"inventory",[]);Et(this,"entityId");Et(this,"visible",!0);Et(this,"logger",zt("entity"))}init(R){this.entityId=R.entityId}create(){this.inventory=Ro(this.entityId),this.updateInventoryDisplay(),Qt.on("itemPickedUp",this.updateInventoryDisplay.bind(this))}updateInventoryDisplay(){this.logger.debugVerbose(`Updating inventory display for ${Yt(this.entityId)}`),this.inventory=Ro(this.entityId),this.clearInventoryDisplay();const R=10,I=10,V=20,Z=10,v=I+Z;let x=R+Z;const t=this.add.text(v,x,`${Yt(this.entityId)}'s inventory:`,{color:"#ffffff"});let l=t.width;x+=V;const c=[];c.push(t);for(const r of this.inventory)if(r!==0){const s=this.add.text(v,x,`  -${Yt(r)}`,{color:"#ffffff"});c.push(s),l=Math.max(l,s.width),x+=V}const a=x;this.drawBackground(I,R,l+2*Z,a,c)}drawBackground(R,I,V,Z,v){const x=this.add.graphics();x.fillStyle(0,.5),x.fillRect(R,I,V,Z),x.lineStyle(2,16777215,1),x.strokeRect(R,I,V,Z),v.forEach(t=>this.children.bringToTop(t))}clearInventoryDisplay(){this.children.removeAll()}toggleVisibility(){this.visible=!this.visible}}var zl={exports:{}};(function(M,E){(function(I,V){M.exports=V()})(wi,function(){return function(){var R={"./packages/@logrocket/arson/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.encode=m,x.decode=T;var c=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),a=-1,r=-2,s=-3,e=-4,i=-5,h=Object.create(null),n=function(w,b){function A(D){if(typeof b[D]!="function")throw new Error("second argument to ARSON.registerType("+JSON.stringify(w)+", ...) must be an object with a "+D+" method")}A("deconstruct"),A("reconstruct"),h[w]=b},o=Object.prototype.toString,f="[object Date]",u="[object RegExp]",d="[object Set]",p="[object Map]";typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&n("Buffer",{deconstruct:function(w){return Buffer.isBuffer(w)&&[w.toString("base64"),"base64"]},reconstruct:function(w){return w&&Buffer.from(w[0],w[1])}}),n("Date",{deconstruct:function(w){return o.call(w)===f&&[w.toJSON()]},reconstruct:function(w){return w&&new Date(w[0])}}),n("RegExp",{deconstruct:function(w){if(o.call(w)===u){var b=[w.source],A="";return w.ignoreCase&&(A+="i"),w.multiline&&(A+="m"),w.global&&(A+="g"),A&&b.push(A),b}},reconstruct:function(w){return w&&new RegExp(w[0],w[1])}}),typeof Set=="function"&&typeof Array.from=="function"&&n("Set",{deconstruct:function(w){if(o.call(w)===d)return Array.from(w)},reconstruct:function(w){if(w)w.forEach(this.add,this);else return new Set}}),typeof Map=="function"&&typeof Array.from=="function"&&n("Map",{deconstruct:function(w){if(o.call(w)===p)return Array.from(w)},reconstruct:function(w){if(w)w.forEach(function(b){this.set(b[0],b[1])},this);else return new Map}});function m(C){return JSON.stringify(y(C))}function y(C){var w=[],b=typeof Map=="function"&&new Map;function A(H){switch((0,c.default)(H)){case"undefined":return a;case"number":if(isNaN(H))return s;if(!isFinite(H))return H<0?i:e}var j;return b?(j=b.get(H),typeof j>"u"&&(j=w.push(H)-1,b.set(H,j))):(j=w.indexOf(H),j<0&&(j=w.push(H)-1)),j}function D(H){var j=H;if(H&&(0,c.default)(H)==="object"){var J=Object.keys(H);if(g(H))j={};else if(Array.isArray(H)){j=Array(H.length);var X=H.length;if(X>J.length)for(var W=0;W<X;++W)j[W]=r}else{for(var L in h){var G=h[L].deconstruct(H);if(G){for(var W=0;W<G.length;++W)G[W]=A(G[W]);return G.unshift(L),G}}return{}.toString.call(H)}J.forEach(function(z){j[z]=A(H[z])})}return j}var B=A(C);if(B<0)return B;for(var N=[],Y=0;Y<w.length;++Y)N[Y]=D(w[Y]);return N}function g(C){var w=C&&(0,c.default)(C)==="object";if(w){var b=Object.getPrototypeOf?Object.getPrototypeOf(C):C.__proto__;return b===Object.prototype}return!1}function T(C){return S(JSON.parse(C))}function S(C){if(typeof C=="number"&&C<0)return A(C);var w=new Array(C.length);function b(N){return N in w?w[N]:w[N]=A(N)}function A(N){if(N<0){if(N===a||N===r)return;if(N===s)return NaN;if(N===e)return 1/0;if(N===i)return-1/0;throw new Error("invalid ARSON index: "+N)}var Y=C[N];if(Y&&(0,c.default)(Y)==="object"){if(Array.isArray(Y)){var H=Y[0];if(typeof H=="string"&&H in h){var j=h[H].reconstruct,J=j();return J&&D.push({reconstruct:j,empty:J,argIndexes:Y.slice(1)}),C[N]=J||j(Y.slice(1).map(b))}}B.push(Y)}return Y}var D=[],B=[];return C.forEach(function(N,Y){b(Y)}),D.forEach(function(N){N.args=N.argIndexes.map(b)}),B.forEach(function(N){Object.keys(N).forEach(function(Y){var H=N[Y];if(typeof H=="number")if(H<0){if(H===r){delete N[Y];return}N[Y]=b(H)}else N[Y]=C[H]})}),D.forEach(function(N){N.reconstruct.call(N.empty,N.args)}),C[0]}},"./packages/@logrocket/console/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=l(t("./packages/@logrocket/console/src/registerConsole.js")),a=c.default;x.default=a},"./packages/@logrocket/console/src/registerConsole.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=s;var c=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),a=l(t("./packages/@logrocket/utils/src/enhanceFunc.js")),r=t("./packages/@logrocket/exceptions/src/index.js");function s(e){var i=[],h=["log","warn","info","error","debug"];return h.forEach(function(n){i.push((0,a.default)(console,n,function(){for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];e.addEvent("lr.core.LogEvent",function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=d.isEnabled;return(0,c.default)(p)==="object"&&p[n]===!1||p===!1?null:(n==="error"&&d.shouldAggregateConsoleErrors&&r.Capture.captureMessage(e,f[0],f,{},!0),{logLevel:n.toUpperCase(),args:f})})}))}),function(){i.forEach(function(n){return n()})}}},"./packages/@logrocket/exceptions/src/Capture.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.captureMessage=i,x.captureException=h;var c=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),a=l(t("./packages/@logrocket/utils/src/TraceKit.js")),r=l(t("./packages/@logrocket/exceptions/src/stackTraceFromError.js"));function s(n){return/boolean|number|string/.test((0,c.default)(n))}function e(n,o){if(o){for(var f=["level","logger"],u=0,d=f;u<d.length;u++){var p=d[u],m=o[p];s(m)&&(n[p]=m.toString())}for(var y=["tags","extra"],g=0,T=y;g<T.length;g++){for(var S=T[g],C=o[S]||{},w={},b=0,A=Object.keys(C);b<A.length;b++){var D=A[b],B=C[D];s(B)&&(w[D.toString()]=B.toString())}n[S]=w}}}function i(n,o,f){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p={exceptionType:d?"CONSOLE":"MESSAGE",message:o,messageArgs:f,browserHref:window.location?window.location.href:""};e(p,u),n.addEvent("lr.core.Exception",function(){return p})}function h(n,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,d=u||a.default.computeStackTrace(o),p={exceptionType:"WINDOW",errorType:d.name,message:d.message,browserHref:window.location?window.location.href:""};e(p,f);var m={_stackTrace:(0,r.default)(d)};n.addEvent("lr.core.Exception",function(){return p},m)}},"./packages/@logrocket/exceptions/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"registerExceptions",{enumerable:!0,get:function(){return a.default}}),x.Capture=void 0;var a=l(t("./packages/@logrocket/exceptions/src/registerExceptions.js")),r=e(t("./packages/@logrocket/exceptions/src/Capture.js"));x.Capture=r;function s(i){if(typeof WeakMap!="function")return null;var h=new WeakMap,n=new WeakMap;return(s=function(f){return f?n:h})(i)}function e(i,h){if(!h&&i&&i.__esModule)return i;if(i===null||c(i)!=="object"&&typeof i!="function")return{default:i};var n=s(h);if(n&&n.has(i))return n.get(i);var o={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)){var d=f?Object.getOwnPropertyDescriptor(i,u):null;d&&(d.get||d.set)?Object.defineProperty(o,u,d):o[u]=i[u]}return o.default=i,n&&n.set(i,o),o}},"./packages/@logrocket/exceptions/src/raven/raven.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=l(t("./node_modules/@babel/runtime/helpers/createClass.js")),r=l(t("./packages/@logrocket/utils/src/TraceKit.js")),s=Object.prototype;function e(u){return u===void 0}function i(u){return typeof u=="function"}function h(u,d){return s.hasOwnProperty.call(u,d)}function n(u,d,p,m){var y=u[d];u[d]=p(y),m&&m.push([u,d,y])}var o=typeof window<"u"?window:typeof t.g<"u"?t.g:typeof self<"u"?self:{};o.document;var f=function(){function u(d){var p=d.captureException;(0,c.default)(this,u),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=p,r.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,a.default)(u,[{key:"uninstall",value:function(){r.default.report.unsubscribe(this._errorHandler);for(var p;this._wrappedBuiltIns.length;){p=this._wrappedBuiltIns.shift();var m=p[0],y=p[1],g=p[2];m[y]=g}}},{key:"_errorHandler",value:function(p){this._ignoreOnError||this.captureException(p)}},{key:"_ignoreNextOnError",value:function(){var p=this;this._ignoreOnError+=1,setTimeout(function(){p._ignoreOnError-=1})}},{key:"context",value:function(p,m,y){return i(p)&&(y=m||[],m=p,p=void 0),this.wrap(p,m).apply(this,y)}},{key:"wrap",value:function(p,m,y){var g=this;if(e(m)&&!i(p))return p;if(i(p)&&(m=p,p=void 0),!i(m))return m;try{if(m.__lr__)return m;if(m.__lr_wrapper__)return m.__lr_wrapper__;if(!Object.isExtensible(m))return m}catch{return m}function T(){var C=[],w=arguments.length,b=!p||p&&p.deep!==!1;for(y&&i(y)&&y.apply(this,arguments);w--;)C[w]=b?g.wrap(p,arguments[w]):arguments[w];try{return m.apply(this,C)}catch(A){throw g._ignoreNextOnError(),g.captureException(r.default.computeStackTrace(A),p),A}}for(var S in m)h(m,S)&&(T[S]=m[S]);return T.prototype=m.prototype,m.__lr_wrapper__=T,T.__lr__=!0,T.__inner__=m,T}},{key:"_instrumentTryCatch",value:function(){var p=this,m=p._wrappedBuiltIns;function y(w){return function(b,A){for(var D=new Array(arguments.length),B=0;B<D.length;++B)D[B]=arguments[B];var N=D[0];return i(N)&&(D[0]=p.wrap(N)),w.apply?w.apply(this,D):w(D[0],D[1])}}function g(w){var b=o[w]&&o[w].prototype;b&&b.hasOwnProperty&&b.hasOwnProperty("addEventListener")&&(n(b,"addEventListener",function(A){return function(D,B,N,Y){try{B&&B.handleEvent&&(B.handleEvent=p.wrap(B.handleEvent))}catch{}var H;return A.call(this,D,p.wrap(B,void 0,H),N,Y)}},m),n(b,"removeEventListener",function(A){return function(D,B,N,Y){try{B=B&&(B.__lr_wrapper__?B.__lr_wrapper__:B)}catch{}return A.call(this,D,B,N,Y)}},m))}n(o,"setTimeout",y,m),n(o,"setInterval",y,m),o.requestAnimationFrame&&n(o,"requestAnimationFrame",function(w){return function(b){return w(p.wrap(b))}},m);for(var T=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],S=0;S<T.length;S++)g(T[S]);var C=o.jQuery||o.$;C&&C.fn&&C.fn.ready&&n(C.fn,"ready",function(w){return function(b){return w.call(this,p.wrap(b))}},m)}}]),u}();x.default=f},"./packages/@logrocket/exceptions/src/registerExceptions.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=i;var a=l(t("./packages/@logrocket/exceptions/src/raven/raven.js")),r=e(t("./packages/@logrocket/exceptions/src/Capture.js"));function s(h){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(s=function(u){return u?o:n})(h)}function e(h,n){if(!n&&h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var o=s(n);if(o&&o.has(h))return o.get(h);var f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in h)if(d!=="default"&&Object.prototype.hasOwnProperty.call(h,d)){var p=u?Object.getOwnPropertyDescriptor(h,d):null;p&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=h[d]}return f.default=h,o&&o.set(h,f),f}function i(h){var n=new a.default({captureException:function(u){r.captureException(h,null,null,u)}}),o=function(u){h.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:u.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",o),function(){window.removeEventListener("unhandledrejection",o),n.uninstall()}}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){function c(a){return a===null?void 0:a}return l.stack?l.stack.map(function(a){return{lineNumber:c(a.line),columnNumber:c(a.column),fileName:c(a.url),functionName:c(a.func)}}):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=t("./packages/@logrocket/network/src/registerXHR.js"),r=[];function s(n,o){for(var f=r.reduce(function(y,g){return[g].concat(y)},[]),u=arguments.length,d=new Array(u>2?u-2:0),p=2;p<u;p++)d[p-2]=arguments[p];var m=Promise.resolve(d);return f.forEach(function(y){var g=y.request,T=y.requestError;(g||T)&&(m=m.then(function(S){return g.apply(void 0,[o].concat((0,c.default)(S)))},function(S){return T.apply(void 0,[o].concat((0,c.default)(S)))}))}),m=m.then(function(y){(0,a.setActive)(!1);var g,T;try{g=n.apply(void 0,(0,c.default)(y))}catch(S){T=S}if((0,a.setActive)(!0),T)throw T;return g}),f.forEach(function(y){var g=y.response,T=y.responseError;(g||T)&&(m=m.then(function(S){return g(o,S)},function(S){return T&&T(o,S)}))}),m}function e(n){if(!(!n.fetch||!n.Promise)){var o=n.fetch.polyfill;n.fetch=function(f){var u=0;return function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return s.apply(void 0,[f,u++].concat(p))}}(n.fetch),o&&(n.fetch.polyfill=o)}}var i=!1,h={register:function(o){return i||(i=!0,e(window)),r.push(o),function(){var f=r.indexOf(o);f>=0&&r.splice(f,1)}},clear:function(){r=[]}};x.default=h},"./packages/@logrocket/network/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=f;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),r=l(t("./packages/@logrocket/network/src/registerFetch.js")),s=t("./packages/@logrocket/network/src/registerIonic.ts"),e=l(t("./packages/@logrocket/network/src/registerNetworkInformation.js")),i=l(t("./packages/@logrocket/network/src/registerXHR.js")),h=l(t("./packages/@logrocket/utils/src/mapValues.js"));function n(u,d){var p=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);d&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(u,y).enumerable})),p.push.apply(p,m)}return p}function o(u){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?n(Object(p),!0).forEach(function(m){(0,c.default)(u,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(p,m))})}return u}function f(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isReactNative:!1},p=d.isReactNative,m=d.shouldAugmentNPS,y=d.shouldParseXHRBlob,g={},T=function(Y){var H=4096e3,j=Y;if((0,a.default)(Y)==="object"&&Y!=null){var J=Object.getPrototypeOf(Y);(J===Object.prototype||J===null)&&(j=JSON.stringify(Y))}if(j&&j.length&&j.length>H&&typeof j=="string"){var X=j.substring(0,1e3);return"".concat(X,` ... LogRocket truncating to first 1000 characters.
      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network`)}return Y},S=function(Y,H){var j=H.method;u.addEvent("lr.network.RequestEvent",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=J.isEnabled,W=X===void 0?!0:X,L=J.requestSanitizer,G=L===void 0?function($){return $}:L;if(!W)return null;var z=null;try{z=G(o(o({},H),{},{reqId:Y}))}catch($){console.error($)}if(z){var k=z.url;if(typeof document<"u"&&typeof document.createElement=="function"){var K=document.createElement("a");K.href=z.url,k=K.href}return{reqId:Y,url:k,headers:(0,h.default)(z.headers,function($){return"".concat($)}),body:T(z.body),method:j,referrer:z.referrer||void 0,mode:z.mode||void 0,credentials:z.credentials||void 0}}return g[Y]=!0,null})},C=function(Y,H){var j=H.method,J=H.status;u.addEvent("lr.network.ResponseEvent",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=X.isEnabled,L=W===void 0?!0:W,G=X.responseSanitizer,z=G===void 0?function(K){return K}:G;if(L){if(g[Y])return delete g[Y],null}else return null;var k=null;try{k=z(o(o({},H),{},{reqId:Y}))}catch(K){console.error(K)}return k?{reqId:Y,status:k.status,headers:(0,h.default)(k.headers,function(K){return"".concat(K)}),body:T(k.body),method:j}:{reqId:Y,status:J,headers:{},body:null,method:j}})},w=function(Y){return u.isDisabled||g[Y]===!0},b=(0,r.default)({addRequest:S,addResponse:C,isIgnored:w}),A=(0,i.default)({addRequest:S,addResponse:C,isIgnored:w,logger:u,shouldAugmentNPS:m,shouldParseXHRBlob:y}),D=(0,s.registerIonic)({addRequest:S,addResponse:C,isIgnored:w}),B=p?function(){}:(0,e.default)(u);return function(){B(),b(),A(),D()}}},"./packages/@logrocket/network/src/registerFetch.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=o;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=l(t("./packages/@logrocket/utils/src/mapValues.js")),r=l(t("./packages/@logrocket/network/src/fetchIntercept.js"));function s(f,u){var d=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);u&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),d.push.apply(d,p)}return d}function e(f){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?s(Object(d),!0).forEach(function(p){(0,c.default)(f,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(d)):s(Object(d)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(d,p))})}return f}function i(f){if(f==null||typeof f.forEach!="function")return f;var u={};return f.forEach(function(d,p){u[p]?u[p]="".concat(u[p],",").concat(d):u[p]="".concat(d)}),u}var h=function(u){return(0,a.default)(i(u),function(d){return"".concat(d)})};function n(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{url:f.url,headers:h(f.headers),method:f.method&&f.method.toUpperCase(),referrer:f.referrer||void 0,mode:f.mode||void 0,credentials:f.credentials||void 0}}function o(f){var u=f.addRequest,d=f.addResponse,p=f.isIgnored,m="fetch-",y={},g=r.default.register({request:function(S){for(var C=arguments.length,w=new Array(C>1?C-1:0),b=1;b<C;b++)w[b-1]=arguments[b];var A;if(typeof Request<"u"&&w[0]instanceof Request){var D;try{D=w[0].clone().text()}catch(B){D=Promise.resolve("LogRocket fetch error: ".concat(B.message))}A=D.then(function(B){return e(e({},n(w[0])),{},{body:B})},function(B){return e(e({},n(w[0])),{},{body:"LogRocket fetch error: ".concat(B.message)})})}else A=Promise.resolve(e(e({},n(w[1])),{},{url:"".concat(w[0]),body:(w[1]||{}).body}));return A.then(function(B){return y[S]=B.method,u("".concat(m).concat(S),B),w})},requestError:function(S,C){return Promise.reject(C)},response:function(S,C){var w,b;if(p("".concat(m).concat(S)))return C;try{w=C.clone()}catch(Y){var A={url:C.url,status:C.status,headers:h(C.headers),body:"LogRocket fetch error: ".concat(Y.message),method:y[S]};return delete y[S],d("".concat(m).concat(S),A),C}try{if(window.TextDecoder&&w.body){var D=w.body.getReader(),B=new window.TextDecoder("utf-8"),N="";b=D.read().then(function Y(H){var j=H.done,J=H.value;if(j)return N;var X=J?B.decode(J,{stream:!0}):"";return N+=X,D.read().then(Y)})}else b=w.text()}catch(Y){b=Promise.resolve("LogRocket error reading body: ".concat(Y.message))}return b.catch(function(Y){if(!(Y.name==="AbortError"&&Y instanceof DOMException))return"LogRocket error reading body: ".concat(Y.message)}).then(function(Y){var H={url:C.url,status:C.status,headers:h(C.headers),body:Y,method:y[S]};delete y[S],d("".concat(m).concat(S),H)}),C},responseError:function(S,C){var w={url:void 0,status:0,headers:{},body:"".concat(C)};return d("".concat(m).concat(S),w),Promise.reject(C)}});return g}},"./packages/@logrocket/network/src/registerIonic.ts":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.mergeHeaders=D,x.serializeQueryParams=J,x.appendQueryParamsString=X,x.processData=G,x.registerIonic=K;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),r=l(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),s=t("./packages/@logrocket/utils/src/index.js");function e($,Q){var _=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!_){if(Array.isArray($)||(_=i($))||Q&&$&&typeof $.length=="number"){_&&($=_);var tt=0,nt=function(){};return{s:nt,n:function(){return tt>=$.length?{done:!0}:{done:!1,value:$[tt++]}},e:function(mt){throw mt},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st=!0,at=!1,rt;return{s:function(){_=_.call($)},n:function(){var mt=_.next();return st=mt.done,mt},e:function(mt){at=!0,rt=mt},f:function(){try{!st&&_.return!=null&&_.return()}finally{if(at)throw rt}}}}function i($,Q){if($){if(typeof $=="string")return h($,Q);var _=Object.prototype.toString.call($).slice(8,-1);if(_==="Object"&&$.constructor&&(_=$.constructor.name),_==="Map"||_==="Set")return Array.from($);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return h($,Q)}}function h($,Q){(Q==null||Q>$.length)&&(Q=$.length);for(var _=0,tt=new Array(Q);_<Q;_++)tt[_]=$[_];return tt}function n($,Q){var _=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);Q&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor($,nt).enumerable})),_.push.apply(_,tt)}return _}function o($){for(var Q=1;Q<arguments.length;Q++){var _=arguments[Q]!=null?arguments[Q]:{};Q%2?n(Object(_),!0).forEach(function(tt){(0,c.default)($,tt,_[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(_)):n(Object(_)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(_,tt))})}return $}var f=new Set(["get","put","post","patch","head","delete","options","upload","download"]),u=new Set(["urlencoded","json","utf8"]),d=new Set(["raw","multipart"]),p="ionic-",m=new Set(["desktop","mobileweb","pwa"]),y=new Set(["FormData"]),g=new Set,T=new Set(["string"]),S=new Set(["string","array"]),C={utf8:T,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:g};function w($,Q,_){if(typeof Q!="string")throw new Error("".concat(_," must be one of: ").concat((0,r.default)($).join(", ")));if(Q=Q.trim().toLowerCase(),!$.has(Q))throw new Error("".concat(_," must be one of: ").concat((0,r.default)($).join(", ")));return Q}function b($,Q,_){if((0,a.default)($)!=="object")throw new Error(_);for(var tt=0,nt=Object.keys($);tt<nt.length;tt++){var st=nt[tt];if(!Q.has((0,a.default)($[st])))throw new Error(_)}return $}function A($,Q){var _=new URL($),tt=_.host;return Q.getHeaders(tt)||null}function D($,Q){return o(o({},$),Q)}function B($,Q,_){var tt=_.getHeaders("*")||{},nt=A($,_)||{};return D(D(tt,nt),Q)}function N($,Q){return Q?encodeURIComponent($):$}function Y($,Q,_){return $.length?_?"".concat(encodeURIComponent($),"[").concat(encodeURIComponent(Q),"]"):"".concat($,"[").concat(Q,"]"):_?encodeURIComponent(Q):Q}function H($,Q,_){var tt=[],nt=e(Q),st;try{for(nt.s();!(st=nt.n()).done;){var at=st.value;if(Array.isArray(at)){tt.push(H("".concat($,"[]"),at,_));continue}else if((0,a.default)(at)==="object"){tt.push(j("".concat($,"[]").concat(at),_,void 0));continue}tt.push("".concat(Y($,"",_),"=").concat(N(at,_)))}}catch(rt){nt.e(rt)}finally{nt.f()}return tt.join("&")}function j($,Q,_){var tt=[];for(var nt in Q)if(Q.hasOwnProperty(nt)){var st=$.length?"".concat($,"[").concat(nt,"]"):nt;if(Array.isArray(Q[nt])){tt.push(H(st,Q[nt],_));continue}else if((0,a.default)(Q[nt])==="object"&&Q[nt]!==null){tt.push(j(st,Q[nt],_));continue}tt.push("".concat(Y($,nt,_),"=").concat(N(Q[nt],_)))}return tt.join("&")}function J($,Q){return j("",$,Q)}function X($,Q){if(!$.length||!Q.length)return $;var _=new URL($),tt=_.host,nt=_.pathname,st=_.search,at=_.hash,rt=_.protocol;return"".concat(rt,"//").concat(tt).concat(nt).concat(st.length?"".concat(st,"&").concat(Q):"?".concat(Q)).concat(at)}function W($){return C[$]||C.default}function L($){return $==="multipart"?y:g}function G($,Q){var _=(0,a.default)($),tt=W(Q),nt=L(Q);if(nt.size>0){var st=!1;if(nt.forEach(function(at){t.g[at]&&$ instanceof t.g[at]&&(st=!0)}),!st)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,r.default)(nt).join(", ")))}if(nt.size===0&&!tt.has(_))throw new Error("TYPE_MISMATCH_DATA ".concat((0,r.default)(tt).join(", ")));switch(Q){case"utf8":return $;default:return JSON.stringify($,void 0,2)}}function z($,Q){$=$||{};var _,tt=$.data;try{_=w(u,$.serializer||Q.getDataSerializer(),"serializer / data payload type")}catch{_=w(d,$.serializer||Q.getDataSerializer(),"serializer / data payload type"),tt={}}return{data:tt,filePath:$.filePath,followRedirect:$.followRedirect,headers:b($.headers||{},T,"Invalid header type, must be string"),method:w(f,$.method||f[0],"method"),name:$.name,params:b($.params||{},S,"Invalid param, must be of type string or array"),responseType:$.responseType,serializer:_,connectTimeout:$.connectTimeout,readTimeout:$.readTimeout,timeout:$.timeout}}var k=0;function K($){var Q,_,tt,nt=$.addRequest,st=$.addResponse,at=$.isIgnored,rt=(Q=window.cordova)===null||Q===void 0||(_=Q.plugin)===null||_===void 0?void 0:_.http,dt={},mt=!1;if(typeof rt>"u")return function(){};var Tt=(tt=window.ionic)===null||tt===void 0?void 0:tt.platforms;if(typeof Tt<"u"&&typeof Tt.some=="function"&&Tt.some(function(vt){return m.has(vt)}))return function(){};var St=rt.sendRequest,ft=(0,s.protectFunc)(function(vt,et,ot){if(!at("".concat(p).concat(ot)))try{var ut={url:vt.url||"",status:vt.status<600&&vt.status>=100?vt.status:0,headers:vt.headers||{},body:et?vt.data:vt.error,method:dt[ot].toUpperCase()};st("".concat(p).concat(ot),ut)}catch(xt){var ct={url:vt.url||"",status:vt.status<600&&vt.status>=100?vt.status:0,headers:vt.headers||{},body:"LogRocket fetch error: ".concat(xt.message),method:dt[ot].toUpperCase()};st("".concat(p).concat(ot),ct)}});return rt.sendRequest=function(vt,et,ot,ut){var ct=++k,xt=function(ht){mt||(ft(ht,!0,ct),delete dt[ct]),ot(ht)},wt=function(ht){mt||(ft(ht,!1,ct),delete dt[ct]),ut(ht)};if(!mt)try{var pt=z(et,rt),Ct=X(vt,j("",pt.params,!0)),yt=B(vt,pt.headers,rt),Pt=pt.method||"get";dt[ct]=Pt;var At={url:Ct,method:Pt.toUpperCase(),headers:yt||{},body:G(pt.data||{},pt.serializer)};nt("".concat(p).concat(ct),At)}catch(Ht){var It={url:vt,method:(et.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(Ht.message)};nt("".concat(p).concat(ct),It)}return St(vt,et,xt,wt)},function(){mt=!0,rt.sendRequest=St,dt={}}}},"./packages/@logrocket/network/src/registerNetworkInformation.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=l;var t={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"};function l(c){var a=void 0;function r(){var s={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(s.effectiveType=t[window.navigator.connection.effectiveType]||"UNKNOWN"):s.effectiveType="NONE",!(a&&s.online===a.online&&s.effectiveType===a.effectiveType)&&(a=s,c.addEvent("lr.network.NetworkStatusEvent",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.isEnabled,h=i===void 0?!0:i;return h?s:null}))}return setTimeout(r),window.navigator.connection&&typeof window.navigator.connection.addEventListener=="function"&&window.navigator.connection.addEventListener("change",r),window.addEventListener("online",r),window.addEventListener("offline",r),function(){window.removeEventListener("offline",r),window.removeEventListener("online",r),window.navigator.connection&&typeof window.navigator.connection.removeEventListener=="function"&&window.navigator.connection.removeEventListener("change",r)}}},"./packages/@logrocket/network/src/registerXHR.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.setActive=i,x.default=n;var c=l(t("./packages/@logrocket/utils/src/mapValues.js")),a=l(t("./packages/@logrocket/utils/src/enhanceFunc.js")),r=l(t("./packages/@logrocket/utils/src/startsWith.js")),s=t("./packages/@logrocket/utils/src/constants/nps.js"),e=!0;function i(o){e=o}var h=0;function n(o){var f=o.addRequest,u=o.addResponse,d=o.isIgnored,p=o.logger,m=o.shouldAugmentNPS,y=m===void 0?!0:m,g=o.shouldParseXHRBlob,T=g===void 0?!1:g,S=XMLHttpRequest,C=new WeakMap,w=!1,b="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(D,B){var N=new S(D,B);if(!e)return N;C.set(N,{xhrId:++h,headers:{}});var Y=N.open;function H(){for(var W=arguments.length,L=new Array(W),G=0;G<W;G++)L[G]=arguments[G];try{var z=L[1];if(window.URL&&typeof window.URL=="function"&&z.search(s.WOOTRIC_RESPONSES_REGEX)===0){var k=new window.URL(p.recordingURL);k.searchParams.set("nps","wootric");var K=new window.URL(z),$=K.searchParams.get("response[text]"),Q=$?"".concat($,`

`):"";K.searchParams.set("response[text]","".concat(Q,"<").concat(k.href,"|View LogRocket session>")),L[1]=K.href}}catch{}return Y.apply(this,L)}var j=N.send;function J(){for(var W=arguments.length,L=new Array(W),G=0;G<W;G++)L[G]=arguments[G];try{var z=C.get(N);if(window.URL&&typeof window.URL=="function"&&z&&z.url&&z.url.search(s.DELIGHTED_RESPONSES_REGEX)===0&&L.length&&L[0].indexOf(s.DELIGHTED_FEEDBACK_PREFIX)!==-1){var k=new window.URL(p.recordingURL);k.searchParams.set("nps","delighted");var K=encodeURIComponent(k.href),$=L[0].split("&").map(function(Q){if((0,r.default)(Q,s.DELIGHTED_FEEDBACK_PREFIX)){var _=Q===s.DELIGHTED_FEEDBACK_PREFIX;return"".concat(Q).concat(_?"":`

`,"<").concat(K,"|View LogRocket session>")}return Q}).join("&");L[0]=$}}catch{}return j.apply(this,L)}y&&(N.open=H,N.send=J),(0,a.default)(N,"open",function(W,L){if(!w){var G=C.get(N);G.method=W,G.url=L}}),(0,a.default)(N,"send",function(W){if(!w){var L=C.get(N);if(L){var G={url:L.url,method:L.method&&L.method.toUpperCase(),headers:(0,c.default)(L.headers||{},function(z){return z.join(", ")}),body:W};f("".concat(b).concat(L.xhrId),G)}}}),(0,a.default)(N,"setRequestHeader",function(W,L){if(!w){var G=C.get(N);G&&(G.headers=G.headers||{},G.headers[W]=G.headers[W]||[],G.headers[W].push(L))}});var X={readystatechange:function(){if(!w&&N.readyState===4){var L=C.get(N);if(!L||d("".concat(b).concat(L.xhrId)))return;var G=N.getAllResponseHeaders()||"",z=G.split(/[\r\n]+/).reduce(function(Q,_){var tt=Q,nt=_.split(": ");if(nt.length>0){var st=nt.shift(),at=nt.join(": ");Q[st]?tt[st]+=", ".concat(at):tt[st]=at}return tt},{}),k;try{switch(N.responseType){case"json":k=p._shouldCloneResponse?JSON.parse(JSON.stringify(N.response)):N.response;break;case"arraybuffer":case"blob":{k=N.response;break}case"document":{k=N.responseXML;break}case"text":case"":{k=N.responseText;break}default:k=""}}catch{k="LogRocket: Error accessing response."}var K={url:L.url,status:N.status,headers:z,body:k,method:(L.method||"").toUpperCase()};if(T&&K.body instanceof Blob){var $=new FileReader;$.readAsText(K.body),$.onload=function(){try{K.body=JSON.parse($.result)}catch{}u("".concat(b).concat(L.xhrId),K)}}else u("".concat(b).concat(L.xhrId),K)}}};return Object.keys(X).forEach(function(W){N.addEventListener(W,X[W])}),N},XMLHttpRequest.prototype=S.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(A){XMLHttpRequest[A]=S[A]}),function(){w=!0,XMLHttpRequest=S}}},"./packages/@logrocket/now/src/index.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var t=Date.now.bind(Date),l=t(),c=typeof performance<"u"&&performance.now?performance.now.bind(performance):function(){return t()-l};x.default=c},"./packages/@logrocket/redux/src/createEnhancer.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=i;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=l(t("./packages/@logrocket/now/src/index.js"));function r(h,n){var o=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);n&&(f=f.filter(function(u){return Object.getOwnPropertyDescriptor(h,u).enumerable})),o.push.apply(o,f)}return o}function s(h){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?r(Object(o),!0).forEach(function(f){(0,c.default)(h,f,o[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(o,f))})}return h}var e=0;function i(h){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.stateSanitizer,f=o===void 0?function(p){return p}:o,u=n.actionSanitizer,d=u===void 0?function(p){return p}:u;return function(p){return function(m,y,g){var T=p(m,y,g),S=T.dispatch,C=e++;h.addEvent("lr.redux.InitialState",function(){var b;try{b=f(T.getState())}catch(A){console.error(A.toString())}return{state:b,storeId:C}});var w=function(A){var D=(0,a.default)(),B,N;try{N=S(A)}catch(H){B=H}finally{var Y=(0,a.default)()-D;h.addEvent("lr.redux.ReduxAction",function(){var H=null,j=null;try{H=f(T.getState()),j=d(A)}catch(J){console.error(J.toString())}return H&&j?{storeId:C,action:j,duration:Y,stateDelta:H}:null})}if(B)throw B;return N};return s(s({},T),{},{dispatch:w})}}}},"./packages/@logrocket/redux/src/createMiddleware.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=r;var c=l(t("./packages/@logrocket/now/src/index.js")),a=0;function r(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.stateSanitizer,h=i===void 0?function(f){return f}:i,n=e.actionSanitizer,o=n===void 0?function(f){return f}:n;return function(f){var u=a++;return s.addEvent("lr.redux.InitialState",function(){var d;try{d=h(f.getState())}catch(p){console.error(p.toString())}return{state:d,storeId:u}}),function(d){return function(p){var m=(0,c.default)(),y,g;try{g=d(p)}catch(S){y=S}finally{var T=(0,c.default)()-m;s.addEvent("lr.redux.ReduxAction",function(){var S=null,C=null;try{S=h(f.getState()),C=o(p)}catch(w){console.error(w.toString())}return S&&C?{storeId:u,action:C,duration:T,stateDelta:S}:null})}if(y)throw y;return g}}}}},"./packages/@logrocket/redux/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"createEnhancer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(x,"createMiddleware",{enumerable:!0,get:function(){return a.default}});var c=l(t("./packages/@logrocket/redux/src/createEnhancer.js")),a=l(t("./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":function(v,x,t){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var l={collectWindowErrors:!0,debug:!1},c=typeof window<"u"?window:typeof t.g<"u"?t.g:typeof self<"u"?self:{},a=[].slice,r="?",s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function e(){return typeof document>"u"||typeof document.location>"u"?"":document.location.href}l.report=function(){var n=[],o=null,f=null,u=null;function d(D){C(),n.push(D)}function p(D){for(var B=n.length-1;B>=0;--B)n[B]===D&&n.splice(B,1)}function m(){w(),n=[]}function y(D,B){var N=null;if(!(B&&!l.collectWindowErrors)){for(var Y in n)if(n.hasOwnProperty(Y))try{n[Y].apply(null,[D].concat(a.call(arguments,2)))}catch(H){N=H}if(N)throw N}}var g,T;function S(D,B,N,Y,H){var j=null;if(u)l.computeStackTrace.augmentStackTraceWithInitialElement(u,B,N,D),b();else if(H)j=l.computeStackTrace(H),y(j,!0);else{var J={url:B,line:N,column:Y},X=void 0,W=D,L;if({}.toString.call(D)==="[object String]"){var L=D.match(s);L&&(X=L[1],W=L[2])}J.func=r,j={name:X,message:W,url:e(),stack:[J]},y(j,!0)}return g?g.apply(this,arguments):!1}function C(){T||(g=c.onerror,c.onerror=S,T=!0)}function w(){T&&(c.onerror=g,T=!1,g=void 0)}function b(){var D=u,B=o;o=null,u=null,f=null,y.apply(null,[D,!1].concat(B))}function A(D,B){var N=a.call(arguments,1);if(u){if(f===D)return;b()}var Y=l.computeStackTrace(D);if(u=Y,f=D,o=N,setTimeout(function(){f===D&&b()},Y.incomplete?2e3:0),B!==!1)throw D}return A.subscribe=d,A.unsubscribe=p,A.uninstall=m,A}(),l.computeStackTrace=function(){function n(d){if(!(typeof d.stack>"u"||!d.stack)){var p=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,m=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,y=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,g=d.stack.split(`
`),T=[],S,C;/^(.*) is undefined$/.exec(d.message);for(var w=0,b=g.length;w<b;++w){if(S=p.exec(g[w])){var A=S[2]&&S[2].indexOf("native")!==-1;C={url:A?null:S[2],func:S[1]||r,args:A?[S[2]]:[],line:S[3]?+S[3]:null,column:S[4]?+S[4]:null}}else if(S=y.exec(g[w]))C={url:S[2],func:S[1]||r,args:[],line:+S[3],column:S[4]?+S[4]:null};else if(S=m.exec(g[w]))C={url:S[3],func:S[1]||r,args:S[2]?S[2].split(","):[],line:S[4]?+S[4]:null,column:S[5]?+S[5]:null};else continue;!C.func&&C.line&&(C.func=r),T.push(C)}return T.length?(!T[0].column&&typeof d.columnNumber<"u"&&(T[0].column=d.columnNumber+1),{name:d.name,message:d.message,url:e(),stack:T}):null}}function o(d,p,m,y){var g={url:p,line:m};if(g.url&&g.line){if(d.incomplete=!1,g.func||(g.func=r),d.stack.length>0&&d.stack[0].url===g.url){if(d.stack[0].line===g.line)return!1;if(!d.stack[0].line&&d.stack[0].func===g.func)return d.stack[0].line=g.line,!1}return d.stack.unshift(g),d.partial=!0,!0}else d.incomplete=!0;return!1}function f(d,p){for(var m=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,y=[],g={},T=!1,S,C,w=f.caller;w&&!T;w=w.caller)if(!(w===u||w===l.report)){if(C={url:null,func:r,line:null,column:null},w.name?C.func=w.name:(S=m.exec(w.toString()))&&(C.func=S[1]),typeof C.func>"u")try{C.func=S.input.substring(0,S.input.indexOf("{"))}catch{}g[""+w]?T=!0:g[""+w]=!0,y.push(C)}p&&y.splice(0,p);var b={name:d.name,message:d.message,url:e(),stack:y};return o(b,d.sourceURL||d.fileName,d.line||d.lineNumber,d.message||d.description),b}function u(d,p){var m=null;p=p==null?0:+p;try{if(m=n(d),m)return m}catch(y){if(l.debug)throw y}try{if(m=f(d,p+1),m)return m}catch(y){if(l.debug)throw y}return{name:d.name,message:d.message,url:e()}}return u.augmentStackTraceWithInitialElement=o,u.computeStackTraceFromStackProp=n,u}();var i=l;x.default=i},"./packages/@logrocket/utils/src/addListener.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return a.addEventListener(l,c,{capture:!0,passive:!0}),function(){a.removeEventListener(l,c,{capture:!0,passive:!0})}}},"./packages/@logrocket/utils/src/adjustOsVersion.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.adjustOsVersion=t,x.adjustOs=l;function t(c,a){var r=a;return a&&c.toLowerCase().replace(/\s/g,"").indexOf("macos")>-1&&(r=a.replace("10.15.7","10.15.7+")),r}function l(c){return t(c,c)}},"./packages/@logrocket/utils/src/applyUrlSanitizer.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=l.logger,a=l.url,r=a===void 0?"":a,s=c.getConfig("lr.browser")||{},e=s.urlSanitizer,i=e===void 0?function(n){return n}:e,h;try{h=i(r)}catch(n){console.error(n)}return typeof h=="string"?h:""}},"./packages/@logrocket/utils/src/browserUtils.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.getNodeName=t,x.getTargetForEvent=l,x.getNodePath=a;function t(r){return r.nodeName==="#document-fragment"&&r.mode==="open"?"$shadow-root":r.nodeName?r.nodeName.toLowerCase():""}function l(r){return typeof r.composedPath=="function"&&r.composed?r.composedPath()[0]:r.path?r.path[0]:r.target}var c=1e3;function a(r){for(var s=r,e=[],i=0;s&&(s.parentNode||s.host);){var h=t(s);if(h==="body")break;var n={nodeName:h},o=n.nodeName.length;if(s.id&&s.id.length>0&&(n.id=s.id,o+=s.id.length),s.classList&&s.classList.length>0){n.classList=Array.prototype.slice.call(s.classList,0);var f=Array.prototype.join.call(s.classList,"");f&&(o+=f.length)}if(i+o>c)break;if(s.parentNode&&s.parentNode.children)try{var u=0,d=s;do u+=1,d=d.previousElementSibling;while(d);n.nthChild=u}catch{}i+=o,e.push(n),s=s.parentNode||s.host}return e}},"./packages/@logrocket/utils/src/constants/demo.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.APP_PROACTIVE_INSIGHTS=x.SANDBOX_SOURCE_ORG_SLUG=x.DEMO_APP_ID=x.DEMO_APP_SLUG=x.DEMO_ORG_SLUG=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a="demo-kdz7k";x.DEMO_ORG_SLUG=a;var r="logrocket";x.DEMO_APP_SLUG=r;var s="".concat(a,"/").concat(r);x.DEMO_APP_ID=s;var e="sandbox-source";x.SANDBOX_SOURCE_ORG_SLUG=e;var i=(0,c.default)({},s,[{recordID:"1",tags:["Checkout","Lost Conversion"],date:"04/16/2021",frequency:100,impact:"100",description:'User attempting to checkout but "Buy Now" button is unresponsive',rootCause:'Cannot read "key" of undefined',issueLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/issue/g49?from=issues&issueType=EXCEPTION&issueTypeOption=EXCEPTION",sessionLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/s/4-9db65df9-57a5-4b94-b3d7-be87886b64ab/0?fromTab=latest",metricLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/metrics/4/metric/25",ticketUrl:""},{recordID:"2",tags:["New User","Lost Signup"],date:"04/16/2021",frequency:75,impact:"75",description:"User lands on blank page after login flow.",rootCause:"Network Failure 500 Get",issueLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/issue/829?from=issues&issueType=NETWORK_ERROR&issueTypeOption=NETWORK_ERROR",sessionLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/s/4-9db65df9-57a5-4b94-b3d7-be87886b64ab/0?fromTab=latest",metricLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/metrics/4/metric/25",ticketUrl:""},{recordID:"3",tags:["UX","Poor Experience"],date:"04/16/2021",frequency:50,impact:"50",description:"User attempts to edit amount in cart but sees red error message.",rootCause:"TypeError: S is undefined",issueLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/issue/17?from=issues%2Fneeds-triage&issueOffset=10&issueType=EXCEPTION",sessionLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/s/4-9db65df9-57a5-4b94-b3d7-be87886b64ab/0?fromTab=latest",metricLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/metrics/4/metric/25",ticketUrl:""},{recordID:"4",tags:["UX","Poor Experience"],date:"04/16/2021",frequency:25,impact:"25",description:'Trend: User noticed rage-clicking on "Add to cart". Sluggish responsiveness but eventually works.',rootCause:"unclear; noticed with Rage Click filter",issueLink:"",sessionLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/s/4-9db65df9-57a5-4b94-b3d7-be87886b64ab/0?fromTab=latest",metricLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/metrics/4/metric/25",ticketUrl:""},{recordID:"5",tags:["UX","Poor Experience"],date:"04/16/2021",frequency:50,impact:"50",description:'Trend: Users seen struggling to click/accept the "we use cookies ... ok" button.',rootCause:"unclear; noticed with Rage Click filter",issueLink:"",sessionLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/s/4-9db65df9-57a5-4b94-b3d7-be87886b64ab/0?fromTab=latest",metricLink:"https://demo.logrocket.com/demo-kdz7k/logrocket/metrics/4/metric/25",ticketUrl:""}]);x.APP_PROACTIVE_INSIGHTS=i},"./packages/@logrocket/utils/src/constants/issues.ts":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.ES_ISSUE_TYPE_BASE_FILTER=x.ES_ISSUE_TYPES=x.ISSUE_GROUP_TYPE=x.ISSUE_TYPE=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a,r={EXCEPTION:"EXCEPTION",NETWORK_ERROR:"NETWORK_ERROR",RAGE_CLICK:"RAGE_CLICK",DEAD_CLICK:"DEAD_CLICK",FRUSTRATING_NETWORK:"FRUSTRATING_NETWORK",ERROR_STATE:"ERROR_STATE"};x.ISSUE_TYPE=r;var s={ENCODED_FILTER:"ENCODED_FILTER",SENTRY:"SENTRY",TROYTOWN:"TROYTOWN"};x.ISSUE_GROUP_TYPE=s;var e=[r.RAGE_CLICK,r.DEAD_CLICK,r.FRUSTRATING_NETWORK,r.ERROR_STATE];x.ES_ISSUE_TYPES=e;var i=(a={},(0,c.default)(a,r.RAGE_CLICK,{rageClicked:{operator:"TEXT_IS",strings:[]}}),(0,c.default)(a,r.DEAD_CLICK,{deadClicked:{operator:"TEXT_IS",strings:[]}}),a);x.ES_ISSUE_TYPE_BASE_FILTER=i},"./packages/@logrocket/utils/src/constants/logTypes.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.LOG_FILTER_TYPES=x.LOG_TYPES=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a,r={LOG:"LOG",WARN:"WARN",ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",REDUX:"REDUX",NAVIGATION:"NAVIGATION",NETWORK:"NETWORK",PREV_SESSION:"PREV_SESSION",NEXT_SESSION:"NEXT_SESSION",LOAD_MORE:"LOAD_MORE",EXCEPTION:"EXCEPTION"};x.LOG_TYPES=r;var s=(a={},(0,c.default)(a,r.LOG,{label:"Logs",filterLabel:"Log",types:[r.LOG]}),(0,c.default)(a,r.WARN,{label:"Warnings",filterLabel:"Warning",types:[r.WARN]}),(0,c.default)(a,r.ERROR,{label:"Errors",filterLabel:"Error",types:[r.ERROR,r.EXCEPTION]}),(0,c.default)(a,r.INFO,{label:"Info",filterLabel:"Info",types:[r.INFO]}),(0,c.default)(a,r.DEBUG,{label:"Debug",filterLabel:"Debug",types:[r.DEBUG]}),(0,c.default)(a,r.REDUX,{label:"Redux",types:[r.REDUX]}),(0,c.default)(a,r.NAVIGATION,{label:"Navigation",types:[r.NAVIGATION]}),a);x.LOG_FILTER_TYPES=s},"./packages/@logrocket/utils/src/constants/metrics.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR=x.DEFAULT_HEATMAP_FOR_URL_OPERATOR=x.nextSortDirection=x.SORT_DIRECTION=x.FEEDBACK_SORT_COLUMN=x.HEATMAP_FOR_URL_OPERATOR=x.METRIC_RETENTION_TYPE=x.METRIC_TIMESERIES_TYPE=void 0;var t={SESSION_COUNT:"SESSION_COUNT",PERCENTILE:"PERCENTILE",CONVERSION_RATE:"CONVERSION_RATE",SESSION_PERCENTAGE:"SESSION_PERCENTAGE",ACTIVE_USERS:"ACTIVE_USERS",EVENT_COUNT:"EVENT_COUNT"};x.METRIC_TIMESERIES_TYPE=t;var l={USER_PERCENTAGE:"USER_PERCENTAGE"};x.METRIC_RETENTION_TYPE=l;var c={IS:"IS",CONTAINS:"CONTAINS",LIKE:"LIKE",HREF_LIKE:"HREF_LIKE"};x.HEATMAP_FOR_URL_OPERATOR=c;var a={RATING:"RATING",SUBMISSION_DATE:"SUBMISSION_DATE"};x.FEEDBACK_SORT_COLUMN=a;var r={UNSET:"UNSET",ASC:"ASC",DESC:"DESC"};x.SORT_DIRECTION=r;var s=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=o.reverse,u=f===void 0?!1:f,d=r.UNSET,p=r.ASC,m=r.DESC,y=[d,m,p];u&&(y=[d,p,m]);var g=y.indexOf(n);return y[(g+1)%y.length]};x.nextSortDirection=s;var e=c.IS;x.DEFAULT_HEATMAP_FOR_URL_OPERATOR=e;var i=c.HREF_LIKE;x.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR=i},"./packages/@logrocket/utils/src/constants/mobile.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.MAXIMUM_SUPPORTED_VERSION=x.MINIMUM_SUPPORTED_VERSION=x.IOS_VERSION=x.ANDROID_VERSION=void 0;var t="1.16.4";x.ANDROID_VERSION=t;var l="1.16.4";x.IOS_VERSION=l;var c="1.0.0";x.MINIMUM_SUPPORTED_VERSION=c;var a="1.17.0";x.MAXIMUM_SUPPORTED_VERSION=a},"./packages/@logrocket/utils/src/constants/nps.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.DELIGHTED_FEEDBACK_PREFIX=x.DELIGHTED_RESPONSES_REGEX=x.WOOTRIC_RESPONSES_REGEX=void 0;var t=/^https:\/\/production.wootric.com\/responses/;x.WOOTRIC_RESPONSES_REGEX=t;var l=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/;x.DELIGHTED_RESPONSES_REGEX=l;var c="comment=";x.DELIGHTED_FEEDBACK_PREFIX=c},"./packages/@logrocket/utils/src/constants/pageLoadMetrics.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.knownMetricTypes=void 0;var t=["cumulativeLayoutShift","firstInputDelay","initialPageLoadTime","largestContentfulPaintTime","timeToFirstByte"];x.knownMetricTypes=t},"./packages/@logrocket/utils/src/constants/replayTypes.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.REPLAY_TYPE=void 0;var t;x.REPLAY_TYPE=t,function(l){l.SKIA="SKIA",l.DOM="DOM",l.PDF="PDF"}(t||(x.REPLAY_TYPE=t={}))},"./packages/@logrocket/utils/src/constants/sdkTypes.ts":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.SESSION_TYPE_TO_DISPLAY=x.SDK_REPLAY_TYPE=x.SDK_TYPE_TO_DISPLAY=x.SDK_TYPE=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=t("./packages/@logrocket/utils/src/constants/replayTypes.ts"),r,s,e;x.SDK_TYPE=e,function(o){o.WEB="web",o.MOBILE="mobile",o.UNKNOWN="unknown"}(e||(x.SDK_TYPE=e={}));var i=(r={},(0,c.default)(r,e.WEB,"Web"),(0,c.default)(r,e.MOBILE,"Mobile"),r);x.SDK_TYPE_TO_DISPLAY=i;var h=(s={},(0,c.default)(s,e.WEB,a.REPLAY_TYPE.DOM),(0,c.default)(s,e.MOBILE,a.REPLAY_TYPE.SKIA),s);x.SDK_REPLAY_TYPE=h;var n=i;x.SESSION_TYPE_TO_DISPLAY=n},"./packages/@logrocket/utils/src/constants/statusCodes.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.getStatusText=l,x.STATUS_CODES=void 0;var t={0:"",100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};x.STATUS_CODES=t;function l(c){return t[String(c)]}},"./packages/@logrocket/utils/src/contains.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){return l&&c&&l.indexOf(c)>-1}},"./packages/@logrocket/utils/src/deepArsonify.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=s;var c=r(t("./packages/@logrocket/arson/src/index.js"));function a(e){if(typeof WeakMap!="function")return null;var i=new WeakMap,h=new WeakMap;return(a=function(o){return o?h:i})(e)}function r(e,i){if(!i&&e&&e.__esModule)return e;if(e===null||l(e)!=="object"&&typeof e!="function")return{default:e};var h=a(i);if(h&&h.has(e))return h.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if(f!=="default"&&Object.prototype.hasOwnProperty.call(e,f)){var u=o?Object.getOwnPropertyDescriptor(e,f):null;u&&(u.get||u.set)?Object.defineProperty(n,f,u):n[f]=e[f]}return n.default=e,h&&h.set(e,n),n}function s(e){return{arson:c.encode(e)}}},"./packages/@logrocket/utils/src/deepDearsonify.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=s;var c=r(t("./packages/@logrocket/arson/src/index.js"));function a(e){if(typeof WeakMap!="function")return null;var i=new WeakMap,h=new WeakMap;return(a=function(o){return o?h:i})(e)}function r(e,i){if(!i&&e&&e.__esModule)return e;if(e===null||l(e)!=="object"&&typeof e!="function")return{default:e};var h=a(i);if(h&&h.has(e))return h.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if(f!=="default"&&Object.prototype.hasOwnProperty.call(e,f)){var u=o?Object.getOwnPropertyDescriptor(e,f):null;u&&(u.get||u.set)?Object.defineProperty(n,f,u):n[f]=e[f]}return n.default=e,h&&h.set(e,n),n}function s(e){return e&&c.decode(e.arson)}},"./packages/@logrocket/utils/src/demo.js":function(v,x,t){Object.defineProperty(x,"__esModule",{value:!0}),x.isSandboxOrg=x.isDemoOrg=x.isDemoApp=x.isDemoAppOrSandbox=void 0;var l=t("./packages/@logrocket/utils/src/constants/demo.js"),c=function(i){return i===l.DEMO_APP_ID||i.split("/")[0]===l.SANDBOX_SOURCE_ORG_SLUG};x.isDemoAppOrSandbox=c;var a=function(i){return i===l.DEMO_APP_ID};x.isDemoApp=a;var r=function(i){if(!i)return!1;var h=i.split("/")[0];return h===l.DEMO_ORG_SLUG||h===l.SANDBOX_SOURCE_ORG_SLUG};x.isDemoOrg=r;var s=function(i){if(!i)return!1;var h=i.split("/")[0];return h===l.SANDBOX_SOURCE_ORG_SLUG};x.isSandboxOrg=s},"./packages/@logrocket/utils/src/endsWith.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){return l&&c&&l.substring(l.length-c.length)===c}},"./packages/@logrocket/utils/src/enhanceFunc.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c,a){var r=l[c];function s(){for(var e,i=arguments.length,h=new Array(i),n=0;n<i;n++)h[n]=arguments[n];return r&&(e=r.apply(this,h)),a.apply(this,h),e}return l[c]=s,function(){l[c]=r}}},"./packages/@logrocket/utils/src/find.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){for(var a=0;a<l.length;a++)if(c(l[a]))return l[a]}},"./packages/@logrocket/utils/src/findIndex.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){for(var a=0;a<l.length;a++)if(c(l[a]))return a;return-1}},"./packages/@logrocket/utils/src/findKeyFrames.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=a;var c=l(t("./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js"));function a(r,s){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.sdkThrottle,h=i===void 0?500:i;if(!r.length)return null;var n=(0,c.default)(r,{time:s},"time"),o=r[n]||r[n-1],f=r[n-1]||o,u=Math.min(o.time-f.time,h),d=Math.max(s-(o.time-u),0),p=u===0?1:Math.min(d/u,1);return{prev:f,next:o,ratio:p}}},"./packages/@logrocket/utils/src/flatten.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){return l.concat(c)}},"./packages/@logrocket/utils/src/getCssRules.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.getCssRule=x.getCssRules=void 0;var t=function(a){try{var r=a.cssRules;return!r&&a instanceof CSSStyleSheet?a.rules:r}catch{return null}};x.getCssRules=t;var l=function(a,r){var s=t(a);return!s||r>=s.length?null:s.item(r)};x.getCssRule=l},"./packages/@logrocket/utils/src/getGraphQLOperation.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){if(l)try{var c=typeof l=="string"?JSON.parse(l):l,a=c.query.trim(),r=a.match(/(query|mutation) ([a-z_-]+)/i);return r?{operationType:r[1],operationName:r[2]}:{}}catch{return{}}return{}}},"./packages/@logrocket/utils/src/getMockDeveloperUser.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(){return{permissions:{dashboard:{metrics:!0,errors:!0},sessionPlayback:{developerPane:{networkPane:{requestBodiesAndHeaders:!0}}}},appRoles:[]}}},"./packages/@logrocket/utils/src/getNodeSelector.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=l(t("./packages/@logrocket/utils/src/protectFunc.js")),a=(0,c.default)(function(s){var e=s.nodeName?s.nodeName.toLowerCase():"",i={nodeName:e};return s.id&&s.id.length>0&&(i.id=s.id),s.classList&&s.classList.length>0&&(i.classList=Array.prototype.slice.call(s.classList,0)),i}),r=a;x.default=r},"./packages/@logrocket/utils/src/hashString.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.combineHashes=x.hashString=void 0;var c=l(t("./packages/@logrocket/utils/src/protectFunc.js")),a=t("./packages/@logrocket/utils/src/sendTelemetryData.js");function r(n,o){var f=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!f){if(Array.isArray(n)||(f=s(n))||o&&n&&typeof n.length=="number"){f&&(n=f);var u=0,d=function(){};return{s:d,n:function(){return u>=n.length?{done:!0}:{done:!1,value:n[u++]}},e:function(T){throw T},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,y;return{s:function(){f=f.call(n)},n:function(){var T=f.next();return p=T.done,T},e:function(T){m=!0,y=T},f:function(){try{!p&&f.return!=null&&f.return()}finally{if(m)throw y}}}}function s(n,o){if(n){if(typeof n=="string")return e(n,o);var f=Object.prototype.toString.call(n).slice(8,-1);if(f==="Object"&&n.constructor&&(f=n.constructor.name),f==="Map"||f==="Set")return Array.from(n);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return e(n,o)}}function e(n,o){(o==null||o>n.length)&&(o=n.length);for(var f=0,u=new Array(o);f<o;f++)u[f]=n[f];return u}var i=(0,c.default)(function(n){try{var o=0;if(typeof n=="string"&&n.length)for(var f=0;f<n.length;f++)o=31*o+n.charCodeAt(f),o|=0;return o}catch{return(0,a.sendTelemetry)("Failed to hash string",{extra:{str:n}}),null}});x.hashString=i;var h=function(o){var f=o.shift()||0,u=r(o),d;try{for(u.s();!(d=u.n()).done;){var p=d.value;f^=p+2654435769+(f<<6)+(f>>2)}}catch(m){u.e(m)}finally{u.f()}return f};x.combineHashes=h},"./packages/@logrocket/utils/src/identityStatus.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.parseIdentityStatus=l,x.IdentityStatus=void 0;var t;x.IdentityStatus=t,function(c){c[c.Unknown=0]="Unknown",c[c.Anonymous=1]="Anonymous",c[c.Identified=2]="Identified"}(t||(x.IdentityStatus=t={}));function l(c){if(!c)return t.Unknown;switch(parseInt(c,10)){case t.Anonymous:return t.Anonymous;case t.Identified:return t.Identified;default:return t.Unknown}}},"./packages/@logrocket/utils/src/index.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),c=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(x,"__esModule",{value:!0});var a={enhanceFunc:!0,shallowArsonify:!0,shallowDearsonify:!0,deepArsonify:!0,deepDearsonify:!0,addListener:!0,protectFunc:!0,findIndex:!0,find:!0,flatten:!0,selectorMatches:!0,parseSelectorForMatch:!0,parseSelectorForSearch:!0,ParsedSelector:!0,isInvalidSelector:!0,querySelectorWithShadowDom:!0,sendErrorTelemetry:!0,sendTelemetry:!0,sanitizeValue:!0,adjustOs:!0,adjustOsVersion:!0,selectorFromNodePath:!0,startsWith:!0,endsWith:!0,contains:!0,uuid:!0,randomInt:!0,getCssRules:!0,getCssRule:!0,getNodeSelector:!0,getGraphQLOperation:!0,isSessionEvent:!0,isActivityEvent:!0,parseIntFromHex:!0,isRecordingSampled:!0,makeRecordingID:!0,setFromArray:!0,setToArray:!0,applyUrlSanitizer:!0,getMockDeveloperUser:!0,isDemoAppOrSandbox:!0,isDemoOrg:!0,isSandboxOrg:!0,isDemoApp:!0,LOG_FILTER_TYPES:!0,LOG_TYPES:!0,METRIC_TIMESERIES_TYPE:!0,HEATMAP_FOR_URL_OPERATOR:!0,DEFAULT_HEATMAP_FOR_URL_OPERATOR:!0,DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR:!0,SORT_DIRECTION:!0,FEEDBACK_SORT_COLUMN:!0,METRIC_RETENTION_TYPE:!0,ISSUE_TYPE:!0,ISSUE_GROUP_TYPE:!0,ES_ISSUE_TYPE_BASE_FILTER:!0,ES_ISSUE_TYPES:!0,findKeyFrames:!0,interpolate:!0,interpolateMobile:!0,removeOutdated:!0,APP_PROACTIVE_INSIGHTS:!0,DEMO_ORG_SLUG:!0,DEMO_APP_SLUG:!0,DEMO_APP_ID:!0,SANDBOX_SOURCE_ORG_SLUG:!0,knownMetricTypes:!0,DELIGHTED_RESPONSES_REGEX:!0,WOOTRIC_RESPONSES_REGEX:!0,REPLAY_TYPE:!0,SDK_REPLAY_TYPE:!0,SDK_TYPE:!0,SDK_TYPE_TO_DISPLAY:!0,SESSION_TYPE_TO_DISPLAY:!0,STATUS_CODES:!0,getStatusText:!0,parseQueryString:!0,likeOperator:!0,scrollMapHistogramToPercent:!0,combineHashes:!0,hashString:!0,ValueOf:!0,MakeOptional:!0,encodeUserTraitString:!0,parseUserTraitString:!0,IdentityStatus:!0,parseIdentityStatus:!0,MobileConstants:!0};Object.defineProperty(x,"enhanceFunc",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(x,"shallowArsonify",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(x,"shallowDearsonify",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(x,"deepArsonify",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(x,"deepDearsonify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(x,"addListener",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(x,"protectFunc",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(x,"findIndex",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(x,"find",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(x,"flatten",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(x,"selectorMatches",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(x,"parseSelectorForMatch",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(x,"parseSelectorForSearch",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(x,"ParsedSelector",{enumerable:!0,get:function(){return y.ParsedSelector}}),Object.defineProperty(x,"isInvalidSelector",{enumerable:!0,get:function(){return y.isInvalidSelector}}),Object.defineProperty(x,"querySelectorWithShadowDom",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(x,"sendErrorTelemetry",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(x,"sendTelemetry",{enumerable:!0,get:function(){return T.sendTelemetry}}),Object.defineProperty(x,"sanitizeValue",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(x,"adjustOs",{enumerable:!0,get:function(){return C.adjustOs}}),Object.defineProperty(x,"adjustOsVersion",{enumerable:!0,get:function(){return C.adjustOsVersion}}),Object.defineProperty(x,"selectorFromNodePath",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(x,"startsWith",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(x,"endsWith",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(x,"contains",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(x,"uuid",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(x,"randomInt",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(x,"getCssRules",{enumerable:!0,get:function(){return Y.getCssRules}}),Object.defineProperty(x,"getCssRule",{enumerable:!0,get:function(){return Y.getCssRule}}),Object.defineProperty(x,"getNodeSelector",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(x,"getGraphQLOperation",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(x,"isSessionEvent",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(x,"isActivityEvent",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(x,"parseIntFromHex",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(x,"isRecordingSampled",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(x,"makeRecordingID",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(x,"setFromArray",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(x,"setToArray",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(x,"applyUrlSanitizer",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(x,"getMockDeveloperUser",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(x,"isDemoAppOrSandbox",{enumerable:!0,get:function(){return Q.isDemoAppOrSandbox}}),Object.defineProperty(x,"isDemoOrg",{enumerable:!0,get:function(){return Q.isDemoOrg}}),Object.defineProperty(x,"isSandboxOrg",{enumerable:!0,get:function(){return Q.isSandboxOrg}}),Object.defineProperty(x,"isDemoApp",{enumerable:!0,get:function(){return Q.isDemoApp}}),Object.defineProperty(x,"LOG_FILTER_TYPES",{enumerable:!0,get:function(){return _.LOG_FILTER_TYPES}}),Object.defineProperty(x,"LOG_TYPES",{enumerable:!0,get:function(){return _.LOG_TYPES}}),Object.defineProperty(x,"METRIC_TIMESERIES_TYPE",{enumerable:!0,get:function(){return tt.METRIC_TIMESERIES_TYPE}}),Object.defineProperty(x,"HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return tt.HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(x,"DEFAULT_HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return tt.DEFAULT_HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(x,"DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return tt.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(x,"SORT_DIRECTION",{enumerable:!0,get:function(){return tt.SORT_DIRECTION}}),Object.defineProperty(x,"FEEDBACK_SORT_COLUMN",{enumerable:!0,get:function(){return tt.FEEDBACK_SORT_COLUMN}}),Object.defineProperty(x,"METRIC_RETENTION_TYPE",{enumerable:!0,get:function(){return tt.METRIC_RETENTION_TYPE}}),Object.defineProperty(x,"ISSUE_TYPE",{enumerable:!0,get:function(){return nt.ISSUE_TYPE}}),Object.defineProperty(x,"ISSUE_GROUP_TYPE",{enumerable:!0,get:function(){return nt.ISSUE_GROUP_TYPE}}),Object.defineProperty(x,"ES_ISSUE_TYPE_BASE_FILTER",{enumerable:!0,get:function(){return nt.ES_ISSUE_TYPE_BASE_FILTER}}),Object.defineProperty(x,"ES_ISSUE_TYPES",{enumerable:!0,get:function(){return nt.ES_ISSUE_TYPES}}),Object.defineProperty(x,"findKeyFrames",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(x,"interpolate",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(x,"interpolateMobile",{enumerable:!0,get:function(){return at.interpolateMobile}}),Object.defineProperty(x,"removeOutdated",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(x,"APP_PROACTIVE_INSIGHTS",{enumerable:!0,get:function(){return dt.APP_PROACTIVE_INSIGHTS}}),Object.defineProperty(x,"DEMO_ORG_SLUG",{enumerable:!0,get:function(){return dt.DEMO_ORG_SLUG}}),Object.defineProperty(x,"DEMO_APP_SLUG",{enumerable:!0,get:function(){return dt.DEMO_APP_SLUG}}),Object.defineProperty(x,"DEMO_APP_ID",{enumerable:!0,get:function(){return dt.DEMO_APP_ID}}),Object.defineProperty(x,"SANDBOX_SOURCE_ORG_SLUG",{enumerable:!0,get:function(){return dt.SANDBOX_SOURCE_ORG_SLUG}}),Object.defineProperty(x,"knownMetricTypes",{enumerable:!0,get:function(){return mt.knownMetricTypes}}),Object.defineProperty(x,"DELIGHTED_RESPONSES_REGEX",{enumerable:!0,get:function(){return Tt.DELIGHTED_RESPONSES_REGEX}}),Object.defineProperty(x,"WOOTRIC_RESPONSES_REGEX",{enumerable:!0,get:function(){return Tt.WOOTRIC_RESPONSES_REGEX}}),Object.defineProperty(x,"REPLAY_TYPE",{enumerable:!0,get:function(){return St.REPLAY_TYPE}}),Object.defineProperty(x,"SDK_REPLAY_TYPE",{enumerable:!0,get:function(){return ft.SDK_REPLAY_TYPE}}),Object.defineProperty(x,"SDK_TYPE",{enumerable:!0,get:function(){return ft.SDK_TYPE}}),Object.defineProperty(x,"SDK_TYPE_TO_DISPLAY",{enumerable:!0,get:function(){return ft.SDK_TYPE_TO_DISPLAY}}),Object.defineProperty(x,"SESSION_TYPE_TO_DISPLAY",{enumerable:!0,get:function(){return ft.SESSION_TYPE_TO_DISPLAY}}),Object.defineProperty(x,"STATUS_CODES",{enumerable:!0,get:function(){return vt.STATUS_CODES}}),Object.defineProperty(x,"getStatusText",{enumerable:!0,get:function(){return vt.getStatusText}}),Object.defineProperty(x,"parseQueryString",{enumerable:!0,get:function(){return et.parseQueryString}}),Object.defineProperty(x,"likeOperator",{enumerable:!0,get:function(){return ot.likeOperator}}),Object.defineProperty(x,"scrollMapHistogramToPercent",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(x,"combineHashes",{enumerable:!0,get:function(){return ct.combineHashes}}),Object.defineProperty(x,"hashString",{enumerable:!0,get:function(){return ct.hashString}}),Object.defineProperty(x,"ValueOf",{enumerable:!0,get:function(){return xt.ValueOf}}),Object.defineProperty(x,"MakeOptional",{enumerable:!0,get:function(){return xt.MakeOptional}}),Object.defineProperty(x,"encodeUserTraitString",{enumerable:!0,get:function(){return wt.encodeUserTraitString}}),Object.defineProperty(x,"parseUserTraitString",{enumerable:!0,get:function(){return wt.parseUserTraitString}}),Object.defineProperty(x,"IdentityStatus",{enumerable:!0,get:function(){return pt.IdentityStatus}}),Object.defineProperty(x,"parseIdentityStatus",{enumerable:!0,get:function(){return pt.parseIdentityStatus}}),x.MobileConstants=void 0;var r=l(t("./packages/@logrocket/utils/src/enhanceFunc.js")),s=l(t("./packages/@logrocket/utils/src/shallowArsonify.js")),e=l(t("./packages/@logrocket/utils/src/shallowDearsonify.js")),i=l(t("./packages/@logrocket/utils/src/deepArsonify.js")),h=l(t("./packages/@logrocket/utils/src/deepDearsonify.js")),n=l(t("./packages/@logrocket/utils/src/addListener.js")),o=l(t("./packages/@logrocket/utils/src/protectFunc.js")),f=l(t("./packages/@logrocket/utils/src/findIndex.js")),u=l(t("./packages/@logrocket/utils/src/find.js")),d=l(t("./packages/@logrocket/utils/src/flatten.js")),p=l(t("./packages/@logrocket/utils/src/selectorMatches.js")),m=l(t("./packages/@logrocket/utils/src/parseSelectorForMatch.js")),y=Ht(t("./packages/@logrocket/utils/src/parseSelectorForSearch.ts")),g=l(t("./packages/@logrocket/utils/src/querySelectorWithShadowDom.js")),T=Ht(t("./packages/@logrocket/utils/src/sendTelemetryData.js")),S=l(t("./packages/@logrocket/utils/src/sanitizeValue.js")),C=t("./packages/@logrocket/utils/src/adjustOsVersion.ts"),w=l(t("./packages/@logrocket/utils/src/selectorFromNodePath.js")),b=l(t("./packages/@logrocket/utils/src/startsWith.js")),A=l(t("./packages/@logrocket/utils/src/endsWith.js")),D=l(t("./packages/@logrocket/utils/src/contains.js")),B=l(t("./packages/@logrocket/utils/src/uuid.js")),N=l(t("./packages/@logrocket/utils/src/randomInt.js")),Y=t("./packages/@logrocket/utils/src/getCssRules.ts"),H=l(t("./packages/@logrocket/utils/src/getNodeSelector.js")),j=l(t("./packages/@logrocket/utils/src/getGraphQLOperation.js")),J=l(t("./packages/@logrocket/utils/src/isSessionEvent.js")),X=l(t("./packages/@logrocket/utils/src/isActivityEvent.js")),W=l(t("./packages/@logrocket/utils/src/parseIntFromHex.js")),L=l(t("./packages/@logrocket/utils/src/isRecordingSampled.js")),G=l(t("./packages/@logrocket/utils/src/makeRecordingID.js")),z=l(t("./packages/@logrocket/utils/src/setFromArray.js")),k=l(t("./packages/@logrocket/utils/src/setToArray.js")),K=l(t("./packages/@logrocket/utils/src/applyUrlSanitizer.js")),$=l(t("./packages/@logrocket/utils/src/getMockDeveloperUser.js")),Q=t("./packages/@logrocket/utils/src/demo.js"),_=t("./packages/@logrocket/utils/src/constants/logTypes.js"),tt=t("./packages/@logrocket/utils/src/constants/metrics.js"),nt=t("./packages/@logrocket/utils/src/constants/issues.ts"),st=l(t("./packages/@logrocket/utils/src/findKeyFrames.js")),at=Ht(t("./packages/@logrocket/utils/src/interpolate.js")),rt=l(t("./packages/@logrocket/utils/src/removeOutdated.js")),dt=t("./packages/@logrocket/utils/src/constants/demo.js"),mt=t("./packages/@logrocket/utils/src/constants/pageLoadMetrics.js"),Tt=t("./packages/@logrocket/utils/src/constants/nps.js"),St=t("./packages/@logrocket/utils/src/constants/replayTypes.ts"),ft=t("./packages/@logrocket/utils/src/constants/sdkTypes.ts"),vt=t("./packages/@logrocket/utils/src/constants/statusCodes.ts"),et=t("./packages/@logrocket/utils/src/parseQueryString.js"),ot=t("./packages/@logrocket/utils/src/likeOperator.js"),ut=l(t("./packages/@logrocket/utils/src/scrollMapHistogramToPercent.js")),ct=t("./packages/@logrocket/utils/src/hashString.js"),xt=t("./packages/@logrocket/utils/src/types.ts"),wt=t("./packages/@logrocket/utils/src/userTraitStrings.ts"),pt=t("./packages/@logrocket/utils/src/identityStatus.ts"),Ct=Ht(t("./packages/@logrocket/utils/src/constants/mobile.ts"));x.MobileConstants=Ct;var yt=t("./packages/@logrocket/utils/src/browserUtils.js");Object.keys(yt).forEach(function(ht){ht==="default"||ht==="__esModule"||Object.prototype.hasOwnProperty.call(a,ht)||ht in x&&x[ht]===yt[ht]||Object.defineProperty(x,ht,{enumerable:!0,get:function(){return yt[ht]}})});var Pt=t("./packages/@logrocket/utils/src/isValidAppID.ts");Object.keys(Pt).forEach(function(ht){ht==="default"||ht==="__esModule"||Object.prototype.hasOwnProperty.call(a,ht)||ht in x&&x[ht]===Pt[ht]||Object.defineProperty(x,ht,{enumerable:!0,get:function(){return Pt[ht]}})});var At=t("./packages/@logrocket/utils/src/requireValue.ts");Object.keys(At).forEach(function(ht){ht==="default"||ht==="__esModule"||Object.prototype.hasOwnProperty.call(a,ht)||ht in x&&x[ht]===At[ht]||Object.defineProperty(x,ht,{enumerable:!0,get:function(){return At[ht]}})});function It(ht){if(typeof WeakMap!="function")return null;var ee=new WeakMap,qt=new WeakMap;return(It=function(ke){return ke?qt:ee})(ht)}function Ht(ht,ee){if(!ee&&ht&&ht.__esModule)return ht;if(ht===null||c(ht)!=="object"&&typeof ht!="function")return{default:ht};var qt=It(ee);if(qt&&qt.has(ht))return qt.get(ht);var _t={},ke=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ie in ht)if(Ie!=="default"&&Object.prototype.hasOwnProperty.call(ht,Ie)){var hi=ke?Object.getOwnPropertyDescriptor(ht,Ie):null;hi&&(hi.get||hi.set)?Object.defineProperty(_t,Ie,hi):_t[Ie]=ht[Ie]}return _t.default=ht,qt&&qt.set(ht,_t),_t}},"./packages/@logrocket/utils/src/interpolate.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=h,x.interpolateMobile=n;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js"));function a(o,f){var u=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!u){if(Array.isArray(o)||(u=r(o))||f&&o&&typeof o.length=="number"){u&&(o=u);var d=0,p=function(){};return{s:p,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(S){throw S},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,y=!1,g;return{s:function(){u=u.call(o)},n:function(){var S=u.next();return m=S.done,S},e:function(S){y=!0,g=S},f:function(){try{!m&&u.return!=null&&u.return()}finally{if(y)throw g}}}}function r(o,f){if(o){if(typeof o=="string")return s(o,f);var u=Object.prototype.toString.call(o).slice(8,-1);if(u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set")return Array.from(o);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return s(o,f)}}function s(o,f){(f==null||f>o.length)&&(f=o.length);for(var u=0,d=new Array(f);u<f;u++)d[u]=o[u];return d}function e(o,f){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);f&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),u.push.apply(u,d)}return u}function i(o){for(var f=1;f<arguments.length;f++){var u=arguments[f]!=null?arguments[f]:{};f%2?e(Object(u),!0).forEach(function(d){(0,c.default)(o,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):e(Object(u)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(u,d))})}return o}function h(o,f){if(!o)return{};var u=o.prev,d=o.next,p=o.ratio,m=i({},d),y=a(f),g;try{for(y.s();!(g=y.n()).done;){var T=g.value;m[T]=u[T]+(d[T]-u[T])*p}}catch(S){y.e(S)}finally{y.f()}return m}function n(o,f,u){if(!o)return{};var d=o.prev,p=o.next;return p.type==="MOVE"?h(o,f):d===p&&Math.abs(u-p.time)>500?null:p}},"./packages/@logrocket/utils/src/isActivityEvent.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=["lr.browser.MouseEvent","lr.browser.ScrollEvent","lr.browser.InputEvent","lr.browser.InputChangeEvent","lr.android.TouchEvent","lr.android.InputChangeEvent","lr.ios.TouchEvent","lr.ios.InputChangeEvent"];return c.indexOf(l)>-1}},"./packages/@logrocket/utils/src/isRecordingSampled.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=r;var c=l(t("./packages/@logrocket/utils/src/parseIntFromHex.js")),a=1e4;function r(s,e){if(e<=0)return!1;var i=Math.floor(e*a),h=(0,c.default)(s),n=h%a;return n<=i}},"./packages/@logrocket/utils/src/isSessionEvent.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=l;var t=["lr.browser.NavigationEvent","lr.browser.InputChangeEvent","lr.browser.InputEvent"];function l(c){return t.indexOf(c.type)>-1||c.data.eventType==="CLICK"}},"./packages/@logrocket/utils/src/isValidAppID.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.isValidAppID=l;var t=/^[a-z0-9_-]+\/[a-z0-9_-]+$/;function l(c){return typeof c=="string"&&t.test(c)}},"./packages/@logrocket/utils/src/likeOperator.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.likeOperator=t;function t(l,c){var a=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=a.replace(/\\\*/g,".*").replace(/\\\?/g,"."),s=new RegExp("^".concat(r,"$"));return s.test(l)}},"./packages/@logrocket/utils/src/logError.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var t=typeof console<"u"&&console.error&&console.error.bind,l=t?console.error.bind(console):function(){},c=l;x.default=c},"./packages/@logrocket/utils/src/makeRecordingID.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=a;var c=l(t("./packages/@logrocket/utils/src/uuid.js"));function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.prefix,e=s===void 0?5:s;return"".concat(e,"-").concat((0,c.default)())}},"./packages/@logrocket/utils/src/mapValues.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){if(l==null)return{};var a={};return Object.keys(l).forEach(function(r){a[r]=c(l[r])}),a}},"./packages/@logrocket/utils/src/parseIntFromHex.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=l.replace(/[^0-9a-f]/g,"");return parseInt("0x".concat(c),16)||0}},"./packages/@logrocket/utils/src/parseQueryString.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.parseQueryString=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=function(e){var i={},h=e.split("&");return h.forEach(function(n){var o=n.split("=").map(function(p){return p.replace(/\+/g," ")}).map(decodeURIComponent),f=(0,c.default)(o,2),u=f[0],d=f[1];i[u]=d}),i},r=function(e){var i=e.indexOf("?");if(i===-1)return{};var h=e.substring(i+1);return a(h)};x.parseQueryString=r},"./packages/@logrocket/utils/src/parseSelectorForMatch.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=i;var c=l(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=l(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),r=l(t("./packages/@logrocket/utils/src/startsWith.js")),s="~",e=":nth-child(";function i(h){var n=h.replace(/\s*>\s*|:nth-child\(([1-9][0-9]*|odd|even)\)|\s+/gi,function(o){return o.indexOf(">")>-1?" >":o.trim().length===0?" ":"".concat(s).concat(o.slice(e.length))});return n.split(/\s+/).map(function(o){var f={},u=o;if(u.charAt(0)===">"&&(f.directDesc=!0,u=u.slice(1)),u=u.replace(/^([a-z0-9-_]+)/ig,function(g){return f.nodeName=g,""}),u.charAt(0)===s){var d=u.slice(1).split(")"),p=(0,a.default)(d,2),m=p[0],y=p[1];f.nthChild=m,u=y}return u.replace(/\.|#/gi,function(g){return" ".concat(g)}).trim().split(" ").forEach(function(g){if((0,r.default)(g,".")){var T=g.slice(1);f.classList=f.classList?[].concat((0,c.default)(f.classList),[T]):[T]}else(0,r.default)(g,"#")&&(f.id=g.slice(1))}),f})}},"./packages/@logrocket/utils/src/parseSelectorForSearch.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=l,x.isInvalidSelector=void 0;function t(a){var r=a.match(/^([a-z0-9-_]+)/ig),s=a.match(/:(nth-child[a-z0-9-_()]+)/ig),e=a.match(/#(([a-z0-9-_)]|(:(?!nth-child\()))+)/ig),i=a.match(/(\.([a-z0-9-_/]|(:(?!nth-child\()))+)/ig),h={};return r&&(h.nodeName=r[0]),s&&(h.pseudoClassList=s.map(function(n){return n.substr(1)})),e&&(h.id=e[0].substr(1)),i&&(h.classList=i.map(function(n){return n.substr(1)})),h}function l(a){return a.replace(/\s?>\s?/g," ").split(/\s+/g).map(t).map(function(r){return r.classList&&r.classList.sort(),r})}var c=function(r){return!r.id&&!r.classList&&!r.nodeName&&!r.pseudoClassList};x.isInvalidSelector=c},"./packages/@logrocket/utils/src/protectFunc.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=r;var c=l(t("./packages/@logrocket/utils/src/sendTelemetryData.js")),a=l(t("./packages/@logrocket/utils/src/logError.js"));function r(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};return function(){var i;try{i=s.apply(void 0,arguments)}catch(n){if(typeof window<"u"&&window._lrdebug)throw n;var h=e(n);(0,a.default)("LogRocket",n),(0,c.default)(n,h)}return i}}},"./packages/@logrocket/utils/src/querySelectorWithShadowDom.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=s,x.caseInsensitiveQuerySelector=void 0;function t(e,i){var h=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!h){if(Array.isArray(e)||(h=l(e))||i&&e&&typeof e.length=="number"){h&&(e=h);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(m){throw m},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,u=!1,d;return{s:function(){h=h.call(e)},n:function(){var m=h.next();return f=m.done,m},e:function(m){u=!0,d=m},f:function(){try{!f&&h.return!=null&&h.return()}finally{if(u)throw d}}}}function l(e,i){if(e){if(typeof e=="string")return c(e,i);var h=Object.prototype.toString.call(e).slice(8,-1);if(h==="Object"&&e.constructor&&(h=e.constructor.name),h==="Map"||h==="Set")return Array.from(e);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return c(e,i)}}function c(e,i){(i==null||i>e.length)&&(i=e.length);for(var h=0,n=new Array(i);h<i;h++)n[h]=e[h];return n}var a=function(i){var h=i.root,n=i.selectorList,o=i.directDesc,f=n[0].split(/(?=\.)|(?=#)/),u=f.shift(),d="",p=[];f.forEach(function(w){w[0]==="#"&&(d=w.toLowerCase().substring(1).trim()),w[0]==="."&&p.push(w.toLowerCase().substring(1).trim())});var m;o?m=[h.querySelector(":scope > ".concat(u))]:m=h.querySelectorAll(u);var y=[],g=t(m),T;try{var S=function(){var b=T.value;if(!b||d!==b.id.toLowerCase())return"continue";var A=Array.from(b.classList.values()).map(function(D){return D.toLowerCase()}).filter(function(D){return D!==""&&D[0]!==":"});if(!p.every(function(D){return A.indexOf(D)>-1}))return"continue";y.push(b)};for(g.s();!(T=g.n()).done;)var C=S()}catch(w){g.e(w)}finally{g.f()}return y},r=function(i,h){if(!h.length)return null;var n;if(i.host?n=i:n=i.querySelector("body"),!n)return null;for(var o=[{matches:[n],selectorList:h.split(" > "),directDesc:!1}];o.length;){var f=o.shift(),u=f.matches,d=f.selectorList,p=f.directDesc,m=t(u),y;try{for(m.s();!(y=m.n()).done;){var g=y.value,T=a({root:g,selectorList:d,directDesc:p});if(T.length&&d.length===1)return T[0];T.length&&o.push({matches:T,selectorList:d.slice(1),directDesc:!0})}}catch(S){m.e(S)}finally{m.f()}}return null};x.caseInsensitiveQuerySelector=r;function s(e,i){if(i.startsWith("$shadow-root >"))throw new Error("Malformed selector '".concat(i,"': should not start with $shadow-root"));i.endsWith("> $shadow-root")&&(i=i.slice(0,i.length-14));for(var h=e,n,o=i.split("> $shadow-root >"),f=0;f<o.length;f++)if(n=r(h,o[f]),n&&f<o.length-1)if(n.shadowRoot)h=n.shadowRoot;else throw new Error("Missing shadowRoot for selector '".concat(i,"' at depth ").concat(f));return{root:h,node:n}}},"./packages/@logrocket/utils/src/randomInt.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){var a=Math.ceil(l),r=Math.floor(c);return Math.floor(Math.random()*(r-a))+a}},"./packages/@logrocket/utils/src/removeOutdated.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=r;var c=l(t("./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js")),a=5e3;function r(s,e){if(s.length===0)return s;var i=(0,c.default)(s,{time:e.time-a},"time")-1,h=s[i];return h&&e.time-h.time>a&&i>0?s.slice(i):s}},"./packages/@logrocket/utils/src/requireValue.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.requireValue=void 0;var t=function(c){if(typeof c>"u")throw new Error("Value must not be undefined.");return c};x.requireValue=t},"./packages/@logrocket/utils/src/sanitizeValue.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=l;var t=function(a){for(var r="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ",s=Math.ceil(a.length/r.length),e="";s>0;)e+=r,s--;return e.slice(0,a.length)};function l(c,a){var r=String(c);return String(a).toLowerCase()==="lipsum"?t(r):""}},"./packages/@logrocket/utils/src/scrollMapHistogramToPercent.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){for(var a=[],r=l.reduce(function(h,n){return h+n.count},0),s=0,e=1;e<=100;e++){var i=c*(e*.01);s>=l.length?a.push(0):(a.push(r),i>l[s].maxScroll&&(r-=l[s].count,s++))}return a}},"./packages/@logrocket/utils/src/selectorFromNodePath.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=e;var c=l(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"));function a(i,h){var n=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!n){if(Array.isArray(i)||(n=r(i))||h&&i&&typeof i.length=="number"){n&&(i=n);var o=0,f=function(){};return{s:f,n:function(){return o>=i.length?{done:!0}:{done:!1,value:i[o++]}},e:function(y){throw y},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,d=!1,p;return{s:function(){n=n.call(i)},n:function(){var y=n.next();return u=y.done,y},e:function(y){d=!0,p=y},f:function(){try{!u&&n.return!=null&&n.return()}finally{if(d)throw p}}}}function r(i,h){if(i){if(typeof i=="string")return s(i,h);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(i,h)}}function s(i,h){(h==null||h>i.length)&&(h=i.length);for(var n=0,o=new Array(h);n<h;n++)o[n]=i[n];return o}function e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=[],n=a((0,c.default)(i).reverse()),o;try{var f=function(){var d=o.value,p=d.nodeName,m=d.id,y=d.nthChild,g=d.classList,T=[],S=[];y&&S.push("nth-child(".concat(y,")")),p&&(T.push(p),S.sort().map(function(C){return T.push(":".concat(C))})),m&&T.push("#".concat(m)),g&&g.length&&(g=g.map(function(C){return C.toLowerCase()}).sort(),T=[].concat((0,c.default)(T),(0,c.default)(g.map(function(C){return".".concat(C)})))),T.length&&h.push(T.join(" "))};for(n.s();!(o=n.n()).done;)f()}catch(u){n.e(u)}finally{n.f()}return h.join(" > ")}},"./packages/@logrocket/utils/src/selectorMatches.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=n;var c=l(t("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),a=l(t("./node_modules/@babel/runtime/helpers/typeof.js")),r=l(t("./packages/@logrocket/utils/src/findIndex.js"));function s(o,f){var u=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!u){if(Array.isArray(o)||(u=e(o))||f&&o&&typeof o.length=="number"){u&&(o=u);var d=0,p=function(){};return{s:p,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(S){throw S},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,y=!1,g;return{s:function(){u=u.call(o)},n:function(){var S=u.next();return m=S.done,S},e:function(S){y=!0,g=S},f:function(){try{!m&&u.return!=null&&u.return()}finally{if(y)throw g}}}}function e(o,f){if(o){if(typeof o=="string")return i(o,f);var u=Object.prototype.toString.call(o).slice(8,-1);if(u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set")return Array.from(o);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return i(o,f)}}function i(o,f){(f==null||f>o.length)&&(f=o.length);for(var u=0,d=new Array(f);u<f;u++)d[u]=o[u];return d}function h(o,f){if(!(o&&f)||o.id&&o.id!==f.id||o.nodeName&&o.nodeName!==f.nodeName||o.classList&&(!f.classList||o.classList.map(function(d){return d.toLowerCase()}).some(function(d){return f.classList.map(function(p){return p.toLowerCase()}).indexOf(d)===-1})))return!1;if(o.nthChild){var u=parseInt(o.nthChild,10);return isNaN(u)?Math.abs(f.nthChild%2)===(o.nthChild==="odd"?1:0):u===f.nthChild}return!0}function n(o,f){var u=o.slice(0).reverse(),d,p=s(f),m;try{var y=function(){var S=m.value;if(S.directDesc)return h.apply(void 0,[S].concat((0,c.default)(u.splice(0,1))))?"continue":{v:!1};if(d=(0,r.default)(u,function(C){return h(S,C)}),d===-1)return{v:!1};u.splice(0,d+1)};for(p.s();!(m=p.n()).done;){var g=y();if(g!=="continue"&&(0,a.default)(g)==="object")return g.v}}catch(T){p.e(T)}finally{p.f()}return!0}},"./packages/@logrocket/utils/src/sendTelemetryData.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.sendTelemetry=n,x.default=o;var c=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=l(t("./packages/@logrocket/utils/src/logError.js")),r=l(t("./packages/@logrocket/utils/src/TraceKit.js"));function s(f,u){var d=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);u&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),d.push.apply(d,p)}return d}function e(f){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?s(Object(d),!0).forEach(function(p){(0,c.default)(f,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(d)):s(Object(d)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(d,p))})}return f}var i="732968640ac67eadc13d5238fac111fe51554d08";function h(f){var u=window._lrXMLHttpRequest||XMLHttpRequest;try{var d=new u,p=f.message,m="https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793";d.open("POST",m),d.send(JSON.stringify(e({message:p,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":typeof navigator<"u"&&navigator.userAgent},url:typeof location<"u"&&location.href},release:i,environment:"test"},f)))}catch(y){(0,a.default)("Failed to send",y)}}function n(f,u){if(typeof window<"u"&&window._lrdebug)return void(0,a.default)(f);u&&u.extra&&u.extra.appID&&typeof u.extra.appID.indexOf=="function"&&u.extra.appID.indexOf("au2drp/")===0&&Math.random()>=.25||h(e({message:f},u))}function o(f,u){try{var d=f.message,p;try{p=JSON.stringify(u).slice(0,1e3)}catch{try{p="Could not stringify payload: ".concat(Object.prototype.toString.call(u))}catch{}}var m;try{m=r.default.computeStackTrace(f).stack.map(function(y){return{filename:y.url,lineno:y.line,colno:y.column,function:y.func||"?"}})}catch{}h({message:d,extra:{stringPayload:p},exception:{values:[{type:f.type,value:d,stacktrace:{frames:m}}]}})}catch(y){(0,a.default)("Failed to send",y)}}},"./packages/@logrocket/utils/src/setFromArray.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=new Set;return l.forEach(function(a){return c.add(a)}),c}},"./packages/@logrocket/utils/src/setToArray.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=[];return l.forEach(function(a){return c.push(a)}),c}},"./packages/@logrocket/utils/src/shallowArsonify.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c={}.toString.call(l);switch(c){case"[object Undefined]":return{undefined:{}};case"[object Null]":return{null:{}};case"[object Boolean]":return{boolean:{bool:l}};case"[object Number]":return{number:{double:l}};case"[object String]":return{string:{string:l}};case"[object Object]":return{object:{map:l}};case"[object Array]":return{array:{map:l}};case"[object Date]":return{date:{double:l.getTime()}};case"[object Error]":return{string:{string:"".concat(l.name,": ").concat(l.message)}};default:return{unsupported:{type:c}}}}},"./packages/@logrocket/utils/src/shallowDearsonify.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){var c=l.type||Object.keys(l)[0];switch(c){case"undefined":return;case"null":return null;case"boolean":return l.boolean.bool;case"number":return l.number.double;case"string":return l.string.string;case"object":return l.object.map;case"array":return Object.keys(l.array.map).reduce(function(a,r){return a[r]=l.array.map[r],a},[]);case"date":return new Date(l.date.double);case"unsupported":return l.unsupported.type;default:throw new TypeError("Unexpected value in shallowDearsonify: ".concat(l))}}},"./packages/@logrocket/utils/src/startsWith.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l,c){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return l&&c&&l.substring(a,a+c.length)===c}},"./packages/@logrocket/utils/src/types.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0})},"./packages/@logrocket/utils/src/userTraitStrings.ts":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.parseUserTraitString=x.encodeUserTraitString=void 0;var t=":",l=String.fromCharCode(26),c=function(){for(var s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return e.map(function(h){return h.replace(new RegExp(t,"g"),l)}).join(t)};x.encodeUserTraitString=c;var a=function(s){var e=s||t;return e.split(t).map(function(i){return i.replace(new RegExp(l,"g"),t)})};x.parseUserTraitString=a},"./packages/@logrocket/utils/src/uuid.js":function(v,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=t;function t(l){return l?(l^Math.random()*16>>l/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}},"./packages/logrocket/src/LogRocket.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=x.MAX_QUEUE_SIZE=void 0;var c=l(t("./node_modules/@babel/runtime/helpers/classCallCheck.js")),a=l(t("./node_modules/@babel/runtime/helpers/createClass.js")),r=l(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=l(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),e=l(t("./packages/@logrocket/network/src/index.js")),i=t("./packages/@logrocket/exceptions/src/index.js"),h=l(t("./packages/@logrocket/console/src/index.js")),n=t("./packages/@logrocket/redux/src/index.js");function o(m,y){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);y&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(m,S).enumerable})),g.push.apply(g,T)}return g}function f(m){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?o(Object(g),!0).forEach(function(T){(0,r.default)(m,T,g[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):o(Object(g)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(g,T))})}return m}var u=1e3;x.MAX_QUEUE_SIZE=u;var d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=y.ingestServer,T=(0,s.default)(y,["ingestServer"]);return g?f({serverURL:"".concat(g,"/i"),statsURL:"".concat(g,"/s")},T):T},p=function(){function m(){var y=this;(0,c.default)(this,m),this._buffer=[],["log","info","warn","error","debug"].forEach(function(g){y[g]=function(){for(var T=arguments.length,S=new Array(T),C=0;C<T;C++)S[C]=arguments[C];y.addEvent("lr.core.LogEvent",function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g==="error"&&w.shouldAggregateConsoleErrors&&i.Capture.captureMessage(y,S[0],S,{},!0),{logLevel:g.toUpperCase(),args:S}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,a.default)(m,[{key:"addEvent",value:function(g,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=Date.now();this._run(function(w){w.addEvent(g,T,f(f({},S),{},{timeOverride:C}))})}},{key:"onLogger",value:function(g){for(this._logger=g;this._buffer.length>0;){var T=this._buffer.shift();T(this._logger)}}},{key:"_run",value:function(g){if(!this._isDisabled)if(this._logger)g(this._logger);else{if(this._buffer.length>=u){this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),this.uninstall();return}this._buffer.push(g.bind(this))}}},{key:"init",value:function(g){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._isInitialized){var S=T.shouldAugmentNPS,C=S===void 0?!0:S,w=T.shouldParseXHRBlob,b=w===void 0?!1:w,A=T.shouldDetectExceptions,D=A===void 0?!0:A;D&&this._installed.push((0,i.registerExceptions)(this)),this._installed.push((0,e.default)(this,{shouldAugmentNPS:!!C,shouldParseXHRBlob:!!b})),this._installed.push((0,h.default)(this)),this._isInitialized=!0,this._run(function(B){B.init(g,d(T))})}}},{key:"start",value:function(){this._run(function(g){g.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(g){return g()}),this._buffer=[],this._run(function(g){g.uninstall()})}},{key:"identify",value:function(g,T){this._run(function(S){S.identify(g,T)})}},{key:"startNewSession",value:function(){this._run(function(g){g.startNewSession()})}},{key:"track",value:function(g,T){this._run(function(S){S.track(g,T)})}},{key:"getSessionURL",value:function(g){if(typeof g!="function")throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(T){T.getSessionURL?T.getSessionURL(g):g(T.recordingURL)})}},{key:"getVersion",value:function(g){this._run(function(T){g(T.version)})}},{key:"captureMessage",value:function(g){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.Capture.captureMessage(this,g,[g],T)}},{key:"captureException",value:function(g){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.Capture.captureException(this,g,T)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,n.createEnhancer)(this,g)}},{key:"reduxMiddleware",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,n.createMiddleware)(this,g)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),m}();x.default=p},"./packages/logrocket/src/makeLogRocket.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=s;var c=l(t("./packages/logrocket/src/LogRocket.js")),a="LogRocket does not yet support React Native.",r=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(h){return function(){return h.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(h){return function(n){return h(n)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};if(typeof navigator<"u"&&navigator.product==="ReactNative")throw new Error(a);if(typeof window<"u"){if(window._disableLogRocket)return r();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var i=new c.default;return e(i),i}}return r()}},"./packages/logrocket/src/setup.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=s;var c=l(t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),a=l(t("./packages/logrocket/src/makeLogRocket.js")),r={"cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com"};function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.enterpriseServer,h=e.sdkVersion,n=h===void 0?"4.0.2":h,o=(0,c.default)(e,["enterpriseServer","sdkVersion"]),f="https://cdn.logrocket.io",u;if(n==="script")try{var d=document.currentScript,p=d.src.match(/^(https?:\/\/([^\\]+))\/.+$/),m=p&&p[2];m&&r[m]&&(f=p&&p[1],u=r[m])}catch{}else f="https://cdn.lr-ingest.com",u="https://r.lr-ingest.com";var y=o.sdkServer||i,g=o.ingestServer||i||u,T=(0,a.default)(function(){var S=document.createElement("script");g&&(typeof window.__SDKCONFIG__>"u"&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(g,"/i"),window.__SDKCONFIG__.statsURL="".concat(g,"/s")),y?S.src="".concat(y,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?S.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?S.src=window._lrAsyncScript:S.src="".concat(f,"/logger-1.min.js"),S.async=!0,document.head.appendChild(S),S.onload=function(){typeof window._LRLogger=="function"?T.onLogger(new window._LRLogger({sdkVersion:n})):(console.warn("LogRocket: script execution has been blocked by a product or service."),T.uninstall())},S.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),T.uninstall()}});return T}},"./packages/@logrocket/utils/node_modules/lodash/_DataView.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),a=l(c,"DataView");v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_Hash.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_hashClear.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_hashDelete.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_hashGet.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_hashHas.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_hashSet.js");function e(i){var h=-1,n=i==null?0:i.length;for(this.clear();++h<n;){var o=i[h];this.set(o[0],o[1])}}e.prototype.clear=l,e.prototype.delete=c,e.prototype.get=a,e.prototype.has=r,e.prototype.set=s,v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_ListCache.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_listCacheClear.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_listCacheDelete.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_listCacheGet.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_listCacheHas.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_listCacheSet.js");function e(i){var h=-1,n=i==null?0:i.length;for(this.clear();++h<n;){var o=i[h];this.set(o[0],o[1])}}e.prototype.clear=l,e.prototype.delete=c,e.prototype.get=a,e.prototype.has=r,e.prototype.set=s,v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_Map.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),a=l(c,"Map");v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_MapCache.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_mapCacheClear.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_mapCacheDelete.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_mapCacheGet.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_mapCacheHas.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_mapCacheSet.js");function e(i){var h=-1,n=i==null?0:i.length;for(this.clear();++h<n;){var o=i[h];this.set(o[0],o[1])}}e.prototype.clear=l,e.prototype.delete=c,e.prototype.get=a,e.prototype.has=r,e.prototype.set=s,v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_Promise.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),a=l(c,"Promise");v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_Set.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),a=l(c,"Set");v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_SetCache.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_setCacheAdd.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_setCacheHas.js");function r(s){var e=-1,i=s==null?0:s.length;for(this.__data__=new l;++e<i;)this.add(s[e])}r.prototype.add=r.prototype.push=c,r.prototype.has=a,v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_Stack.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_stackClear.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_stackDelete.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_stackGet.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_stackHas.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/_stackSet.js");function i(h){var n=this.__data__=new l(h);this.size=n.size}i.prototype.clear=c,i.prototype.delete=a,i.prototype.get=r,i.prototype.has=s,i.prototype.set=e,v.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_Symbol.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),c=l.Symbol;v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_Uint8Array.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),c=l.Uint8Array;v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_WeakMap.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),a=l(c,"WeakMap");v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_arrayFilter.js":function(v){function x(t,l){for(var c=-1,a=t==null?0:t.length,r=0,s=[];++c<a;){var e=t[c];l(e,c,t)&&(s[r++]=e)}return s}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_arrayLikeKeys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseTimes.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isArguments.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/isBuffer.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_isIndex.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js"),i=Object.prototype,h=i.hasOwnProperty;function n(o,f){var u=a(o),d=!u&&c(o),p=!u&&!d&&r(o),m=!u&&!d&&!p&&e(o),y=u||d||p||m,g=y?l(o.length,String):[],T=g.length;for(var S in o)(f||h.call(o,S))&&!(y&&(S=="length"||p&&(S=="offset"||S=="parent")||m&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,T)))&&g.push(S);return g}v.exports=n},"./packages/@logrocket/utils/node_modules/lodash/_arrayMap.js":function(v){function x(t,l){for(var c=-1,a=t==null?0:t.length,r=Array(a);++c<a;)r[c]=l(t[c],c,t);return r}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_arrayPush.js":function(v){function x(t,l){for(var c=-1,a=l.length,r=t.length;++c<a;)t[r+c]=l[c];return t}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_arraySome.js":function(v){function x(t,l){for(var c=-1,a=t==null?0:t.length;++c<a;)if(l(t[c],c,t))return!0;return!1}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/eq.js");function c(a,r){for(var s=a.length;s--;)if(l(a[s][0],r))return s;return-1}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_baseGet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_castPath.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");function a(r,s){s=l(s,r);for(var e=0,i=s.length;r!=null&&e<i;)r=r[c(s[e++])];return e&&e==i?r:void 0}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_baseGetAllKeys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_arrayPush.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js");function a(r,s,e){var i=s(r);return c(r)?i:l(i,e(r))}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_getRawTag.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_objectToString.js"),r="[object Null]",s="[object Undefined]",e=l?l.toStringTag:void 0;function i(h){return h==null?h===void 0?s:r:e&&e in Object(h)?c(h):a(h)}v.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_baseHasIn.js":function(v){function x(t,l){return t!=null&&l in Object(t)}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_baseIsArguments.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),a="[object Arguments]";function r(s){return c(s)&&l(s)==a}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqualDeep.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js");function a(r,s,e,i,h){return r===s?!0:r==null||s==null||!c(r)&&!c(s)?r!==r&&s!==s:l(r,s,e,i,a,h)}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_baseIsEqualDeep.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Stack.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_equalByTag.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_equalObjects.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_getTag.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),i=t("./packages/@logrocket/utils/node_modules/lodash/isBuffer.js"),h=t("./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js"),n=1,o="[object Arguments]",f="[object Array]",u="[object Object]",d=Object.prototype,p=d.hasOwnProperty;function m(y,g,T,S,C,w){var b=e(y),A=e(g),D=b?f:s(y),B=A?f:s(g);D=D==o?u:D,B=B==o?u:B;var N=D==u,Y=B==u,H=D==B;if(H&&i(y)){if(!i(g))return!1;b=!0,N=!1}if(H&&!N)return w||(w=new l),b||h(y)?c(y,g,T,S,C,w):a(y,g,D,T,S,C,w);if(!(T&n)){var j=N&&p.call(y,"__wrapped__"),J=Y&&p.call(g,"__wrapped__");if(j||J){var X=j?y.value():y,W=J?g.value():g;return w||(w=new l),C(X,W,T,S,w)}}return H?(w||(w=new l),r(y,g,T,S,C,w)):!1}v.exports=m},"./packages/@logrocket/utils/node_modules/lodash/_baseIsMatch.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Stack.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js"),a=1,r=2;function s(e,i,h,n){var o=h.length,f=o,u=!n;if(e==null)return!f;for(e=Object(e);o--;){var d=h[o];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<f;){d=h[o];var p=d[0],m=e[p],y=d[1];if(u&&d[2]){if(m===void 0&&!(p in e))return!1}else{var g=new l;if(n)var T=n(m,y,p,e,i,g);if(!(T===void 0?c(y,m,a|r,n,g):T))return!1}}return!0}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_baseIsNative.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isFunction.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_isMasked.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isObject.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_toSource.js"),s=/[\\^$.*+?()[\]{}|]/g,e=/^\[object .+?Constructor\]$/,i=Function.prototype,h=Object.prototype,n=i.toString,o=h.hasOwnProperty,f=RegExp("^"+n.call(o).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(d){if(!a(d)||c(d))return!1;var p=l(d)?f:e;return p.test(r(d))}v.exports=u},"./packages/@logrocket/utils/node_modules/lodash/_baseIsTypedArray.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isLength.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),r="[object Arguments]",s="[object Array]",e="[object Boolean]",i="[object Date]",h="[object Error]",n="[object Function]",o="[object Map]",f="[object Number]",u="[object Object]",d="[object RegExp]",p="[object Set]",m="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",T="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",w="[object Int8Array]",b="[object Int16Array]",A="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",N="[object Uint16Array]",Y="[object Uint32Array]",H={};H[S]=H[C]=H[w]=H[b]=H[A]=H[D]=H[B]=H[N]=H[Y]=!0,H[r]=H[s]=H[g]=H[e]=H[T]=H[i]=H[h]=H[n]=H[o]=H[f]=H[u]=H[d]=H[p]=H[m]=H[y]=!1;function j(J){return a(J)&&c(J.length)&&!!H[l(J)]}v.exports=j},"./packages/@logrocket/utils/node_modules/lodash/_baseIteratee.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseMatches.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_baseMatchesProperty.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/identity.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/property.js");function e(i){return typeof i=="function"?i:i==null?a:typeof i=="object"?r(i)?c(i[0],i[1]):l(i):s(i)}v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_baseKeys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_isPrototype.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_nativeKeys.js"),a=Object.prototype,r=a.hasOwnProperty;function s(e){if(!l(e))return c(e);var i=[];for(var h in Object(e))r.call(e,h)&&h!="constructor"&&i.push(h);return i}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_baseMatches.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsMatch.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_getMatchData.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js");function r(s){var e=c(s);return e.length==1&&e[0][2]?a(e[0][0],e[0][1]):function(i){return i===s||l(i,s,e)}}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_baseMatchesProperty.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/get.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/hasIn.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js"),i=t("./packages/@logrocket/utils/node_modules/lodash/_toKey.js"),h=1,n=2;function o(f,u){return r(f)&&s(u)?e(i(f),u):function(d){var p=c(d,f);return p===void 0&&p===u?a(d,f):l(u,p,h|n)}}v.exports=o},"./packages/@logrocket/utils/node_modules/lodash/_baseProperty.js":function(v){function x(t){return function(l){return l==null?void 0:l[t]}}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_basePropertyDeep.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGet.js");function c(a){return function(r){return l(r,a)}}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_baseSortedIndexBy.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),c=4294967295,a=c-1,r=Math.floor,s=Math.min;function e(i,h,n,o){var f=0,u=i==null?0:i.length;if(u===0)return 0;h=n(h);for(var d=h!==h,p=h===null,m=l(h),y=h===void 0;f<u;){var g=r((f+u)/2),T=n(i[g]),S=T!==void 0,C=T===null,w=T===T,b=l(T);if(d)var A=o||w;else y?A=w&&(o||S):p?A=w&&S&&(o||!C):m?A=w&&S&&!C&&(o||!b):C||b?A=!1:A=o?T<=h:T<h;A?f=g+1:u=g}return s(u,a)}v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_baseTimes.js":function(v){function x(t,l){for(var c=-1,a=Array(t);++c<t;)a[c]=l(c);return a}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_baseToString.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_arrayMap.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),s=1/0,e=l?l.prototype:void 0,i=e?e.toString:void 0;function h(n){if(typeof n=="string")return n;if(a(n))return c(n,h)+"";if(r(n))return i?i.call(n):"";var o=n+"";return o=="0"&&1/n==-s?"-0":o}v.exports=h},"./packages/@logrocket/utils/node_modules/lodash/_baseUnary.js":function(v){function x(t){return function(l){return t(l)}}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_cacheHas.js":function(v){function x(t,l){return t.has(l)}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_castPath.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_stringToPath.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/toString.js");function s(e,i){return l(e)?e:c(e,i)?[e]:a(r(e))}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_coreJsData.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),c=l["__core-js_shared__"];v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_SetCache.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_arraySome.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_cacheHas.js"),r=1,s=2;function e(i,h,n,o,f,u){var d=n&r,p=i.length,m=h.length;if(p!=m&&!(d&&m>p))return!1;var y=u.get(i),g=u.get(h);if(y&&g)return y==h&&g==i;var T=-1,S=!0,C=n&s?new l:void 0;for(u.set(i,h),u.set(h,i);++T<p;){var w=i[T],b=h[T];if(o)var A=d?o(b,w,T,h,i,u):o(w,b,T,i,h,u);if(A!==void 0){if(A)continue;S=!1;break}if(C){if(!c(h,function(D,B){if(!a(C,B)&&(w===D||f(w,D,n,o,u)))return C.push(B)})){S=!1;break}}else if(!(w===b||f(w,b,n,o,u))){S=!1;break}}return u.delete(i),u.delete(h),S}v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_equalByTag.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_Uint8Array.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/eq.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_mapToArray.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/_setToArray.js"),i=1,h=2,n="[object Boolean]",o="[object Date]",f="[object Error]",u="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",T="[object ArrayBuffer]",S="[object DataView]",C=l?l.prototype:void 0,w=C?C.valueOf:void 0;function b(A,D,B,N,Y,H,j){switch(B){case S:if(A.byteLength!=D.byteLength||A.byteOffset!=D.byteOffset)return!1;A=A.buffer,D=D.buffer;case T:return!(A.byteLength!=D.byteLength||!H(new c(A),new c(D)));case n:case o:case d:return a(+A,+D);case f:return A.name==D.name&&A.message==D.message;case p:case y:return A==D+"";case u:var J=s;case m:var X=N&i;if(J||(J=e),A.size!=D.size&&!X)return!1;var W=j.get(A);if(W)return W==D;N|=h,j.set(A,D);var L=r(J(A),J(D),N,Y,H,j);return j.delete(A),L;case g:if(w)return w.call(A)==w.call(D)}return!1}v.exports=b},"./packages/@logrocket/utils/node_modules/lodash/_equalObjects.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getAllKeys.js"),c=1,a=Object.prototype,r=a.hasOwnProperty;function s(e,i,h,n,o,f){var u=h&c,d=l(e),p=d.length,m=l(i),y=m.length;if(p!=y&&!u)return!1;for(var g=p;g--;){var T=d[g];if(!(u?T in i:r.call(i,T)))return!1}var S=f.get(e),C=f.get(i);if(S&&C)return S==i&&C==e;var w=!0;f.set(e,i),f.set(i,e);for(var b=u;++g<p;){T=d[g];var A=e[T],D=i[T];if(n)var B=u?n(D,A,T,i,e,f):n(A,D,T,e,i,f);if(!(B===void 0?A===D||o(A,D,h,n,f):B)){w=!1;break}b||(b=T=="constructor")}if(w&&!b){var N=e.constructor,Y=i.constructor;N!=Y&&"constructor"in e&&"constructor"in i&&!(typeof N=="function"&&N instanceof N&&typeof Y=="function"&&Y instanceof Y)&&(w=!1)}return f.delete(e),f.delete(i),w}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js":function(v,x,t){var l=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;v.exports=l},"./packages/@logrocket/utils/node_modules/lodash/_getAllKeys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetAllKeys.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_getSymbols.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/keys.js");function r(s){return l(s,a,c)}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_getMapData.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_isKeyable.js");function c(a,r){var s=a.__data__;return l(r)?s[typeof r=="string"?"string":"hash"]:s.map}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_getMatchData.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/keys.js");function a(r){for(var s=c(r),e=s.length;e--;){var i=s[e],h=r[i];s[e]=[i,h,l(h)]}return s}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_getNative.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsNative.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_getValue.js");function a(r,s){var e=c(r,s);return l(e)?e:void 0}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_getRawTag.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),c=Object.prototype,a=c.hasOwnProperty,r=c.toString,s=l?l.toStringTag:void 0;function e(i){var h=a.call(i,s),n=i[s];try{i[s]=void 0;var o=!0}catch{}var f=r.call(i);return o&&(h?i[s]=n:delete i[s]),f}v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_getSymbols.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_arrayFilter.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/stubArray.js"),a=Object.prototype,r=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,e=s?function(i){return i==null?[]:(i=Object(i),l(s(i),function(h){return r.call(i,h)}))}:c;v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_getTag.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_DataView.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_Map.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_Promise.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_Set.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/_WeakMap.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),i=t("./packages/@logrocket/utils/node_modules/lodash/_toSource.js"),h="[object Map]",n="[object Object]",o="[object Promise]",f="[object Set]",u="[object WeakMap]",d="[object DataView]",p=i(l),m=i(c),y=i(a),g=i(r),T=i(s),S=e;(l&&S(new l(new ArrayBuffer(1)))!=d||c&&S(new c)!=h||a&&S(a.resolve())!=o||r&&S(new r)!=f||s&&S(new s)!=u)&&(S=function(C){var w=e(C),b=w==n?C.constructor:void 0,A=b?i(b):"";if(A)switch(A){case p:return d;case m:return h;case y:return o;case g:return f;case T:return u}return w}),v.exports=S},"./packages/@logrocket/utils/node_modules/lodash/_getValue.js":function(v){function x(t,l){return t==null?void 0:t[l]}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_hasPath.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_castPath.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isArguments.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_isIndex.js"),s=t("./packages/@logrocket/utils/node_modules/lodash/isLength.js"),e=t("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");function i(h,n,o){n=l(n,h);for(var f=-1,u=n.length,d=!1;++f<u;){var p=e(n[f]);if(!(d=h!=null&&o(h,p)))break;h=h[p]}return d||++f!=u?d:(u=h==null?0:h.length,!!u&&s(u)&&r(p,u)&&(a(h)||c(h)))}v.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_hashClear.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js");function c(){this.__data__=l?l(null):{},this.size=0}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_hashDelete.js":function(v){function x(t){var l=this.has(t)&&delete this.__data__[t];return this.size-=l?1:0,l}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_hashGet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js"),c="__lodash_hash_undefined__",a=Object.prototype,r=a.hasOwnProperty;function s(e){var i=this.__data__;if(l){var h=i[e];return h===c?void 0:h}return r.call(i,e)?i[e]:void 0}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_hashHas.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js"),c=Object.prototype,a=c.hasOwnProperty;function r(s){var e=this.__data__;return l?e[s]!==void 0:a.call(e,s)}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_hashSet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js"),c="__lodash_hash_undefined__";function a(r,s){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=l&&s===void 0?c:s,this}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_isIndex.js":function(v){var x=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function l(c,a){var r=typeof c;return a=a??x,!!a&&(r=="number"||r!="symbol"&&t.test(c))&&c>-1&&c%1==0&&c<a}v.exports=l},"./packages/@logrocket/utils/node_modules/lodash/_isKey.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(e,i){if(l(e))return!1;var h=typeof e;return h=="number"||h=="symbol"||h=="boolean"||e==null||c(e)?!0:r.test(e)||!a.test(e)||i!=null&&e in Object(i)}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_isKeyable.js":function(v){function x(t){var l=typeof t;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?t!=="__proto__":t===null}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_isMasked.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_coreJsData.js"),c=function(){var r=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function a(r){return!!c&&c in r}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_isPrototype.js":function(v){var x=Object.prototype;function t(l){var c=l&&l.constructor,a=typeof c=="function"&&c.prototype||x;return l===a}v.exports=t},"./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isObject.js");function c(a){return a===a&&!l(a)}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_listCacheClear.js":function(v){function x(){this.__data__=[],this.size=0}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_listCacheDelete.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js"),c=Array.prototype,a=c.splice;function r(s){var e=this.__data__,i=l(e,s);if(i<0)return!1;var h=e.length-1;return i==h?e.pop():a.call(e,i,1),--this.size,!0}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_listCacheGet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");function c(a){var r=this.__data__,s=l(r,a);return s<0?void 0:r[s][1]}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_listCacheHas.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");function c(a){return l(this.__data__,a)>-1}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_listCacheSet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");function c(a,r){var s=this.__data__,e=l(s,a);return e<0?(++this.size,s.push([a,r])):s[e][1]=r,this}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheClear.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_Hash.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_Map.js");function r(){this.size=0,this.__data__={hash:new l,map:new(a||c),string:new l}}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheDelete.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");function c(a){var r=l(this,a).delete(a);return this.size-=r?1:0,r}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheGet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");function c(a){return l(this,a).get(a)}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheHas.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");function c(a){return l(this,a).has(a)}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheSet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");function c(a,r){var s=l(this,a),e=s.size;return s.set(a,r),this.size+=s.size==e?0:1,this}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_mapToArray.js":function(v){function x(t){var l=-1,c=Array(t.size);return t.forEach(function(a,r){c[++l]=[r,a]}),c}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js":function(v){function x(t,l){return function(c){return c==null?!1:c[t]===l&&(l!==void 0||t in Object(c))}}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_memoizeCapped.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/memoize.js"),c=500;function a(r){var s=l(r,function(i){return e.size===c&&e.clear(),i}),e=s.cache;return s}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_getNative.js"),c=l(Object,"create");v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_nativeKeys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_overArg.js"),c=l(Object.keys,Object);v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_nodeUtil.js":function(v,x,t){v=t.nmd(v);var l=t("./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js"),c=x&&!x.nodeType&&x,a=c&&!0&&v&&!v.nodeType&&v,r=a&&a.exports===c,s=r&&l.process,e=function(){try{var i=a&&a.require&&a.require("util").types;return i||s&&s.binding&&s.binding("util")}catch{}}();v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/_objectToString.js":function(v){var x=Object.prototype,t=x.toString;function l(c){return t.call(c)}v.exports=l},"./packages/@logrocket/utils/node_modules/lodash/_overArg.js":function(v){function x(t,l){return function(c){return t(l(c))}}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_root.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js"),c=typeof self=="object"&&self&&self.Object===Object&&self,a=l||c||Function("return this")();v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_setCacheAdd.js":function(v){var x="__lodash_hash_undefined__";function t(l){return this.__data__.set(l,x),this}v.exports=t},"./packages/@logrocket/utils/node_modules/lodash/_setCacheHas.js":function(v){function x(t){return this.__data__.has(t)}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_setToArray.js":function(v){function x(t){var l=-1,c=Array(t.size);return t.forEach(function(a){c[++l]=a}),c}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_stackClear.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js");function c(){this.__data__=new l,this.size=0}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/_stackDelete.js":function(v){function x(t){var l=this.__data__,c=l.delete(t);return this.size=l.size,c}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_stackGet.js":function(v){function x(t){return this.__data__.get(t)}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_stackHas.js":function(v){function x(t){return this.__data__.has(t)}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/_stackSet.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_Map.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js"),r=200;function s(e,i){var h=this.__data__;if(h instanceof l){var n=h.__data__;if(!c||n.length<r-1)return n.push([e,i]),this.size=++h.size,this;h=this.__data__=new a(n)}return h.set(e,i),this.size=h.size,this}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_stringToPath.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_memoizeCapped.js"),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,r=l(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(c,function(i,h,n,o){e.push(n?o.replace(a,"$1"):h||i)}),e});v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/_toKey.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),c=1/0;function a(r){if(typeof r=="string"||l(r))return r;var s=r+"";return s=="0"&&1/r==-c?"-0":s}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_toSource.js":function(v){var x=Function.prototype,t=x.toString;function l(c){if(c!=null){try{return t.call(c)}catch{}try{return c+""}catch{}}return""}v.exports=l},"./packages/@logrocket/utils/node_modules/lodash/eq.js":function(v){function x(t,l){return t===l||t!==t&&l!==l}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/get.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGet.js");function c(a,r,s){var e=a==null?void 0:l(a,r);return e===void 0?s:e}v.exports=c},"./packages/@logrocket/utils/node_modules/lodash/hasIn.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseHasIn.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_hasPath.js");function a(r,s){return r!=null&&c(r,s,l)}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/identity.js":function(v){function x(t){return t}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/isArguments.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsArguments.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),a=Object.prototype,r=a.hasOwnProperty,s=a.propertyIsEnumerable,e=l(function(){return arguments}())?l:function(i){return c(i)&&r.call(i,"callee")&&!s.call(i,"callee")};v.exports=e},"./packages/@logrocket/utils/node_modules/lodash/isArray.js":function(v){var x=Array.isArray;v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/isArrayLike.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/isFunction.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isLength.js");function a(r){return r!=null&&c(r.length)&&!l(r)}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/isBuffer.js":function(v,x,t){v=t.nmd(v);var l=t("./packages/@logrocket/utils/node_modules/lodash/_root.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/stubFalse.js"),a=x&&!x.nodeType&&x,r=a&&!0&&v&&!v.nodeType&&v,s=r&&r.exports===a,e=s?l.Buffer:void 0,i=e?e.isBuffer:void 0,h=i||c;v.exports=h},"./packages/@logrocket/utils/node_modules/lodash/isFunction.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isObject.js"),a="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",e="[object Proxy]";function i(h){if(!c(h))return!1;var n=l(h);return n==r||n==s||n==a||n==e}v.exports=i},"./packages/@logrocket/utils/node_modules/lodash/isLength.js":function(v){var x=9007199254740991;function t(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=x}v.exports=t},"./packages/@logrocket/utils/node_modules/lodash/isObject.js":function(v){function x(t){var l=typeof t;return t!=null&&(l=="object"||l=="function")}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js":function(v){function x(t){return t!=null&&typeof t=="object"}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/isSymbol.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),a="[object Symbol]";function r(s){return typeof s=="symbol"||c(s)&&l(s)==a}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIsTypedArray.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_baseUnary.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_nodeUtil.js"),r=a&&a.isTypedArray,s=r?c(r):l;v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/keys.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_arrayLikeKeys.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_baseKeys.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/isArrayLike.js");function r(s){return a(s)?l(s):c(s)}v.exports=r},"./packages/@logrocket/utils/node_modules/lodash/memoize.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js"),c="Expected a function";function a(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(c);var e=function(){var i=arguments,h=s?s.apply(this,i):i[0],n=e.cache;if(n.has(h))return n.get(h);var o=r.apply(this,i);return e.cache=n.set(h,o)||n,o};return e.cache=new(a.Cache||l),e}a.Cache=l,v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/property.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseProperty.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_basePropertyDeep.js"),a=t("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),r=t("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");function s(e){return a(e)?l(r(e)):c(e)}v.exports=s},"./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseIteratee.js"),c=t("./packages/@logrocket/utils/node_modules/lodash/_baseSortedIndexBy.js");function a(r,s,e){return c(r,s,l(e,2),!0)}v.exports=a},"./packages/@logrocket/utils/node_modules/lodash/stubArray.js":function(v){function x(){return[]}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/stubFalse.js":function(v){function x(){return!1}v.exports=x},"./packages/@logrocket/utils/node_modules/lodash/toString.js":function(v,x,t){var l=t("./packages/@logrocket/utils/node_modules/lodash/_baseToString.js");function c(a){return a==null?"":l(a)}v.exports=c},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(v){function x(t,l){(l==null||l>t.length)&&(l=t.length);for(var c=0,a=new Array(l);c<l;c++)a[c]=t[c];return a}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(v){function x(t){if(Array.isArray(t))return t}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(a){if(Array.isArray(a))return l(a)}v.exports=c,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(v){function x(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function c(r,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,l(i.key),i)}}function a(r,s,e){return s&&c(r.prototype,s),e&&c(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}v.exports=a,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function c(a,r,s){return r=l(r),r in a?Object.defineProperty(a,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[r]=s,a}v.exports=c,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(v){function x(t){return t&&t.__esModule?t:{default:t}}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(v){function x(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(v){function x(t,l){var c=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(c!=null){var a,r,s,e,i=[],h=!0,n=!1;try{if(s=(c=c.call(t)).next,l===0){if(Object(c)!==c)return;h=!1}else for(;!(h=(a=s.call(c)).done)&&(i.push(a.value),i.length!==l);h=!0);}catch(o){n=!0,r=o}finally{try{if(!h&&c.return!=null&&(e=c.return(),Object(e)!==e))return}finally{if(n)throw r}}return i}}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(v){function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(v){function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");function c(a,r){if(a==null)return{};var s=l(a,r),e,i;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(i=0;i<h.length;i++)e=h[i],!(r.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(a,e)&&(s[e]=a[e])}return s}v.exports=c,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(v){function x(t,l){if(t==null)return{};var c={},a=Object.keys(t),r,s;for(s=0;s<a.length;s++)r=a[s],!(l.indexOf(r)>=0)&&(c[r]=t[r]);return c}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),c=t("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),a=t("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),r=t("./node_modules/@babel/runtime/helpers/nonIterableRest.js");function s(e,i){return l(e)||c(e,i)||a(e,i)||r()}v.exports=s,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),c=t("./node_modules/@babel/runtime/helpers/iterableToArray.js"),a=t("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),r=t("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");function s(e){return l(e)||c(e)||a(e)||r()}v.exports=s,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/typeof.js").default;function c(a,r){if(l(a)!=="object"||a===null)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var e=s.call(a,r||"default");if(l(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}v.exports=c,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/typeof.js").default,c=t("./node_modules/@babel/runtime/helpers/toPrimitive.js");function a(r){var s=c(r,"string");return l(s)==="symbol"?s:String(s)}v.exports=a,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(v){function x(t){"@babel/helpers - typeof";return v.exports=x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},v.exports.__esModule=!0,v.exports.default=v.exports,x(t)}v.exports=x,v.exports.__esModule=!0,v.exports.default=v.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(v,x,t){var l=t("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function c(a,r){if(a){if(typeof a=="string")return l(a,r);var s=Object.prototype.toString.call(a).slice(8,-1);if(s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set")return Array.from(a);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return l(a,r)}}v.exports=c,v.exports.__esModule=!0,v.exports.default=v.exports}},I={};function V(v){var x=I[v];if(x!==void 0)return x.exports;var t=I[v]={id:v,loaded:!1,exports:{}};return R[v](t,t.exports,V),t.loaded=!0,t.exports}(function(){V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){V.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var Z={};return function(){var v=Z;/*!**********************************************!*\
  !*** ./packages/logrocket/src/module-npm.js ***!
  \**********************************************/var x=V("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var t=x(V("./packages/logrocket/src/setup.js")),l=(0,t.default)(),c=l;v.default=c}(),Z=Z.default,Z}()})})(zl);var Ug=zl.exports;const Yl=Tr(Ug);Yl.init("1wjjv9/postapoc");Yl.identify("user",{name:"Generic User"});const Vg={type:be.AUTO,width:800,height:600,scene:[Sv,Ng,Bg,Gg],parent:"game-container"},Xg=new be.Game(Vg);console.debug("Game started: ",Xg.isRunning);
